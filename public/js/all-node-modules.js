!function(a){function e(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return a[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var t={};return e.m=a,e.c=t,e.p="",e(0)}([function(r,e,l){(function(t){"use strict";function e(p){function l(r){var e=r[m];return e}function d(r){var e=r.data;e.target.addEventListener("readystatechange",function(){e.target.readyState===XMLHttpRequest.DONE&&(e.aborted||r.invoke())});var t=e.target[m];return t||(e.target[m]=r),o.apply(e.target,e.args),r}function n(){}function r(r){var e=r.data;return e.aborted=!0,a.apply(e.target,e.args)}var o=s.patchMethod(p.XMLHttpRequest.prototype,"send",function(){return function(o,e){var t=Zone.current;return t.scheduleMacroTask("XMLHttpRequest.send",n,{target:o,isPeriodic:!1,delay:null,args:e,aborted:!1},d,r)}}),a=s.patchMethod(p.XMLHttpRequest.prototype,"abort",function(){return function(t){var e=l(t);if(e&&"string"==typeof e.type){if(null==e.cancelFn)return;e.zone.cancelTask(e)}}})}l(1);var n=l(2),r=l(4),o=l(5),a=l(6),i=l(8),s=l(3),c=["alert","prompt","confirm"],p="undefined"==typeof window?t:window;i.patchTimer(p,"set","clear","Timeout"),i.patchTimer(p,"set","clear","Interval"),i.patchTimer(p,"set","clear","Immediate"),i.patchTimer(p,"request","cancelMacroTask","AnimationFrame"),i.patchTimer(p,"mozRequest","mozCancel","AnimationFrame"),i.patchTimer(p,"webkitRequest","webkitCancel","AnimationFrame");for(var u=0,y;u<c.length;u++)y=c[u],s.patchMethod(p,y,function(o,e,a){return function(e,t){return Zone.current.run(o,p,t,a)}});n.eventTargetPatch(p),a.propertyDescriptorPatch(p),s.patchClass("MutationObserver"),s.patchClass("WebKitMutationObserver"),s.patchClass("FileReader"),r.propertyPatch(),o.registerElementPatch(p),e(p);var m=s.zoneSymbol("xhrTask");p.navigator&&p.navigator.geolocation&&s.patchPrototype(p.navigator.geolocation,["getCurrentPosition","watchPosition"])}).call(e,function(){return this}())},function(t,e){(function(t){(function(x){function A(t){return"__zone_symbol__"+t}function t(){F||h||0!=v.length||(x[f]?x[f].resolve(0)[y](r):x[c](r,0))}function e(r){t(),v.push(r)}function R(r){var e=r&&r.rejection;e&&console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",r.zone.name,"; Task:",r.task&&r.task.source,"; Value:",e),console.error(r)}function r(){if(!k){for(k=!0;v.length;){var r=v;v=[];for(var e=0,o;e<r.length;e++){o=r[e];try{o.zone.runTask(o,null,null)}catch(e){R(e)}}}for(;V.length;){var s=V;V=[];for(var a=function(r){var e=s[r];try{e.zone.runGuarded(function(){throw e})}catch(e){R(e)}},e=0;e<s.length;e++)a(e)}k=!1,F=!1}}function N(t){return t&&t.then}function i(t){return t}function s(t){return C.reject(t)}function n(r,e){return function(t){u(r,e,t)}}function u(i,e,d){if(i[U]===P)if(d instanceof C&&d[U]!==P)l(d),u(i,d[U],d[S]);else if(N(d))d.then(n(i,e),n(i,!1));else{i[U]=e;var r=i[S];i[S]=d;for(var o=0;o<r.length;)p(i,r[o++],r[o++],r[o++],r[o++]);if(0==r.length&&e==O){i[U]=B;try{throw new Error("Uncaught (in promise): "+d)}catch(e){var y=e;y.rejection=d,y.promise=i,y.zone=a.current,y.task=a.currentTask,V.push(y),t()}}}return i}function l(r){if(r[U]===B){r[U]=O;for(var e=0;e<V.length;e++)if(r===V[e].promise){V.splice(e,1);break}}}function p(p,e,t,n,r){l(p);var o=p[U]?n||i:r||s;e.scheduleMicroTask(E,function(){try{u(t,!0,e.run(o,null,[p[S]]))}catch(e){u(t,!1,e)}})}var a=function(){function t(r,e){this._properties=null,this._parent=r,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,e)}return Object.defineProperty(t,"current",{get:function(){return g},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentTask",{get:function(){return h},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.get=function(r){for(var e=this;e;){if(e._properties.hasOwnProperty(r))return e._properties[r];e=e._parent}},t.prototype.fork=function(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)},t.prototype.wrap=function(o,e){if("function"!=typeof o)throw new Error("Expecting function got: "+o);var t=this._zoneDelegate.intercept(this,o,e),n=this;return function(){return n.runGuarded(t,this,arguments,e)}},t.prototype.run=function(a,e,i,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=null);var p=g;g=this;try{return this._zoneDelegate.invoke(this,a,e,i,s)}finally{g=p}},t.prototype.runGuarded=function(a,e,i,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=null);var p=g;g=this;try{try{return this._zoneDelegate.invoke(this,a,e,i,s)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{g=p}},t.prototype.runTask=function(a,e,t){if(a.runCount++,a.zone!=this)throw new Error("A task can only be run in the zone which created it! (Creation: "+a.zone.name+"; Execution: "+this.name+")");var n=h;h=a;var r=g;g=this;try{"macroTask"==a.type&&a.data&&!a.data.isPeriodic&&(a.cancelFn=null);try{return this._zoneDelegate.invokeTask(this,a,e,t)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{g=r,h=n}},t.prototype.scheduleMicroTask=function(o,e,t,n){return this._zoneDelegate.scheduleTask(this,new d("microTask",this,o,e,t,n,null))},t.prototype.scheduleMacroTask=function(a,e,t,n,r){return this._zoneDelegate.scheduleTask(this,new d("macroTask",this,a,e,t,n,r))},t.prototype.scheduleEventTask=function(a,e,t,n,r){return this._zoneDelegate.scheduleTask(this,new d("eventTask",this,a,e,t,n,r))},t.prototype.cancelTask=function(r){var e=this._zoneDelegate.cancelTask(this,r);return r.runCount=-1,r.cancelFn=null,e},t.__symbol__=A,t}(),o=function(){function t(r,e,t){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=r,this._parentDelegate=e,this._forkZS=t&&(t&&t.onFork?t:e._forkZS),this._forkDlgt=t&&(t.onFork?e:e._forkDlgt),this._interceptZS=t&&(t.onIntercept?t:e._interceptZS),this._interceptDlgt=t&&(t.onIntercept?e:e._interceptDlgt),this._invokeZS=t&&(t.onInvoke?t:e._invokeZS),this._invokeDlgt=t&&(t.onInvoke?e:e._invokeDlgt),this._handleErrorZS=t&&(t.onHandleError?t:e._handleErrorZS),this._handleErrorDlgt=t&&(t.onHandleError?e:e._handleErrorDlgt),this._scheduleTaskZS=t&&(t.onScheduleTask?t:e._scheduleTaskZS),this._scheduleTaskDlgt=t&&(t.onScheduleTask?e:e._scheduleTaskDlgt),this._invokeTaskZS=t&&(t.onInvokeTask?t:e._invokeTaskZS),this._invokeTaskDlgt=t&&(t.onInvokeTask?e:e._invokeTaskDlgt),this._cancelTaskZS=t&&(t.onCancelTask?t:e._cancelTaskZS),this._cancelTaskDlgt=t&&(t.onCancelTask?e:e._cancelTaskDlgt),this._hasTaskZS=t&&(t.onHasTask?t:e._hasTaskZS),this._hasTaskDlgt=t&&(t.onHasTask?e:e._hasTaskDlgt)}return t.prototype.fork=function(r,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,r,e):new a(r,e)},t.prototype.intercept=function(r,e,t){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this.zone,r,e,t):e},t.prototype.invoke=function(a,e,t,n,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this.zone,a,e,t,n,r):e.apply(t,n)},t.prototype.handleError=function(r,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this.zone,r,e)},t.prototype.scheduleTask=function(r,o){try{if(this._scheduleTaskZS)return this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this.zone,r,o);if(o.scheduleFn)o.scheduleFn(o);else{if("microTask"!=o.type)throw new Error("Task is missing scheduleFn.");e(o)}return o}finally{r==this.zone&&this._updateTaskCount(o.type,1)}},t.prototype.invokeTask=function(o,e,t,n){try{return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this.zone,o,e,t,n):e.callback.apply(t,n)}finally{o!=this.zone||"eventTask"==e.type||e.data&&e.data.isPeriodic||this._updateTaskCount(e.type,-1)}},t.prototype.cancelTask=function(r,e){var t;if(this._cancelTaskZS)t=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this.zone,r,e);else{if(!e.cancelFn)throw new Error("Task does not support cancellation, or is already canceled.");t=e.cancelFn(e)}return r==this.zone&&this._updateTaskCount(e.type,-1),t},t.prototype.hasTask=function(r,e){return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this.zone,r,e)},t.prototype._updateTaskCount=function(i,e){var t=this._taskCounts,n=t[i],r=t[i]=n+e;if(0>r)throw new Error("More tasks executed then were scheduled.");if(0==n||0==r){var o={microTask:0<t.microTask,macroTask:0<t.macroTask,eventTask:0<t.eventTask,change:i};try{this.hasTask(this.zone,o)}finally{this._parentDelegate&&this._parentDelegate._updateTaskCount(i,e)}}},t}(),d=function(){function t(a,e,t,n,p,o,i){this.runCount=0,this.type=a,this.zone=e,this.source=t,this.data=p,this.scheduleFn=o,this.cancelFn=i,this.callback=n;var s=this;this.invoke=function(){try{return e.runTask(s,this,arguments)}finally{r()}}}return t}(),c=A("setTimeout"),f=A("Promise"),y=A("then"),g=new a(null,null),h=null,v=[],k=!1,V=[],F=!1,U=A("state"),S=A("value"),E="Promise.then",P=null,O=!1,B=0,C=function(){function i(r){var e=this;e[U]=P,e[S]=[];try{r&&r(n(e,!0),n(e,!1))}catch(t){u(e,!1,t)}}return i.resolve=function(t){return u(new this(null),!0,t)},i.reject=function(t){return u(new this(null),!1,t)},i.race=function(i){function e(t){n&&(n=d(t))}function t(t){n&&(n=c(t))}for(var n=new this(function(r,e){d=r,c=e}),p=0,l=i,d,c,y;p<l.length;p++)y=l[p],N(y)||(y=this.resolve(y)),y.then(e,t);return n},i.all=function(i){function e(t){p&&m(t),p=null}for(var p=new this(function(r,e){u=r,m=e}),d=0,y=[],t=0,s=i,u,m,g;t<s.length;t++)g=s[t],N(g)||(g=this.resolve(g)),g.then(function(r){return function(e){y[r]=e,d--,p&&!d&&u(y)}}(d),e),d++;return d||u(y),p},i.prototype.then=function(e,t){var n=new i(null),r=a.current;return this[U]==P?this[S].push(r,n,e,t):p(this,r,n,e,t),n},i.prototype["catch"]=function(t){return this.then(null,t)},i}(),M=x[A("Promise")]=x.Promise;if(x.Promise=C,M){var I=M.prototype,j=I[A("then")]=I.then;I.then=function(r,e){var o=this;return new C(function(r,e){j.call(o,r,e)}).then(r,e)}}return x.Zone=a})("undefined"==typeof window?t:window)}).call(e,function(){return this}())},function(s,e,p){"use strict";function t(i){var e=[],p=i.wtf;p?e=r.split(",").map(function(t){return"HTML"+t+"Element"}).concat(o):i[a]?e.push(a):e=o;for(var l=0,d;l<e.length;l++)d=i[e[l]],n.patchEventTargetMethods(d&&d.prototype)}var n=p(3),r="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",o=["ApplicationCache","EventSource","FileReader","InputMethodContext","MediaController","MessagePort","Node","Performance","SVGElementInstance","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebKitNamedFlow","Worker","WorkerGlobalScope","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","DBIndex"],a="EventTarget";e.eventTargetPatch=t},function(t,p){(function(y){"use strict";function g(r,e){for(var t=r.length-1;0<=t;t--)"function"==typeof r[t]&&(r[t]=Zone.current.wrap(r[t],e+"_"+t));return r}function e(t,e){for(var n=t.constructor.name,r=function(r){var o=e[r],a=t[o];a&&(t[o]=function(t){return function(){return t.apply(this,g(arguments,n+"."+o))}}(a))},o=0;o<e.length;o++)r(o)}function h(a,e){var t=Object.getOwnPropertyDescriptor(a,e)||{enumerable:!0,configurable:!0};delete t.writable,delete t.value;var n=e.substr(2),r="_"+e;t.set=function(o){if(this[r]&&this.removeEventListener(n,this[r]),"function"==typeof o){var e=function(e){var t;t=o.apply(this,arguments),null==t||t||e.preventDefault()};this[r]=e,this.addEventListener(n,e,!1)}else this[r]=null},t.get=function(){return this[r]},Object.defineProperty(a,e,t)}function t(r,e){var t=[];for(var n in r)"on"==n.substr(0,2)&&t.push(n);for(var o=0;o<t.length;o++)h(r,t[o]);if(e)for(var s=0;s<e.length;s++)h(r,"on"+e[s])}function _(p,e,t,n,r){var o=p[d];if(o)for(var a=0;a<o.length;a++){var l=o[a],s=l.data;if(s.handler===e&&s.useCapturing===n&&s.eventName===t)return r&&o.splice(a,1),l}return null}function r(r,e){var t=r[d];t||(t=r[d]=[]),t.push(e)}function a(o){var e=o.data;return r(e.target,o),e.target[v](e.eventName,o.invoke,e.useCapturing)}function s(r){var e=r.data;_(e.target,r.invoke,e.eventName,e.useCapturing,!0),e.target[u](e.eventName,r.invoke,e.useCapturing)}function o(p,e){var t=e[0],n=e[1],r=e[2]||!1,o=p||c,i=null;"function"==typeof n?i=n:n&&n.handleEvent&&(i=function(t){return n.handleEvent(t)});var y=!1;try{y=n&&"[object FunctionWrapper]"===n.toString()}catch(e){return}if(!i||y)return o[v](t,n,r);var m=_(o,n,t,r,!1);if(m)return o[v](t,m.invoke,r);var g=Zone.current,f=o.constructor.name+".addEventListener:"+t;g.scheduleEventTask(f,i,{target:o,eventName:t,name:t,useCapturing:r,handler:n},a,s)}function n(a,e){var t=e[0],n=e[1],r=e[2]||!1,o=a||c,i=_(o,n,t,r,!0);i?i.zone.cancelTask(i):o[u](t,n,r)}function i(r,e){try{return Function("f","return function "+r+"(){return f(this, arguments)}")(e)}catch(t){return function(){return e(this,arguments)}}}function l(s,e,t){for(var n=s;n&&!n.hasOwnProperty(e);)n=Object.getPrototypeOf(n);!n&&s[e]&&(n=s);var l=p.zoneSymbol(e),a;return n&&!(a=n[l])&&(a=n[l]=n[e],n[e]=i(e,t(a,l,e))),a}p.zoneSymbol=Zone.__symbol__;var c="undefined"==typeof window?y:window;p.bindArguments=g,p.patchPrototype=e,p.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,p.isNode="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),p.isBrowser=!p.isNode&&!p.isWebWorker&&"undefined"!=typeof window&&window.HTMLElement,p.patchProperty=h,p.patchOnProperties=t;var d=p.zoneSymbol("eventTasks"),v=p.zoneSymbol("addEventListener"),u=p.zoneSymbol("removeEventListener");p.patchEventTargetMethods=function(t){return!!(t&&t.addEventListener)&&(l(t,"addEventListener",function(){return o}),l(t,"removeEventListener",function(){return n}),!0)};var m=p.zoneSymbol("originalInstance");p.patchClass=function(a){var e=c[a];if(e){c[a]=function(){var t=g(arguments,a);switch(t.length){case 0:this[m]=new e;break;case 1:this[m]=new e(t[0]);break;case 2:this[m]=new e(t[0],t[1]);break;case 3:this[m]=new e(t[0],t[1],t[2]);break;case 4:this[m]=new e(t[0],t[1],t[2],t[3]);break;default:throw new Error("Arg list too long.");}};var n=new e(function(){}),t;for(t in n)!function(e){"function"==typeof n[e]?c[a].prototype[e]=function(){return this[m][e].apply(this[m],arguments)}:Object.defineProperty(c[a].prototype,e,{set:function(t){this[m][e]="function"==typeof t?Zone.current.wrap(t,a+"."+e):t},get:function(){return this[m][e]}})}(t);for(t in e)"prototype"!==t&&e.hasOwnProperty(t)&&(c[a][t]=e[t])}},p.createNamedFn=i,p.patchMethod=l}).call(p,function(){return this}())},function(r,e,n){"use strict";function p(r,e){return r&&r[d]&&r[d][e]}function o(r,e,t){return t.configurable=!0,t.configurable||(r[d]||a(r,d,{writable:!0,value:{}}),r[d][e]=!0),t}var t=n(3),a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.create,d=t.zoneSymbol("unconfigurables");e.propertyPatch=function(){Object.defineProperty=function(r,e,t){if(p(r,e))throw new TypeError("Cannot assign to read only property '"+e+"' of "+r);return"prototype"!==e&&(t=o(r,e,t)),a(r,e,t)},Object.defineProperties=function(r,e){return Object.keys(e).forEach(function(t){Object.defineProperty(r,t,e[t])}),r},Object.create=function(r,e){return"object"==typeof e&&Object.keys(e).forEach(function(t){e[t]=o(r,t,e[t])}),s(r,e)},Object.getOwnPropertyDescriptor=function(r,e){var t=i(r,e);return p(r,e)&&(t.configurable=!1),t}},e._redefineProperty=function(r,e,t){return t=o(r,e,t),a(r,e,t)}},function(a,e,i){"use strict";function t(o){if(r.isBrowser&&"registerElement"in o.document){var a=document.registerElement,t=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(r,i){return i&&i.prototype&&t.forEach(function(r){var e="Document.registerElement::"+r;if(i.prototype.hasOwnProperty(r)){var t=Object.getOwnPropertyDescriptor(i.prototype,r);t&&t.value?(t.value=Zone.current.wrap(t.value,e),s._redefineProperty(i.prototype,r,t)):i.prototype[r]=Zone.current.wrap(i.prototype[r],e)}else i.prototype[r]&&(i.prototype[r]=Zone.current.wrap(i.prototype[r],e))}),a.apply(document,[r,i])}}}var s=i(4),r=i(3);e.registerElementPatch=t},function(n,e,p){"use strict";function l(){if(a.isBrowser&&!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var r=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(r&&!r.configurable)return!1}Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{get:function(){return!0}});var e=new XMLHttpRequest,t=!!e.onreadystatechange;return Object.defineProperty(XMLHttpRequest.prototype,"onreadystatechange",{}),t}function r(){for(var r=function(r){var e=i[r],a="on"+e;document.addEventListener(e,function(n){var e=n.target,i,p;for(p=e?e.constructor.name+"."+a:"unknown."+a;e;)e[a]&&!e[a][s]&&(i=Zone.current.wrap(e[a],p),i[s]=e[a],e[a]=i),e=e.parentElement},!0)},e=0;e<i.length;e++)r(e)}var o=p(7),a=p(3),i=["copy","cut","paste","abort","blur","focus","canplay","canplaythrough","change","click","contextmenu","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","pause","play","playing","progress","ratechange","reset","scroll","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","mozfullscreenchange","mozfullscreenerror","mozpointerlockchange","mozpointerlockerror","error","webglcontextrestored","webglcontextlost","webglcontextcreationerror"];e.propertyDescriptorPatch=function(n){if(!a.isNode){var e="undefined"!=typeof WebSocket;l()?(a.isBrowser&&a.patchOnProperties(HTMLElement.prototype,i),a.patchOnProperties(XMLHttpRequest.prototype,null),"undefined"!=typeof IDBIndex&&(a.patchOnProperties(IDBIndex.prototype,null),a.patchOnProperties(IDBRequest.prototype,null),a.patchOnProperties(IDBOpenDBRequest.prototype,null),a.patchOnProperties(IDBDatabase.prototype,null),a.patchOnProperties(IDBTransaction.prototype,null),a.patchOnProperties(IDBCursor.prototype,null)),e&&a.patchOnProperties(WebSocket.prototype,null)):(r(),a.patchClass("XMLHttpRequest"),e&&o.apply(n))}};var s=a.zoneSymbol("unbound")},function(o,e,a){"use strict";function t(r){var p=r.WebSocket;for(var e in r.EventTarget||s.patchEventTargetMethods(p.prototype),r.WebSocket=function(t,e){var r=1<arguments.length?new p(t,e):new p(t),n=Object.getOwnPropertyDescriptor(r,"onmessage"),a;return n&&!1===n.configurable?(a=Object.create(r),["addEventListener","removeEventListener","send","close"].forEach(function(t){a[t]=function(){return r[t].apply(r,arguments)}})):a=r,s.patchOnProperties(a,["close","error","message","open"]),a},p)r.WebSocket[e]=p[e]}var s=a(3);e.apply=t},function(o,e,a){"use strict";function t(l,e,r,d){function o(e){var t=e.data;return t.args[0]=e.invoke,t.handleId=i.apply(l,t.args),e}function a(t){return u(t.data.handleId)}var i=null,u=null;e+=d,r+=d,i=p.patchMethod(l,e,function(t){return function(n,r){if("function"==typeof r[0]){var i=Zone.current,s={handleId:null,isPeriodic:"Interval"===d,delay:"Timeout"===d||"Interval"===d?r[1]||0:null,args:r};return i.scheduleMacroTask(e,r[0],s,o,a)}return t.apply(l,r)}}),u=p.patchMethod(l,r,function(e){return function(t,n){var r=n[0];r&&"string"==typeof r.type?(r.cancelFn&&r.data.isPeriodic||0===r.runCount)&&r.zone.cancelTask(r):e.apply(l,n)}})}var p=a(3);e.patchTimer=t}]);(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.Rx=e()}})(function(){return function p(d,e,t){function r(i,o){if(!e[i]){if(!d[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(n)return n(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var c=e[i]={exports:{}};d[i][0].call(c.exports,function(t){var e=d[i][1][t];return r(e?e:t)},c,c.exports,p,d,e,t)}return e[i].exports}for(var n="function"==typeof require&&require,a=0;a<t.length;a++)r(t[a]);return r}({1:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./Subject"),a=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1}return o(t,e),t.prototype._subscribe=function(t){return this.hasCompleted&&this.hasNext&&t.next(this.value),e.prototype._subscribe.call(this,t)},t.prototype._next=function(e){this.value=e,this.hasNext=!0},t.prototype._complete=function(){var e=-1,t=this.observers,r=t.length;if(this.isUnsubscribed=!0,this.hasNext)for(;++e<r;){var n=t[e];n.next(this.value),n.complete()}else for(;++e<r;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},t}(n.Subject);r.AsyncSubject=a},{"./Subject":11}],2:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./Subject"),a=e("./util/throwError"),i=e("./util/ObjectUnsubscribedError"),s=function(e){function t(t){e.call(this),this._value=t}return o(t,e),t.prototype.getValue=function(){if(this.hasErrored)a.throwError(this.errorValue);else if(this.isUnsubscribed)a.throwError(new i.ObjectUnsubscribedError);else return this._value},Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.isUnsubscribed&&t.next(this._value),r},t.prototype._next=function(t){e.prototype._next.call(this,this._value=t)},t.prototype._error=function(t){this.hasErrored=!0,e.prototype._error.call(this,this.errorValue=t)},t}(n.Subject);r.BehaviorSubject=s},{"./Subject":11,"./util/ObjectUnsubscribedError":259,"./util/throwError":273}],3:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./Subscriber"),a=function(e){function t(t,r,o){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=o,this.index=0}return o(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n.Subscriber);r.InnerSubscriber=a},{"./Subscriber":13}],4:[function(e,t,r){"use strict";var o=e("./Observable"),n=function(){function e(e,t,r){this.kind=e,this.value=t,this.exception=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.exception);case"C":return e.complete&&e.complete();}},e.prototype.do=function(e,t,r){var o=this.kind;return"N"===o?e&&e(this.value):"E"===o?t&&t(this.exception):"C"===o?r&&r():void 0},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this.kind;return"N"===e?o.Observable.of(this.value):"E"===e?o.Observable.throw(this.exception):"C"===e?o.Observable.empty():void 0},e.createNext=function(t){return"undefined"==typeof t?this.undefinedValueNotification:new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return this.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();r.Notification=n},{"./Observable":5}],5:[function(e,t,r){"use strict";var o=e("./util/root"),n=e("./symbol/observable"),a=e("./util/toSubscriber"),i=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o=this.operator,n=a.toSubscriber(e,t,r);if(n.add(o?o.call(n,this):this._subscribe(n)),n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},e.prototype.forEach=function(e,t){var r=this;if(t||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?t=o.root.Rx.config.Promise:o.root.Promise&&(t=o.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,o){var n=r.subscribe(function(t){if(n)try{e(t)}catch(e){o(e),n.unsubscribe()}else e(t)},o,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[n.$$observable]=function(){return this},e.create=function(t){return new e(t)},e}();r.Observable=i},{"./symbol/observable":251,"./util/root":271,"./util/toSubscriber":274}],6:[function(e,t,r){"use strict";r.empty={isUnsubscribed:!0,next:function(){},error:function(e){throw e},complete:function(){}}},{}],7:[function(e,t,r){"use strict";var o=e("./Subscriber"),n=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new o.Subscriber(e))},e}();r.Operator=n},{"./Subscriber":13}],8:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./Subscriber"),a=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.notifyNext=function(e,t){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(n.Subscriber);r.OuterSubscriber=a},{"./Subscriber":13}],9:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./Subject"),a=e("./scheduler/queue"),i=e("./operator/observeOn"),s=function(e){function t(t,r,o){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.events=[],this.scheduler=o,this.bufferSize=1>t?1:t,this._windowTime=1>r?1:r}return o(t,e),t.prototype._next=function(t){var r=this._getNow();this.events.push(new p(r,t)),this._trimBufferThenGetEvents(r),e.prototype._next.call(this,t)},t.prototype._subscribe=function(t){var r=this._trimBufferThenGetEvents(this._getNow()),o=this.scheduler;o&&t.add(t=new i.ObserveOnSubscriber(t,o));for(var n=-1,a=r.length;++n<a&&!t.isUnsubscribed;)t.next(r[n].value);return e.prototype._subscribe.call(this,t)},t.prototype._getNow=function(){return(this.scheduler||a.queue).now()},t.prototype._trimBufferThenGetEvents=function(e){for(var t=this.bufferSize,r=this._windowTime,o=this.events,n=o.length,a=0;a<n&&!(e-o[a].time<r);)a+=1;return n>t&&(a=Math.max(a,n-t)),0<a&&o.splice(0,a),o},t}(n.Subject);r.ReplaySubject=s;var p=function(){return function(e,t){this.time=e,this.value=t}}()},{"./Subject":11,"./operator/observeOn":198,"./scheduler/queue":249}],10:[function(e,t,r){"use strict";var o=e("./Subject");r.Subject=o.Subject;var n=e("./Observable");r.Observable=n.Observable,e("./add/observable/bindCallback"),e("./add/observable/bindNodeCallback"),e("./add/observable/combineLatest"),e("./add/observable/concat"),e("./add/observable/defer"),e("./add/observable/empty"),e("./add/observable/forkJoin"),e("./add/observable/from"),e("./add/observable/fromEvent"),e("./add/observable/fromEventPattern"),e("./add/observable/fromPromise"),e("./add/observable/interval"),e("./add/observable/merge"),e("./add/observable/race"),e("./add/observable/never"),e("./add/observable/of"),e("./add/observable/range"),e("./add/observable/throw"),e("./add/observable/timer"),e("./add/observable/zip"),e("./add/operator/buffer"),e("./add/operator/bufferCount"),e("./add/operator/bufferTime"),e("./add/operator/bufferToggle"),e("./add/operator/bufferWhen"),e("./add/operator/cache"),e("./add/operator/catch"),e("./add/operator/combineAll"),e("./add/operator/combineLatest"),e("./add/operator/concat"),e("./add/operator/concatAll"),e("./add/operator/concatMap"),e("./add/operator/concatMapTo"),e("./add/operator/count"),e("./add/operator/dematerialize"),e("./add/operator/debounce"),e("./add/operator/debounceTime"),e("./add/operator/defaultIfEmpty"),e("./add/operator/delay"),e("./add/operator/delayWhen"),e("./add/operator/distinctUntilChanged"),e("./add/operator/do"),e("./add/operator/expand"),e("./add/operator/filter"),e("./add/operator/finally"),e("./add/operator/first"),e("./add/operator/groupBy"),e("./add/operator/ignoreElements"),e("./add/operator/audit"),e("./add/operator/auditTime"),e("./add/operator/last"),e("./add/operator/let"),e("./add/operator/every"),e("./add/operator/map"),e("./add/operator/mapTo"),e("./add/operator/materialize"),e("./add/operator/merge"),e("./add/operator/mergeAll"),e("./add/operator/mergeMap"),e("./add/operator/mergeMapTo"),e("./add/operator/multicast"),e("./add/operator/observeOn"),e("./add/operator/partition"),e("./add/operator/pluck"),e("./add/operator/publish"),e("./add/operator/publishBehavior"),e("./add/operator/publishReplay"),e("./add/operator/publishLast"),e("./add/operator/race"),e("./add/operator/reduce"),e("./add/operator/repeat"),e("./add/operator/retry"),e("./add/operator/retryWhen"),e("./add/operator/sample"),e("./add/operator/sampleTime"),e("./add/operator/scan"),e("./add/operator/share"),e("./add/operator/single"),e("./add/operator/skip"),e("./add/operator/skipUntil"),e("./add/operator/skipWhile"),e("./add/operator/startWith"),e("./add/operator/subscribeOn"),e("./add/operator/switch"),e("./add/operator/switchMap"),e("./add/operator/switchMapTo"),e("./add/operator/take"),e("./add/operator/takeLast"),e("./add/operator/takeUntil"),e("./add/operator/takeWhile"),e("./add/operator/throttle"),e("./add/operator/throttleTime"),e("./add/operator/timeout"),e("./add/operator/timeoutWith"),e("./add/operator/toArray"),e("./add/operator/toPromise"),e("./add/operator/window"),e("./add/operator/windowCount"),e("./add/operator/windowTime"),e("./add/operator/windowToggle"),e("./add/operator/windowWhen"),e("./add/operator/withLatestFrom"),e("./add/operator/zip"),e("./add/operator/zipAll");var a=e("./Operator");r.Operator=a.Operator;var i=e("./Subscription");r.Subscription=i.Subscription;var s=e("./Subscriber");r.Subscriber=s.Subscriber;var p=e("./AsyncSubject");r.AsyncSubject=p.AsyncSubject;var l=e("./ReplaySubject");r.ReplaySubject=l.ReplaySubject;var d=e("./BehaviorSubject");r.BehaviorSubject=d.BehaviorSubject;var c=e("./observable/ConnectableObservable");r.ConnectableObservable=c.ConnectableObservable;var u=e("./Notification");r.Notification=u.Notification;var y=e("./util/EmptyError");r.EmptyError=y.EmptyError;var m=e("./util/ArgumentOutOfRangeError");r.ArgumentOutOfRangeError=m.ArgumentOutOfRangeError;var g=e("./util/ObjectUnsubscribedError");r.ObjectUnsubscribedError=g.ObjectUnsubscribedError;var f=e("./util/UnsubscriptionError");r.UnsubscriptionError=f.UnsubscriptionError;var h=e("./scheduler/asap"),b=e("./scheduler/async"),_=e("./scheduler/queue"),v=e("./symbol/rxSubscriber"),S=e("./symbol/observable"),C=e("./symbol/iterator"),E={asap:h.asap,async:b.async,queue:_.queue};r.Scheduler=E;var x={rxSubscriber:v.$$rxSubscriber,observable:S.$$observable,iterator:C.$$iterator};r.Symbol=x},{"./AsyncSubject":1,"./BehaviorSubject":2,"./Notification":4,"./Observable":5,"./Operator":7,"./ReplaySubject":9,"./Subject":11,"./Subscriber":13,"./Subscription":14,"./add/observable/bindCallback":15,"./add/observable/bindNodeCallback":16,"./add/observable/combineLatest":17,"./add/observable/concat":18,"./add/observable/defer":19,"./add/observable/empty":20,"./add/observable/forkJoin":21,"./add/observable/from":22,"./add/observable/fromEvent":23,"./add/observable/fromEventPattern":24,"./add/observable/fromPromise":25,"./add/observable/interval":26,"./add/observable/merge":27,"./add/observable/never":28,"./add/observable/of":29,"./add/observable/race":30,"./add/observable/range":31,"./add/observable/throw":32,"./add/observable/timer":33,"./add/observable/zip":34,"./add/operator/audit":35,"./add/operator/auditTime":36,"./add/operator/buffer":37,"./add/operator/bufferCount":38,"./add/operator/bufferTime":39,"./add/operator/bufferToggle":40,"./add/operator/bufferWhen":41,"./add/operator/cache":42,"./add/operator/catch":43,"./add/operator/combineAll":44,"./add/operator/combineLatest":45,"./add/operator/concat":46,"./add/operator/concatAll":47,"./add/operator/concatMap":48,"./add/operator/concatMapTo":49,"./add/operator/count":50,"./add/operator/debounce":51,"./add/operator/debounceTime":52,"./add/operator/defaultIfEmpty":53,"./add/operator/delay":54,"./add/operator/delayWhen":55,"./add/operator/dematerialize":56,"./add/operator/distinctUntilChanged":57,"./add/operator/do":58,"./add/operator/every":59,"./add/operator/expand":60,"./add/operator/filter":61,"./add/operator/finally":62,"./add/operator/first":63,"./add/operator/groupBy":64,"./add/operator/ignoreElements":65,"./add/operator/last":66,"./add/operator/let":67,"./add/operator/map":68,"./add/operator/mapTo":69,"./add/operator/materialize":70,"./add/operator/merge":71,"./add/operator/mergeAll":72,"./add/operator/mergeMap":73,"./add/operator/mergeMapTo":74,"./add/operator/multicast":75,"./add/operator/observeOn":76,"./add/operator/partition":77,"./add/operator/pluck":78,"./add/operator/publish":79,"./add/operator/publishBehavior":80,"./add/operator/publishLast":81,"./add/operator/publishReplay":82,"./add/operator/race":83,"./add/operator/reduce":84,"./add/operator/repeat":85,"./add/operator/retry":86,"./add/operator/retryWhen":87,"./add/operator/sample":88,"./add/operator/sampleTime":89,"./add/operator/scan":90,"./add/operator/share":91,"./add/operator/single":92,"./add/operator/skip":93,"./add/operator/skipUntil":94,"./add/operator/skipWhile":95,"./add/operator/startWith":96,"./add/operator/subscribeOn":97,"./add/operator/switch":98,"./add/operator/switchMap":99,"./add/operator/switchMapTo":100,"./add/operator/take":101,"./add/operator/takeLast":102,"./add/operator/takeUntil":103,"./add/operator/takeWhile":104,"./add/operator/throttle":105,"./add/operator/throttleTime":106,"./add/operator/timeout":107,"./add/operator/timeoutWith":108,"./add/operator/toArray":109,"./add/operator/toPromise":110,"./add/operator/window":111,"./add/operator/windowCount":112,"./add/operator/windowTime":113,"./add/operator/windowToggle":114,"./add/operator/windowWhen":115,"./add/operator/withLatestFrom":116,"./add/operator/zip":117,"./add/operator/zipAll":118,"./observable/ConnectableObservable":123,"./scheduler/asap":247,"./scheduler/async":248,"./scheduler/queue":249,"./symbol/iterator":250,"./symbol/observable":251,"./symbol/rxSubscriber":252,"./util/ArgumentOutOfRangeError":253,"./util/EmptyError":254,"./util/ObjectUnsubscribedError":259,"./util/UnsubscriptionError":260}],11:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./Observable"),a=e("./Subscriber"),i=e("./Subscription"),s=e("./SubjectSubscription"),p=e("./symbol/rxSubscriber"),l=e("./util/throwError"),d=e("./util/ObjectUnsubscribedError"),c=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1,this.source=r}return o(t,e),t.prototype.lift=function(e){var r=new t(this.destination||this,this);return r.operator=e,r},t.prototype.add=function(e){return i.Subscription.prototype.add.call(this,e)},t.prototype.remove=function(e){i.Subscription.prototype.remove.call(this,e)},t.prototype.unsubscribe=function(){i.Subscription.prototype.unsubscribe.call(this)},t.prototype._subscribe=function(e){if(this.source)return this.source.subscribe(e);if(!e.isUnsubscribed){if(this.hasErrored)return e.error(this.errorValue);if(this.hasCompleted)return e.complete();this.throwIfUnsubscribed();var t=new s.SubjectSubscription(this,e);return this.observers.push(e),t}},t.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},t.prototype.next=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(e),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},t.prototype.error=function(e){(this.throwIfUnsubscribed(),!this.isStopped)&&(this.isStopped=!0,this.hasErrored=!0,this.errorValue=e,this.dispatching||this._error(e))},t.prototype.complete=function(){(this.throwIfUnsubscribed(),!this.isStopped)&&(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},t.prototype.asObservable=function(){var e=new u(this);return e},t.prototype._next=function(e){this.destination?this.destination.next(e):this._finalNext(e)},t.prototype._finalNext=function(e){for(var t=-1,r=this.observers.slice(0),o=r.length;++t<o;)r[t].next(e)},t.prototype._error=function(e){this.destination?this.destination.error(e):this._finalError(e)},t.prototype._finalError=function(e){var t=-1,r=this.observers;if(this.observers=null,this.isUnsubscribed=!0,r)for(var o=r.length;++t<o;)r[t].error(e);this.isUnsubscribed=!1,this.unsubscribe()},t.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},t.prototype._finalComplete=function(){var e=-1,t=this.observers;if(this.observers=null,this.isUnsubscribed=!0,t)for(var r=t.length;++e<r;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},t.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&l.throwError(new d.ObjectUnsubscribedError)},t.prototype[p.$$rxSubscriber]=function(){return new a.Subscriber(this)},t.create=function(e,r){return new t(e,r)},t}(n.Observable);r.Subject=c;var u=function(e){function t(t){e.call(this),this.source=t}return o(t,e),t}(n.Observable)},{"./Observable":5,"./SubjectSubscription":12,"./Subscriber":13,"./Subscription":14,"./symbol/rxSubscriber":252,"./util/ObjectUnsubscribedError":259,"./util/throwError":273}],12:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./Subscription"),a=function(e){function t(t,r){e.call(this),this.subject=t,this.observer=r,this.isUnsubscribed=!1}return o(t,e),t.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isUnsubscribed){var r=t.indexOf(this.observer);-1!==r&&t.splice(r,1)}}},t}(n.Subscription);r.SubjectSubscription=a},{"./Subscription":14}],13:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./util/isFunction"),a=e("./Subscription"),i=e("./symbol/rxSubscriber"),s=e("./Observer"),p=function(e){function t(r,o,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!r){this.destination=s.empty;break}if("object"==typeof r){r instanceof t?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,r,o,n);}}return o(t,e),t.create=function(e,r,o){var n=new t(e,r,o);return n.syncErrorThrowable=!1,n},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype[i.$$rxSubscriber]=function(){return this},t}(a.Subscription);r.Subscriber=p;var l=function(e){function t(t,r,o,a){e.call(this),this._parent=t;var i=this,s;n.isFunction(r)?s=r:r&&(i=r,s=r.next,o=r.error,a=r.complete,n.isFunction(i.unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this)),this._context=i,this._next=s,this._error=o,this._complete=a}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(!t.syncErrorThrowable)throw this.unsubscribe(),e;else t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}},t.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},t}(p)},{"./Observer":6,"./Subscription":14,"./symbol/rxSubscriber":252,"./util/isFunction":264}],14:[function(e,t,r){"use strict";var o=e("./util/isArray"),n=e("./util/isObject"),a=e("./util/isFunction"),i=e("./util/tryCatch"),s=e("./util/errorObject"),p=e("./util/UnsubscriptionError"),l=function(){function e(e){this.isUnsubscribed=!1,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e=!1,t;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var r=this,l=r._unsubscribe,d=r._subscriptions;if(this._subscriptions=null,a.isFunction(l)){var c=i.tryCatch(l).call(this);c===s.errorObject&&(e=!0,(t=t||[]).push(s.errorObject.e))}if(o.isArray(d))for(var u=-1,y=d.length,m;++u<y;)if(m=d[u],n.isObject(m)){var c=i.tryCatch(m.unsubscribe).call(m);if(c===s.errorObject){e=!0,t=t||[];var g=s.errorObject.e;g instanceof p.UnsubscriptionError?t=t.concat(g.errors):t.push(g)}}if(e)throw new p.UnsubscriptionError(t)}},e.prototype.add=function(t){if(t&&t!==this&&t!==e.EMPTY){var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.isUnsubscribed||"function"!=typeof r.unsubscribe)break;else this.isUnsubscribed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("Unrecognized teardown "+t+" added to Subscription.");}return r}},e.prototype.remove=function(t){if(null!=t&&t!==this&&t!==e.EMPTY){var r=this._subscriptions;if(r){var o=r.indexOf(t);-1!==o&&r.splice(o,1)}}},e.EMPTY=function(e){return e.isUnsubscribed=!0,e}(new e),e}();r.Subscription=l},{"./util/UnsubscriptionError":260,"./util/errorObject":261,"./util/isArray":262,"./util/isFunction":264,"./util/isObject":266,"./util/tryCatch":275}],15:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/bindCallback");t.Observable.bindCallback=r.bindCallback},{"../../Observable":5,"../../observable/bindCallback":139}],16:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/bindNodeCallback");t.Observable.bindNodeCallback=r.bindNodeCallback},{"../../Observable":5,"../../observable/bindNodeCallback":140}],17:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/combineLatest");t.Observable.combineLatest=r.combineLatestStatic},{"../../Observable":5,"../../operator/combineLatest":167}],18:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/concat");t.Observable.concat=r.concat},{"../../Observable":5,"../../observable/concat":141}],19:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/defer");t.Observable.defer=r.defer},{"../../Observable":5,"../../observable/defer":142}],20:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/empty");t.Observable.empty=r.empty},{"../../Observable":5,"../../observable/empty":143}],21:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/forkJoin");t.Observable.forkJoin=r.forkJoin},{"../../Observable":5,"../../observable/forkJoin":144}],22:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/from");t.Observable.from=r.from},{"../../Observable":5,"../../observable/from":145}],23:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/fromEvent");t.Observable.fromEvent=r.fromEvent},{"../../Observable":5,"../../observable/fromEvent":146}],24:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/fromEventPattern");t.Observable.fromEventPattern=r.fromEventPattern},{"../../Observable":5,"../../observable/fromEventPattern":147}],25:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/fromPromise");t.Observable.fromPromise=r.fromPromise},{"../../Observable":5,"../../observable/fromPromise":148}],26:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/interval");t.Observable.interval=r.interval},{"../../Observable":5,"../../observable/interval":149}],27:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/merge");t.Observable.merge=r.merge},{"../../Observable":5,"../../observable/merge":150}],28:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/never");t.Observable.never=r.never},{"../../Observable":5,"../../observable/never":151}],29:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/of");t.Observable.of=r.of},{"../../Observable":5,"../../observable/of":152}],30:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/race");t.Observable.race=r.raceStatic},{"../../Observable":5,"../../operator/race":205}],31:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/range");t.Observable.range=r.range},{"../../Observable":5,"../../observable/range":153}],32:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/throw");t.Observable.throw=r._throw},{"../../Observable":5,"../../observable/throw":154}],33:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/timer");t.Observable.timer=r.timer},{"../../Observable":5,"../../observable/timer":155}],34:[function(e){"use strict";var t=e("../../Observable"),r=e("../../observable/zip");t.Observable.zip=r.zip},{"../../Observable":5,"../../observable/zip":156}],35:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/audit");t.Observable.prototype.audit=r.audit},{"../../Observable":5,"../../operator/audit":157}],36:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/auditTime");t.Observable.prototype.auditTime=r.auditTime},{"../../Observable":5,"../../operator/auditTime":158}],37:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/buffer");t.Observable.prototype.buffer=r.buffer},{"../../Observable":5,"../../operator/buffer":159}],38:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/bufferCount");t.Observable.prototype.bufferCount=r.bufferCount},{"../../Observable":5,"../../operator/bufferCount":160}],39:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/bufferTime");t.Observable.prototype.bufferTime=r.bufferTime},{"../../Observable":5,"../../operator/bufferTime":161}],40:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/bufferToggle");t.Observable.prototype.bufferToggle=r.bufferToggle},{"../../Observable":5,"../../operator/bufferToggle":162}],41:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/bufferWhen");t.Observable.prototype.bufferWhen=r.bufferWhen},{"../../Observable":5,"../../operator/bufferWhen":163}],42:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/cache");t.Observable.prototype.cache=r.cache},{"../../Observable":5,"../../operator/cache":164}],43:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/catch");t.Observable.prototype.catch=r._catch},{"../../Observable":5,"../../operator/catch":165}],44:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/combineAll");t.Observable.prototype.combineAll=r.combineAll},{"../../Observable":5,"../../operator/combineAll":166}],45:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/combineLatest");t.Observable.prototype.combineLatest=r.combineLatest},{"../../Observable":5,"../../operator/combineLatest":167}],46:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/concat");t.Observable.prototype.concat=r.concat},{"../../Observable":5,"../../operator/concat":168}],47:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/concatAll");t.Observable.prototype.concatAll=r.concatAll},{"../../Observable":5,"../../operator/concatAll":169}],48:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/concatMap");t.Observable.prototype.concatMap=r.concatMap},{"../../Observable":5,"../../operator/concatMap":170}],49:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/concatMapTo");t.Observable.prototype.concatMapTo=r.concatMapTo},{"../../Observable":5,"../../operator/concatMapTo":171}],50:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/count");t.Observable.prototype.count=r.count},{"../../Observable":5,"../../operator/count":172}],51:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/debounce");t.Observable.prototype.debounce=r.debounce},{"../../Observable":5,"../../operator/debounce":173}],52:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/debounceTime");t.Observable.prototype.debounceTime=r.debounceTime},{"../../Observable":5,"../../operator/debounceTime":174}],53:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/defaultIfEmpty");t.Observable.prototype.defaultIfEmpty=r.defaultIfEmpty},{"../../Observable":5,"../../operator/defaultIfEmpty":175}],54:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/delay");t.Observable.prototype.delay=r.delay},{"../../Observable":5,"../../operator/delay":176}],55:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/delayWhen");t.Observable.prototype.delayWhen=r.delayWhen},{"../../Observable":5,"../../operator/delayWhen":177}],56:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/dematerialize");t.Observable.prototype.dematerialize=r.dematerialize},{"../../Observable":5,"../../operator/dematerialize":178}],57:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/distinctUntilChanged");t.Observable.prototype.distinctUntilChanged=r.distinctUntilChanged},{"../../Observable":5,"../../operator/distinctUntilChanged":179}],58:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/do");t.Observable.prototype.do=r._do},{"../../Observable":5,"../../operator/do":180}],59:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/every");t.Observable.prototype.every=r.every},{"../../Observable":5,"../../operator/every":181}],60:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/expand");t.Observable.prototype.expand=r.expand},{"../../Observable":5,"../../operator/expand":182}],61:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/filter");t.Observable.prototype.filter=r.filter},{"../../Observable":5,"../../operator/filter":183}],62:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/finally");t.Observable.prototype.finally=r._finally},{"../../Observable":5,"../../operator/finally":184}],63:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/first");t.Observable.prototype.first=r.first},{"../../Observable":5,"../../operator/first":185}],64:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/groupBy");t.Observable.prototype.groupBy=r.groupBy},{"../../Observable":5,"../../operator/groupBy":186}],65:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/ignoreElements");t.Observable.prototype.ignoreElements=r.ignoreElements},{"../../Observable":5,"../../operator/ignoreElements":187}],66:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/last");t.Observable.prototype.last=r.last},{"../../Observable":5,"../../operator/last":188}],67:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/let");t.Observable.prototype.let=r.letProto,t.Observable.prototype.letBind=r.letProto},{"../../Observable":5,"../../operator/let":189}],68:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/map");t.Observable.prototype.map=r.map},{"../../Observable":5,"../../operator/map":190}],69:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/mapTo");t.Observable.prototype.mapTo=r.mapTo},{"../../Observable":5,"../../operator/mapTo":191}],70:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/materialize");t.Observable.prototype.materialize=r.materialize},{"../../Observable":5,"../../operator/materialize":192}],71:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/merge");t.Observable.prototype.merge=r.merge},{"../../Observable":5,"../../operator/merge":193}],72:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/mergeAll");t.Observable.prototype.mergeAll=r.mergeAll},{"../../Observable":5,"../../operator/mergeAll":194}],73:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/mergeMap");t.Observable.prototype.mergeMap=r.mergeMap,t.Observable.prototype.flatMap=r.mergeMap},{"../../Observable":5,"../../operator/mergeMap":195}],74:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/mergeMapTo");t.Observable.prototype.flatMapTo=r.mergeMapTo,t.Observable.prototype.mergeMapTo=r.mergeMapTo},{"../../Observable":5,"../../operator/mergeMapTo":196}],75:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/multicast");t.Observable.prototype.multicast=r.multicast},{"../../Observable":5,"../../operator/multicast":197}],76:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/observeOn");t.Observable.prototype.observeOn=r.observeOn},{"../../Observable":5,"../../operator/observeOn":198}],77:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/partition");t.Observable.prototype.partition=r.partition},{"../../Observable":5,"../../operator/partition":199}],78:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/pluck");t.Observable.prototype.pluck=r.pluck},{"../../Observable":5,"../../operator/pluck":200}],79:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/publish");t.Observable.prototype.publish=r.publish},{"../../Observable":5,"../../operator/publish":201}],80:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/publishBehavior");t.Observable.prototype.publishBehavior=r.publishBehavior},{"../../Observable":5,"../../operator/publishBehavior":202}],81:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/publishLast");t.Observable.prototype.publishLast=r.publishLast},{"../../Observable":5,"../../operator/publishLast":203}],82:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/publishReplay");t.Observable.prototype.publishReplay=r.publishReplay},{"../../Observable":5,"../../operator/publishReplay":204}],83:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/race");t.Observable.prototype.race=r.race},{"../../Observable":5,"../../operator/race":205}],84:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/reduce");t.Observable.prototype.reduce=r.reduce},{"../../Observable":5,"../../operator/reduce":206}],85:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/repeat");t.Observable.prototype.repeat=r.repeat},{"../../Observable":5,"../../operator/repeat":207}],86:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/retry");t.Observable.prototype.retry=r.retry},{"../../Observable":5,"../../operator/retry":208}],87:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/retryWhen");t.Observable.prototype.retryWhen=r.retryWhen},{"../../Observable":5,"../../operator/retryWhen":209}],88:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/sample");t.Observable.prototype.sample=r.sample},{"../../Observable":5,"../../operator/sample":210}],89:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/sampleTime");t.Observable.prototype.sampleTime=r.sampleTime},{"../../Observable":5,"../../operator/sampleTime":211}],90:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/scan");t.Observable.prototype.scan=r.scan},{"../../Observable":5,"../../operator/scan":212}],91:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/share");t.Observable.prototype.share=r.share},{"../../Observable":5,"../../operator/share":213}],92:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/single");t.Observable.prototype.single=r.single},{"../../Observable":5,"../../operator/single":214}],93:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/skip");t.Observable.prototype.skip=r.skip},{"../../Observable":5,"../../operator/skip":215}],94:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/skipUntil");t.Observable.prototype.skipUntil=r.skipUntil},{"../../Observable":5,"../../operator/skipUntil":216}],95:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/skipWhile");t.Observable.prototype.skipWhile=r.skipWhile},{"../../Observable":5,"../../operator/skipWhile":217}],96:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/startWith");t.Observable.prototype.startWith=r.startWith},{"../../Observable":5,"../../operator/startWith":218}],97:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/subscribeOn");t.Observable.prototype.subscribeOn=r.subscribeOn},{"../../Observable":5,"../../operator/subscribeOn":219}],98:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/switch");t.Observable.prototype.switch=r._switch},{"../../Observable":5,"../../operator/switch":220}],99:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/switchMap");t.Observable.prototype.switchMap=r.switchMap},{"../../Observable":5,"../../operator/switchMap":221}],100:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/switchMapTo");t.Observable.prototype.switchMapTo=r.switchMapTo},{"../../Observable":5,"../../operator/switchMapTo":222}],101:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/take");t.Observable.prototype.take=r.take},{"../../Observable":5,"../../operator/take":223}],102:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/takeLast");t.Observable.prototype.takeLast=r.takeLast},{"../../Observable":5,"../../operator/takeLast":224}],103:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/takeUntil");t.Observable.prototype.takeUntil=r.takeUntil},{"../../Observable":5,"../../operator/takeUntil":225}],104:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/takeWhile");t.Observable.prototype.takeWhile=r.takeWhile},{"../../Observable":5,"../../operator/takeWhile":226}],105:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/throttle");t.Observable.prototype.throttle=r.throttle},{"../../Observable":5,"../../operator/throttle":227}],106:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/throttleTime");t.Observable.prototype.throttleTime=r.throttleTime},{"../../Observable":5,"../../operator/throttleTime":228}],107:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/timeout");t.Observable.prototype.timeout=r.timeout},{"../../Observable":5,"../../operator/timeout":229}],108:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/timeoutWith");t.Observable.prototype.timeoutWith=r.timeoutWith},{"../../Observable":5,"../../operator/timeoutWith":230}],109:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/toArray");t.Observable.prototype.toArray=r.toArray},{"../../Observable":5,"../../operator/toArray":231}],110:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/toPromise");t.Observable.prototype.toPromise=r.toPromise},{"../../Observable":5,"../../operator/toPromise":232}],111:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/window");t.Observable.prototype.window=r.window},{"../../Observable":5,"../../operator/window":233}],112:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/windowCount");t.Observable.prototype.windowCount=r.windowCount},{"../../Observable":5,"../../operator/windowCount":234}],113:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/windowTime");t.Observable.prototype.windowTime=r.windowTime},{"../../Observable":5,"../../operator/windowTime":235}],114:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/windowToggle");t.Observable.prototype.windowToggle=r.windowToggle},{"../../Observable":5,"../../operator/windowToggle":236}],115:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/windowWhen");t.Observable.prototype.windowWhen=r.windowWhen},{"../../Observable":5,"../../operator/windowWhen":237}],116:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/withLatestFrom");t.Observable.prototype.withLatestFrom=r.withLatestFrom},{"../../Observable":5,"../../operator/withLatestFrom":238}],117:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/zip");t.Observable.prototype.zip=r.zipProto},{"../../Observable":5,"../../operator/zip":239}],118:[function(e){"use strict";var t=e("../../Observable"),r=e("../../operator/zipAll");t.Observable.prototype.zipAll=r.zipAll},{"../../Observable":5,"../../operator/zipAll":240}],119:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("./ScalarObservable"),i=e("./EmptyObservable"),s=function(e){function t(t,r,o,n){e.call(this),this.arrayLike=t,this.scheduler=n,r||n||1!==t.length||(this._isScalar=!0,this.value=t[0]),r&&(this.mapFn=r.bind(o))}return o(t,e),t.create=function(e,r,o,n){var s=e.length;return 0===s?new i.EmptyObservable:1!==s||r?new t(e,r,o,n):new a.ScalarObservable(e[0],n)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,o=e.length,n=e.mapFn,a=e.subscriber;if(!a.isUnsubscribed){if(r>=o)return void a.complete();var i=n?n(t[r],r):t[r];a.next(i),e.index=r+1,this.schedule(e)}},t.prototype._subscribe=function(e){var r=this,o=r.arrayLike,n=r.mapFn,a=r.scheduler,s=o.length;if(a)return a.schedule(t.dispatch,0,{arrayLike:o,index:0,length:s,mapFn:n,subscriber:e});for(var p=0,l;p<s&&!e.isUnsubscribed;p++)l=n?n(o[p],p):o[p],e.next(l);e.complete()},t}(n.Observable);r.ArrayLikeObservable=s},{"../Observable":5,"./EmptyObservable":125,"./ScalarObservable":136}],120:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("./ScalarObservable"),i=e("./EmptyObservable"),s=e("../util/isScheduler"),p=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return o(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var o=e[e.length-1];s.isScheduler(o)?e.pop():o=null;var n=e.length;return 1<n?new t(e,o):1===n?new a.ScalarObservable(e[0],o):new i.EmptyObservable(o)},t.dispatch=function(e){var t=e.array,r=e.index,o=e.count,n=e.subscriber;return r>=o?void n.complete():void(n.next(t[r]),n.isUnsubscribed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,o=r.length,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{array:r,index:0,count:o,subscriber:e});for(var a=0;a<o&&!e.isUnsubscribed;a++)e.next(r[a]);e.complete()},t}(n.Observable);r.ArrayObservable=p},{"../Observable":5,"../util/isScheduler":268,"./EmptyObservable":125,"./ScalarObservable":136}],121:[function(e,t,r){"use strict";function o(e){var t=this,r=e.source,o=e.subscriber,i=r.callbackFunc,s=r.args,c=r.scheduler,u=r.subject;if(!u){u=r.subject=new d.AsyncSubject;var y=function e(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var i=e.source,s=i.selector,d=i.subject;if(s){var u=p.tryCatch(s).apply(this,r);u===l.errorObject?t.add(c.schedule(a,0,{err:l.errorObject.e,subject:d})):t.add(c.schedule(n,0,{value:u,subject:d}))}else{var y=1===r.length?r[0]:r;t.add(c.schedule(n,0,{value:y,subject:d}))}};y.source=r;var m=p.tryCatch(i).apply(this,s.concat(y));m===l.errorObject&&u.error(l.errorObject.e)}t.add(u.subscribe(o))}function n(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function a(e){var t=e.err,r=e.subject;r.error(t)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=e("../Observable"),p=e("../util/tryCatch"),l=e("../util/errorObject"),d=e("../AsyncSubject"),c=function(e){function t(t,r,o,n){e.call(this),this.callbackFunc=t,this.selector=r,this.args=o,this.scheduler=n}return i(t,e),t.create=function(e,r,o){return void 0===r&&(r=void 0),function(){for(var n=[],a=0;a<arguments.length;a++)n[a-0]=arguments[a];return new t(e,r,n,o)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,a=this.subject;if(!n){if(!a){a=this.subject=new d.AsyncSubject;var i=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=e.source,n=o.selector,a=o.subject;if(n){var i=p.tryCatch(n).apply(this,t);i===l.errorObject?a.error(l.errorObject.e):(a.next(i),a.complete())}else a.next(1===t.length?t[0]:t),a.complete()};i.source=this;var s=p.tryCatch(t).apply(this,r.concat(i));s===l.errorObject&&a.error(l.errorObject.e)}return a.subscribe(e)}return n.schedule(o,0,{source:this,subscriber:e})},t}(s.Observable);r.BoundCallbackObservable=c},{"../AsyncSubject":1,"../Observable":5,"../util/errorObject":261,"../util/tryCatch":275}],122:[function(e,t,r){"use strict";function o(e){var t=this,r=e.source,o=e.subscriber,i=r.callbackFunc,s=r.args,c=r.scheduler,u=r.subject;if(!u){u=r.subject=new d.AsyncSubject;var y=function e(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var i=e.source,s=i.selector,d=i.subject,u=r.shift();if(u)d.error(u);else if(s){var y=p.tryCatch(s).apply(this,r);y===l.errorObject?t.add(c.schedule(a,0,{err:l.errorObject.e,subject:d})):t.add(c.schedule(n,0,{value:y,subject:d}))}else{var m=1===r.length?r[0]:r;t.add(c.schedule(n,0,{value:m,subject:d}))}};y.source=r;var m=p.tryCatch(i).apply(this,s.concat(y));m===l.errorObject&&u.error(l.errorObject.e)}t.add(u.subscribe(o))}function n(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function a(e){var t=e.err,r=e.subject;r.error(t)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=e("../Observable"),p=e("../util/tryCatch"),l=e("../util/errorObject"),d=e("../AsyncSubject"),c=function(e){function t(t,r,o,n){e.call(this),this.callbackFunc=t,this.selector=r,this.args=o,this.scheduler=n}return i(t,e),t.create=function(e,r,o){return void 0===r&&(r=void 0),function(){for(var n=[],a=0;a<arguments.length;a++)n[a-0]=arguments[a];return new t(e,r,n,o)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,a=this.subject;if(!n){if(!a){a=this.subject=new d.AsyncSubject;var i=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=e.source,n=o.selector,a=o.subject,i=t.shift();if(i)a.error(i);else if(n){var s=p.tryCatch(n).apply(this,t);s===l.errorObject?a.error(l.errorObject.e):(a.next(s),a.complete())}else a.next(1===t.length?t[0]:t),a.complete()};i.source=this;var s=p.tryCatch(t).apply(this,r.concat(i));s===l.errorObject&&a.error(l.errorObject.e)}return a.subscribe(e)}return n.schedule(o,0,{source:this,subscriber:e})},t}(s.Observable);r.BoundNodeCallbackObservable=c},{"../AsyncSubject":1,"../Observable":5,"../util/errorObject":261,"../util/tryCatch":275}],123:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("../Subscriber"),i=e("../Subscription"),s=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this.subject;return e&&!e.isUnsubscribed?e:this.subject=this.subjectFactory()},t.prototype.connect=function(){var e=this.source,t=this.subscription;return t&&!t.isUnsubscribed?t:(t=e.subscribe(this.getSubject()),t.add(new p(this)),this.subscription=t)},t.prototype.refCount=function(){return new l(this)},t.prototype._closeSubscription=function(){this.subject=null,this.subscription=null},t}(n.Observable);r.ConnectableObservable=s;var p=function(e){function t(t){e.call(this),this.connectable=t}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;e._closeSubscription(),this.connectable=null},t}(i.Subscription),l=function(e){function t(t,r){void 0===r&&(r=0),e.call(this),this.connectable=t,this.refCount=r}return o(t,e),t.prototype._subscribe=function(e){var t=this.connectable,r=new d(e,this),o=t.subscribe(r);return o.isUnsubscribed||1!=++this.refCount||(r.connection=this.connection=t.connect()),o},t}(n.Observable),d=function(e){function t(t,r){e.call(this,null),this.destination=t,this.refCountObservable=r,this.connection=r.connection,t.add(this)}return o(t,e),t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this._resetConnectable(),this.destination.error(e)},t.prototype._complete=function(){this._resetConnectable(),this.destination.complete()},t.prototype._resetConnectable=function(){var e=this.refCountObservable,t=e.connection,r=this.connection;r&&r===t&&(e.refCount=0,t.unsubscribe(),e.connection=null,this.unsubscribe())},t.prototype._unsubscribe=function(){var e=this.refCountObservable;if(0!==e.refCount&&0==--e.refCount){var t=e.connection,r=this.connection;r&&r===t&&(t.unsubscribe(),e.connection=null)}},t}(a.Subscriber)},{"../Observable":5,"../Subscriber":13,"../Subscription":14}],124:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("../util/subscribeToResult"),i=e("../OuterSubscriber"),s=function(e){function t(t){e.call(this),this.observableFactory=t}return o(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new p(e,this.observableFactory)},t}(n.Observable);r.DeferObservable=s;var p=function(e){function t(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return o(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(a.subscribeToResult(this,e))},t}(i.OuterSubscriber)},{"../Observable":5,"../OuterSubscriber":8,"../util/subscribeToResult":272}],125:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=function(e){function t(t){e.call(this),this.scheduler=t}return o(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){var t=e.subscriber;t.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;return r?r.schedule(t.dispatch,0,{subscriber:e}):void e.complete()},t}(n.Observable);r.EmptyObservable=a},{"../Observable":5}],126:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return o(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error,r=e.subscriber;r.error(t)},t.prototype._subscribe=function(e){var r=this.error,o=this.scheduler;return o?o.schedule(t.dispatch,0,{error:r,subscriber:e}):void e.error(r)},t}(n.Observable);r.ErrorObservable=a},{"../Observable":5}],127:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("./EmptyObservable"),i=e("../util/isArray"),s=e("../util/subscribeToResult"),p=e("../OuterSubscriber"),l=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return o(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new a.EmptyObservable;var o=null;return"function"==typeof e[e.length-1]&&(o=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),0===e.length?new a.EmptyObservable:new t(e,o)},t.prototype._subscribe=function(e){return new d(e,this.sources,this.resultSelector)},t}(n.Observable);r.ForkJoinObservable=l;var d=function(e){function t(t,r,o){e.call(this,t),this.sources=r,this.resultSelector=o,this.completed=0,this.haveValues=0;var n=r.length;this.total=n,this.values=Array(n);for(var a=0;a<n;a++){var p=r[a],l=s.subscribeToResult(this,p,null,a);l&&(l.outerIndex=a,this.add(l))}}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.values[r]=t,n._hasValue||(n._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this,o=r.haveValues,n=r.resultSelector,a=r.values,i=a.length;if(!e._hasValue)return void t.complete();if(this.completed++,this.completed===i){if(o===i){var s=n?n.apply(this,a):a;t.next(s)}t.complete()}},t}(p.OuterSubscriber)},{"../Observable":5,"../OuterSubscriber":8,"../util/isArray":262,"../util/subscribeToResult":272,"./EmptyObservable":125}],128:[function(e,t,r){"use strict";function o(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function n(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function a(e){return!!e&&"[object NodeList]"===e.toString()}function s(e){return!!e&&"[object HTMLCollection]"===e.toString()}function p(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}var l=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},d=e("../Observable"),c=e("../util/tryCatch"),u=e("../util/errorObject"),y=e("../Subscription"),m=function(e){function t(t,r,o){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=o}return l(t,e),t.create=function(e,r,o){return new t(e,r,o)},t.setupSubscription=function(e,r,l,d){var c;if(a(e)||s(e))for(var u=0,m=e.length;u<m;u++)t.setupSubscription(e[u],r,l,d);else p(e)?(e.addEventListener(r,l),c=function(){return e.removeEventListener(r,l)}):n(e)?(e.on(r,l),c=function(){return e.off(r,l)}):o(e)&&(e.addListener(r,l),c=function(){return e.removeListener(r,l)});d.add(new y.Subscription(c))},t.prototype._subscribe=function(r){var o=this.sourceObj,n=this.eventName,a=this.selector,i=a?function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var o=c.tryCatch(a).apply(void 0,e);o===u.errorObject?r.error(u.errorObject.e):r.next(o)}:function(t){return r.next(t)};t.setupSubscription(o,n,i,r)},t}(d.Observable);r.FromEventObservable=m},{"../Observable":5,"../Subscription":14,"../util/errorObject":261,"../util/tryCatch":275}],129:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("../Subscription"),i=e("../util/tryCatch"),s=e("../util/errorObject"),p=function(e){function t(t,r,o){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=o}return o(t,e),t.create=function(e,r,o){return new t(e,r,o)},t.prototype._subscribe=function(t){var r=this.addHandler,o=this.removeHandler,n=this.selector,p=n?function(){var e=i.tryCatch(n).apply(null,arguments);e===s.errorObject?t.error(e.e):t.next(e)}:function(r){t.next(r)},l=i.tryCatch(r)(p);l===s.errorObject&&t.error(l.e),t.add(new a.Subscription(function(){o(p)}))},t}(n.Observable);r.FromEventPatternObservable=p},{"../Observable":5,"../Subscription":14,"../util/errorObject":261,"../util/tryCatch":275}],130:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/isArray"),a=e("../util/isFunction"),i=e("../util/isPromise"),s=e("../util/isScheduler"),p=e("./PromiseObservable"),l=e("./IteratorObservable"),d=e("./ArrayObservable"),c=e("./ArrayLikeObservable"),u=e("../symbol/observable"),y=e("../symbol/iterator"),m=e("../Observable"),g=e("../operator/observeOn"),f=function(e){return e&&"number"==typeof e.length},h=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return o(t,e),t.create=function(e,r,o,g){var h=null,b=null;if(a.isFunction(r)?(h=g||null,b=r):s.isScheduler(h)&&(h=r),null!=e){if("function"==typeof e[u.$$observable])return e instanceof m.Observable&&!h?e:new t(e,h);if(n.isArray(e))return new d.ArrayObservable(e,h);if(i.isPromise(e))return new p.PromiseObservable(e,h);if("function"==typeof e[y.$$iterator]||"string"==typeof e)return new l.IteratorObservable(e,null,null,h);if(f(e))return new c.ArrayLikeObservable(e,b,o,h)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[u.$$observable]().subscribe(e):t[u.$$observable]().subscribe(new g.ObserveOnSubscriber(e,r,0))},t}(m.Observable);r.FromObservable=h},{"../Observable":5,"../operator/observeOn":198,"../symbol/iterator":250,"../symbol/observable":251,"../util/isArray":262,"../util/isFunction":264,"../util/isPromise":267,"../util/isScheduler":268,"./ArrayLikeObservable":119,"./ArrayObservable":120,"./IteratorObservable":132,"./PromiseObservable":134}],131:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/isNumeric"),a=e("../Observable"),i=e("../scheduler/async"),s=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=i.async),e.call(this),this.period=t,this.scheduler=r,(!n.isNumeric(t)||0>t)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=i.async)}return o(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=i.async),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,o=e.period;r.next(t),r.isUnsubscribed||(e.index+=1,this.schedule(e,o))},t.prototype._subscribe=function(e){var r=this.period,o=this.scheduler;e.add(o.schedule(t.dispatch,r,{index:0,subscriber:e,period:r}))},t}(a.Observable);r.IntervalObservable=s},{"../Observable":5,"../scheduler/async":248,"../util/isNumeric":265}],132:[function(e,t,r){"use strict";function o(e){var t=e[y.$$iterator];if(!t&&"string"==typeof e)return new f(e);if(!t&&void 0!==e.length)return new h(e);if(!t)throw new TypeError("Object is not iterable");return e[y.$$iterator]()}function n(e){var t=+e.length;return isNaN(t)?0:0!=t&&a(t)?(t=i(t)*Math.floor(Math.abs(t)),0>=t?0:9007199254740991<t?9007199254740991:t):t}function a(e){return"number"==typeof e&&p.root.isFinite(e)}function i(e){var t=+e;return 0==t?t:isNaN(t)?t:0>t?-1:1}var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},p=e("../util/root"),l=e("../util/isObject"),d=e("../util/tryCatch"),c=e("../Observable"),u=e("../util/isFunction"),y=e("../symbol/iterator"),m=e("../util/errorObject"),g=function(e){function t(t,r,n,a){if(e.call(this),null==t)throw new Error("iterator cannot be null.");if(l.isObject(r))this.thisArg=r,this.scheduler=n;else if(u.isFunction(r))this.project=r,this.thisArg=n,this.scheduler=a;else if(null!=r)throw new Error("When provided, `project` must be a function.");this.iterator=o(t)}return s(t,e),t.create=function(e,r,o,n){return new t(e,r,o,n)},t.dispatch=function(e){var t=e.index,r=e.hasError,o=e.thisArg,n=e.project,a=e.iterator,i=e.subscriber;if(r)return void i.error(e.error);var s=a.next();return s.done?void i.complete():void(n?(s=d.tryCatch(n).call(o,s.value,t),s===m.errorObject?(e.error=m.errorObject.e,e.hasError=!0):(i.next(s),e.index=t+1)):(i.next(s.value),e.index=t+1),i.isUnsubscribed||this.schedule(e))},t.prototype._subscribe=function(e){var r=0,o=this,n=o.iterator,a=o.project,i=o.thisArg,s=o.scheduler;if(s)return s.schedule(t.dispatch,0,{index:r,thisArg:i,project:a,iterator:n,subscriber:e});do{var p=n.next();if(p.done){e.complete();break}else if(a){if(p=d.tryCatch(a).call(i,p.value,r++),p===m.errorObject){e.error(m.errorObject.e);break}e.next(p)}else e.next(p.value);if(e.isUnsubscribed)break}while(!0)},t}(c.Observable);r.IteratorObservable=g;var f=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[y.$$iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),h=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=n(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[y.$$iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),b=Math.pow(2,53)-1},{"../Observable":5,"../symbol/iterator":250,"../util/errorObject":261,"../util/isFunction":264,"../util/isObject":266,"../util/root":271,"../util/tryCatch":275}],133:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("../util/noop"),i=function(e){function t(){e.call(this)}return o(t,e),t.create=function(){return new t},t.prototype._subscribe=function(){a.noop()},t}(n.Observable);r.NeverObservable=i},{"../Observable":5,"../util/noop":269}],134:[function(e,t,r){"use strict";function o(e){var t=e.value,r=e.subscriber;r.isUnsubscribed||(r.next(t),r.complete())}function n(e){var t=e.err,r=e.subscriber;r.isUnsubscribed||r.error(t)}var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../util/root"),s=e("../Observable"),p=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.promise=t,this.scheduler=r}return a(t,e),t.create=function(e,r){return void 0===r&&(r=null),new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,a=this.scheduler;if(null==a)this._isScalar?!e.isUnsubscribed&&(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.isUnsubscribed||(e.next(r),e.complete())},function(t){e.isUnsubscribed||e.error(t)}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(!this._isScalar)r.then(function(r){t.value=r,t._isScalar=!0,e.isUnsubscribed||e.add(a.schedule(o,0,{value:r,subscriber:e}))},function(t){e.isUnsubscribed||e.add(a.schedule(n,0,{err:t,subscriber:e}))}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(!e.isUnsubscribed)return a.schedule(o,0,{value:this.value,subscriber:e})},t}(s.Observable);r.PromiseObservable=p},{"../Observable":5,"../util/root":271}],135:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=function(e){function t(t,r,o){e.call(this),this.start=t,this._count=r,this.scheduler=o}return o(t,e),t.create=function(e,r,o){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,o)},t.dispatch=function(e){var t=e.start,r=e.index,o=e.count,n=e.subscriber;return r>=o?void n.complete():void(n.next(t),n.isUnsubscribed||(e.index=r+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,o=this.start,n=this._count,a=this.scheduler;if(a)return a.schedule(t.dispatch,0,{index:r,count:n,start:o,subscriber:e});do{if(r++>=n){e.complete();break}if(e.next(o++),e.isUnsubscribed)break}while(!0)},t}(n.Observable);r.RangeObservable=a},{"../Observable":5}],136:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0}return o(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,o=e.subscriber;return t?void o.complete():void(o.next(r),o.isUnsubscribed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,o=this.scheduler;return o?o.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e}):void(e.next(r),e.isUnsubscribed||e.complete())},t}(n.Observable);r.ScalarObservable=a},{"../Observable":5}],137:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),a=e("../scheduler/asap"),i=e("../util/isNumeric"),s=function(e){function t(t,r,o){void 0===r&&(r=0),void 0===o&&(o=a.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=o,(!i.isNumeric(r)||0>r)&&(this.delayTime=0),o&&"function"==typeof o.schedule||(this.scheduler=a.asap)}return o(t,e),t.create=function(e,r,o){return void 0===r&&(r=0),void 0===o&&(o=a.asap),new t(e,r,o)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return t.subscribe(r)},t.prototype._subscribe=function(e){var r=this.delayTime,o=this.source,n=this.scheduler;return n.schedule(t.dispatch,r,{source:o,subscriber:e})},t}(n.Observable);r.SubscribeOnObservable=s},{"../Observable":5,"../scheduler/asap":247,"../util/isNumeric":265}],138:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/isNumeric"),a=e("../Observable"),i=e("../scheduler/async"),s=e("../util/isScheduler"),p=e("../util/isDate"),l=function(e){function t(t,r,o){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,n.isNumeric(r)?this.period=1>+r&&1||+r:s.isScheduler(r)&&(o=r),s.isScheduler(o)||(o=i.async),this.scheduler=o,this.dueTime=p.isDate(t)?+t-this.scheduler.now():t}return o(t,e),t.create=function(e,r,o){return void 0===e&&(e=0),new t(e,r,o)},t.dispatch=function(e){var t=e.index,r=e.period,o=e.subscriber,n=this;if(o.next(t),!o.isUnsubscribed)return-1===r?o.complete():void(e.index=t+1,n.schedule(e,r))},t.prototype._subscribe=function(e){var r=this,o=r.period,n=r.dueTime,a=r.scheduler;return a.schedule(t.dispatch,n,{index:0,period:o,subscriber:e})},t}(a.Observable);r.TimerObservable=l},{"../Observable":5,"../scheduler/async":248,"../util/isDate":263,"../util/isNumeric":265,"../util/isScheduler":268}],139:[function(e,t,r){"use strict";var o=e("./BoundCallbackObservable");r.bindCallback=o.BoundCallbackObservable.create},{"./BoundCallbackObservable":121}],140:[function(e,t,r){"use strict";var o=e("./BoundNodeCallbackObservable");r.bindNodeCallback=o.BoundNodeCallbackObservable.create},{"./BoundNodeCallbackObservable":122}],141:[function(e,t,r){"use strict";var o=e("../operator/concat");r.concat=o.concatStatic},{"../operator/concat":168}],142:[function(e,t,r){"use strict";var o=e("./DeferObservable");r.defer=o.DeferObservable.create},{"./DeferObservable":124}],143:[function(e,t,r){"use strict";var o=e("./EmptyObservable");r.empty=o.EmptyObservable.create},{"./EmptyObservable":125}],144:[function(e,t,r){"use strict";var o=e("./ForkJoinObservable");r.forkJoin=o.ForkJoinObservable.create},{"./ForkJoinObservable":127}],145:[function(e,t,r){"use strict";var o=e("./FromObservable");r.from=o.FromObservable.create},{"./FromObservable":130}],146:[function(e,t,r){"use strict";var o=e("./FromEventObservable");r.fromEvent=o.FromEventObservable.create},{"./FromEventObservable":128}],147:[function(e,t,r){"use strict";var o=e("./FromEventPatternObservable");r.fromEventPattern=o.FromEventPatternObservable.create},{"./FromEventPatternObservable":129}],148:[function(e,t,r){"use strict";var o=e("./PromiseObservable");r.fromPromise=o.PromiseObservable.create},{"./PromiseObservable":134}],149:[function(e,t,r){"use strict";var o=e("./IntervalObservable");r.interval=o.IntervalObservable.create},{"./IntervalObservable":131}],150:[function(e,t,r){"use strict";var o=e("../operator/merge");r.merge=o.mergeStatic},{"../operator/merge":193}],151:[function(e,t,r){"use strict";var o=e("./NeverObservable");r.never=o.NeverObservable.create},{"./NeverObservable":133}],152:[function(e,t,r){"use strict";var o=e("./ArrayObservable");r.of=o.ArrayObservable.of},{"./ArrayObservable":120}],153:[function(e,t,r){"use strict";var o=e("./RangeObservable");r.range=o.RangeObservable.create},{"./RangeObservable":135}],154:[function(e,t,r){"use strict";var o=e("./ErrorObservable");r._throw=o.ErrorObservable.create},{"./ErrorObservable":126}],155:[function(e,t,r){"use strict";var o=e("./TimerObservable");r.timer=o.TimerObservable.create},{"./TimerObservable":138}],156:[function(e,t,r){"use strict";var o=e("../operator/zip");r.zip=o.zipStatic},{"../operator/zip":239}],157:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/tryCatch"),a=e("../util/errorObject"),i=e("../OuterSubscriber"),s=e("../util/subscribeToResult");r.audit=function(e){return this.lift(new p(e))};var p=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new l(e,this.durationSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=n.tryCatch(this.durationSelector)(e);t===a.errorObject?this.destination.error(a.errorObject.e):this.add(this.throttled=s.subscribeToResult(this,t))}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,o=e.throttled;o&&(this.remove(o),this.throttled=null,o.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.OuterSubscriber)},{"../OuterSubscriber":8,"../util/errorObject":261,"../util/subscribeToResult":272,"../util/tryCatch":275}],158:[function(e,t,r){"use strict";function o(e){e.clearThrottle()}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../scheduler/async"),i=e("../Subscriber");r.auditTime=function(e,t){return void 0===t&&(t=a.async),this.lift(new s(e,t))};var s=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.delay,this.scheduler))},e}(),p=function(e){function t(t,r,o){e.call(this,t),this.delay=r,this.scheduler=o,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(o,this.delay,this))},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,o=e.throttled;o&&(this.remove(o),this.throttled=null,o.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t}(i.Subscriber)},{"../Subscriber":13,"../scheduler/async":248}],159:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.buffer=function(e){return this.lift(new i(e))};var i=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.closingNotifier))},e}(),s=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],160:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.bufferCount=function(e,t){return void 0===t&&(t=null),this.lift(new a(e,t))};var a=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.bufferSize,this.startBufferEvery))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.bufferSize=r,this.startBufferEvery=o,this.buffers=[[]],this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.count+=1,r=this.destination,o=this.bufferSize,n=null==this.startBufferEvery?o:this.startBufferEvery,a=this.buffers,s=a.length,p=-1;0==t%n&&a.push([]);for(var l=0,d;l<s;l++)d=a[l],d.push(e),d.length===o&&(p=l,r.next(d));-1!==p&&a.splice(p,1)},t.prototype._complete=function(){for(var t=this.destination,r=this.buffers,o;0<r.length;)o=r.shift(),0<o.length&&t.next(o);e.prototype._complete.call(this)},t}(n.Subscriber)},{"../Subscriber":13}],161:[function(e,t,r){"use strict";function o(e){var t=e.subscriber,r=e.buffer;r&&t.closeBuffer(r),e.buffer=t.openBuffer(),t.isUnsubscribed||this.schedule(e,e.bufferTimeSpan)}function n(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,o=e.subscriber,n=e.scheduler,i=o.openBuffer(),s=this;o.isUnsubscribed||(s.add(n.schedule(a,r,{subscriber:o,buffer:i})),s.schedule(e,t))}function a(e){var t=e.subscriber,r=e.buffer;t.closeBuffer(r)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=e("../Subscriber"),p=e("../scheduler/async");r.bufferTime=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=p.async),this.lift(new l(e,t,r))};var l=function(){function e(e,t,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.scheduler=r}return e.prototype.call=function(e,t){return t._subscribe(new d(e,this.bufferTimeSpan,this.bufferCreationInterval,this.scheduler))},e}(),d=function(e){function t(t,r,i,s){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=i,this.scheduler=s,this.buffers=[];var p=this.openBuffer();if(null!==i&&0<=i){var l={subscriber:this,buffer:p},d={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:this,scheduler:s};this.add(s.schedule(a,r,l)),this.add(s.schedule(n,i,d))}else{var c={subscriber:this,buffer:p,bufferTimeSpan:r};this.add(s.schedule(o,r,c))}}return i(t,e),t.prototype._next=function(e){for(var t=this.buffers,r=t.length,o=0;o<r;o++)t[o].push(e)},t.prototype._error=function(t){this.buffers.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this,r=t.buffers,o=t.destination;0<r.length;)o.next(r.shift());e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffers=null},t.prototype.openBuffer=function(){var e=[];return this.buffers.push(e),e},t.prototype.closeBuffer=function(e){this.destination.next(e);var t=this.buffers;t.splice(t.indexOf(e),1)},t}(s.Subscriber)},{"../Subscriber":13,"../scheduler/async":248}],162:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscription"),a=e("../util/subscribeToResult"),i=e("../OuterSubscriber");r.bufferToggle=function(e,t){return this.lift(new s(e,t))};var s=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.openings,this.closingSelector))},e}(),p=function(e){function t(t,r,o){e.call(this,t),this.openings=r,this.closingSelector=o,this.contexts=[],this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,o=0;o<r;o++)t[o].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts,o;0<r.length;)o=r.shift(),o.subscription.unsubscribe(),o.buffer=null,o.subscription=null;this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r;0<t.length;)r=t.shift(),this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null;this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector,r=t.call(this,e);r&&this.trySubscribe(r)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,o=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(o),o.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new n.Subscription,o={buffer:[],subscription:r};t.push(o);var i=a.subscribeToResult(this,e,o);!i||i.isUnsubscribed?this.closeBuffer(o):(i.context=o,this.add(i),r.add(i))},t}(i.OuterSubscriber)},{"../OuterSubscriber":8,"../Subscription":14,"../util/subscribeToResult":272}],163:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscription"),a=e("../util/tryCatch"),i=e("../util/errorObject"),s=e("../OuterSubscriber"),p=e("../util/subscribeToResult");r.bufferWhen=function(e){return this.lift(new l(e))};var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new d(e,this.closingSelector))},e}(),d=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return o(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=a.tryCatch(this.closingSelector)();r===i.errorObject?this.error(i.errorObject.e):(e=new n.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(p.subscribeToResult(this,r)),this.subscribing=!1)},t}(s.OuterSubscriber)},{"../OuterSubscriber":8,"../Subscription":14,"../util/errorObject":261,"../util/subscribeToResult":272,"../util/tryCatch":275}],164:[function(e,t,r){"use strict";var o=e("./publishReplay");r.cache=function(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),o.publishReplay.call(this,e,t,r).refCount()}},{"./publishReplay":204}],165:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r._catch=function(e){var t=new a(e),r=this.lift(t);return t.caught=r};var a=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.selector,this.caught))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.selector=r,this.caught=o}return o(t,e),t.prototype.error=function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(e){return void this.destination.error(e)}this._innerSub(t)}},t.prototype._innerSub=function(e){this.unsubscribe(),this.destination.remove(this),e.subscribe(this.destination)},t}(n.Subscriber)},{"../Subscriber":13}],166:[function(e,t,r){"use strict";var o=e("./combineLatest");r.combineAll=function(e){return this.lift(new o.CombineLatestOperator(e))}},{"./combineLatest":167}],167:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../observable/ArrayObservable"),a=e("../util/isArray"),i=e("../util/isScheduler"),s=e("../OuterSubscriber"),p=e("../util/subscribeToResult");r.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0]),e.unshift(this),new n.ArrayObservable(e).lift(new l(r))},r.combineLatestStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,o=null;return i.isScheduler(e[e.length-1])&&(o=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0]),new n.ArrayObservable(e,o).lift(new l(r))};var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t._subscribe(new d(e,this.project))},e}();r.CombineLatestOperator=l;var d=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[],this.toRespond=[]}return o(t,e),t.prototype._next=function(e){var t=this.toRespond;t.push(t.length),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t;for(var r=0,o;r<t;r++)o=e[r],this.add(p.subscribeToResult(this,o,o,r))}},t.prototype.notifyComplete=function(){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r){var o=this.values;o[r]=t;var n=this.toRespond;if(0<n.length){var a=n.indexOf(r);-1!==a&&n.splice(a,1)}0===n.length&&(this.project?this._tryProject(o):this.destination.next(o))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.OuterSubscriber);r.CombineLatestSubscriber=d},{"../OuterSubscriber":8,"../observable/ArrayObservable":120,"../util/isArray":262,"../util/isScheduler":268,"../util/subscribeToResult":272}],168:[function(e,t,r){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,o=e;return n.isScheduler(o[e.length-1])&&(r=o.pop()),new a.ArrayObservable(e,r).lift(new i.MergeAllOperator(1))}var n=e("../util/isScheduler"),a=e("../observable/ArrayObservable"),i=e("./mergeAll");r.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o.apply(void 0,[this].concat(e))},r.concatStatic=o},{"../observable/ArrayObservable":120,"../util/isScheduler":268,"./mergeAll":194}],169:[function(e,t,r){"use strict";var o=e("./mergeAll");r.concatAll=function(){return this.lift(new o.MergeAllOperator(1))}},{"./mergeAll":194}],170:[function(e,t,r){"use strict";var o=e("./mergeMap");r.concatMap=function(e,t){return this.lift(new o.MergeMapOperator(e,t,1))}},{"./mergeMap":195}],171:[function(e,t,r){"use strict";var o=e("./mergeMapTo");r.concatMapTo=function(e,t){return this.lift(new o.MergeMapToOperator(e,t,1))}},{"./mergeMapTo":196}],172:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.count=function(e){return this.lift(new a(e,this))};var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.predicate,this.source))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.predicate=r,this.source=o,this.count=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(n.Subscriber)},{"../Subscriber":13}],173:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.debounce=function(e){return this.lift(new i(e))};var i=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.durationSelector))},e}(),s=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return o(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=a.subscribeToResult(this,t),r.isUnsubscribed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],174:[function(e,t,r){"use strict";function o(e){e.debouncedNext()}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../Subscriber"),i=e("../scheduler/async");r.debounceTime=function(e,t){return void 0===t&&(t=i.async),this.lift(new s(e,t))};var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.dueTime,this.scheduler))},e}(),p=function(e){function t(t,r,o){e.call(this,t),this.dueTime=r,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(o,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(a.Subscriber)},{"../Subscriber":13,"../scheduler/async":248}],175:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.defaultIfEmpty=function(e){return void 0===e&&(e=null),this.lift(new a(e))};var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.defaultValue))},e}(),i=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(n.Subscriber)},{"../Subscriber":13}],176:[function(e,t,r){"use strict";function o(e,t){void 0===t&&(t=a.async);var r=i.isDate(e),o=r?+e-t.now():Math.abs(e);return this.lift(new l(o,t))}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../scheduler/async"),i=e("../util/isDate"),s=e("../Subscriber"),p=e("../Notification");r.delay=o;var l=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new d(e,this.delay,this.scheduler))},e}(),d=function(e){function t(t,r,o){e.call(this,t),this.delay=r,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}return n(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,o=e.scheduler,n=e.destination;0<r.length&&0>=r[0].time-o.now();)r.shift().notification.observe(n);if(0<r.length){var a=Math.max(0,r[0].time-o.now());this.schedule(e,a)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new c(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(p.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(p.Notification.createComplete())},t}(s.Subscriber),c=function(){return function(e,t){this.time=e,this.notification=t}}()},{"../Notification":4,"../Subscriber":13,"../scheduler/async":248,"../util/isDate":263}],177:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../Observable"),i=e("../OuterSubscriber"),s=e("../util/subscribeToResult");r.delayWhen=function(e,t){return t?new d(this,t).lift(new p(e)):this.lift(new p(e))};var p=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.destination.next(e),this.removeSubscription(n),this.tryComplete()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=s.subscribeToResult(this,e,t);this.add(r),this.delayNotifierSubscriptions.push(r),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(i.OuterSubscriber),d=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return o(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new c(e,this.source))},t}(a.Observable),c=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return o(t,e),t.prototype._next=function(){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(n.Subscriber)},{"../Observable":5,"../OuterSubscriber":8,"../Subscriber":13,"../util/subscribeToResult":272}],178:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.dematerialize=function(){return this.lift(new a)};var a=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new i(e))},e}(),i=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(n.Subscriber)},{"../Subscriber":13}],179:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../util/tryCatch"),i=e("../util/errorObject");r.distinctUntilChanged=function(e,t){return this.lift(new s(e,t))};var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.compare,this.keySelector))},e}(),p=function(e){function t(t,r,o){e.call(this,t),this.keySelector=o,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,r=e;if(t&&(r=a.tryCatch(this.keySelector)(e),r===i.errorObject))return this.destination.error(i.errorObject.e);var o=!1;if(!this.hasKey)this.hasKey=!0;else if(o=a.tryCatch(this.compare)(this.key,r),o===i.errorObject)return this.destination.error(i.errorObject.e);!1===!!o&&(this.key=r,this.destination.next(e))},t}(n.Subscriber)},{"../Subscriber":13,"../util/errorObject":261,"../util/tryCatch":275}],180:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r._do=function(e,t,r){return this.lift(new a(e,t,r))};var a=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.nextOrObserver,this.error,this.complete))},e}(),i=function(e){function t(t,r,o,a){e.call(this,t);var i=new n.Subscriber(r,o,a);i.syncErrorThrowable=!0,this.add(i),this.safeSubscriber=i}return o(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(n.Subscriber)},{"../Subscriber":13}],181:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.every=function(e,t){var r=this;return r.lift(new a(e,t,r))};var a=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.predicate,this.thisArg,this.source))},e}(),i=function(e){function t(t,r,o,n){e.call(this,t),this.predicate=r,this.thisArg=o,this.source=n,this.index=0,this.thisArg=o||this}return o(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(n.Subscriber)},{"../Subscriber":13}],182:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/tryCatch"),a=e("../util/errorObject"),i=e("../OuterSubscriber"),s=e("../util/subscribeToResult");r.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=1>(t||0)?Number.POSITIVE_INFINITY:t,this.lift(new p(e,t,r))};var p=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t._subscribe(new l(e,this.project,this.concurrent,this.scheduler))},e}();r.ExpandOperator=p;var l=function(e){function t(t,r,o,n){e.call(this,t),this.project=r,this.concurrent=o,this.scheduler=n,this.index=0,this.active=0,this.hasCompleted=!1,o<Number.POSITIVE_INFINITY&&(this.buffer=[])}return o(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,o=e.value,n=e.index;t.subscribeToProjection(r,o,n)},t.prototype._next=function(e){var r=this.destination;if(r.isUnsubscribed)return void this._complete();var o=this.index++;if(this.active<this.concurrent){r.next(e);var i=n.tryCatch(this.project)(e,o);if(i===a.errorObject)r.error(a.errorObject.e);else if(!this.scheduler)this.subscribeToProjection(i,e,o);else{var s={subscriber:this,result:i,value:e,index:o};this.add(this.scheduler.schedule(t.dispatch,0,s))}}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(s.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&0<t.length&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.OuterSubscriber);r.ExpandSubscriber=l},{"../OuterSubscriber":8,"../util/errorObject":261,"../util/subscribeToResult":272,"../util/tryCatch":275}],183:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.filter=function(e,t){return this.lift(new a(e,t))};var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.predicate,this.thisArg))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.predicate=r,this.thisArg=o,this.count=0,this.predicate=r}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(n.Subscriber)},{"../Subscriber":13}],184:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../Subscription");r._finally=function(e){return this.lift(new i(e))};var i=function(){function e(e){this.finallySelector=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.finallySelector))},e}(),s=function(e){function t(t,r){e.call(this,t),this.add(new a.Subscription(r))}return o(t,e),t}(n.Subscriber)},{"../Subscriber":13,"../Subscription":14}],185:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../util/EmptyError");r.first=function(e,t,r){return this.lift(new i(e,t,r,this))};var i=function(){function e(e,t,r,o){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=o}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),s=function(e){function t(t,r,o,n,a){e.call(this,t),this.predicate=r,this.resultSelector=o,this.defaultValue=n,this.source=a,this.index=0,this.hasCompleted=!1}return o(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){return this.resultSelector?void this._tryResultSelector(e,t):void this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;t.next(e),t.complete(),this.hasCompleted=!0},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?!this.hasCompleted&&e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},t}(n.Subscriber)},{"../Subscriber":13,"../util/EmptyError":254}],186:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../Subscription"),i=e("../Observable"),s=e("../Subject"),p=e("../util/Map"),l=e("../util/FastMap");r.groupBy=function(e,t,r){return this.lift(new d(this,e,t,r))};var d=function(){function e(e,t,r,o){this.source=e,this.keySelector=t,this.elementSelector=r,this.durationSelector=o}return e.prototype.call=function(e,t){return t._subscribe(new c(e,this.keySelector,this.elementSelector,this.durationSelector))},e}(),c=function(e){function t(t,r,o,n){e.call(this),this.keySelector=r,this.elementSelector=o,this.durationSelector=n,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0,this.destination=t,this.add(t)}return o(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new l.FastMap:new p.Map);var o=r.get(t);if(!o){r.set(t,o=new s.Subject);var n=new y(t,o,this);this.durationSelector&&this._selectDuration(t,o),this.destination.next(n)}this.elementSelector?this._selectElement(e,o):this.tryGroupNext(e,o)},t.prototype._selectElement=function(e,t){var r;try{r=this.elementSelector(e)}catch(e){return void this.error(e)}this.tryGroupNext(r,t)},t.prototype._selectDuration=function(e,t){var r;try{r=this.durationSelector(new y(e,t))}catch(e){return void this.error(e)}this.add(r.subscribe(new u(e,t,this)))},t.prototype.tryGroupNext=function(e,t){t.isUnsubscribed||t.next(e)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.isUnsubscribed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(n.Subscriber),u=function(e){function t(t,r,o){e.call(this),this.key=t,this.group=r,this.parent=o}return o(t,e),t.prototype._next=function(){this.tryComplete()},t.prototype._error=function(e){this.tryError(e)},t.prototype._complete=function(){this.tryComplete()},t.prototype.tryError=function(e){var t=this.group;t.isUnsubscribed||t.error(e),this.parent.removeGroup(this.key)},t.prototype.tryComplete=function(){var e=this.group;e.isUnsubscribed||e.complete(),this.parent.removeGroup(this.key)},t}(n.Subscriber),y=function(e){function t(t,r,o){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=o}return o(t,e),t.prototype._subscribe=function(e){var t=new a.Subscription,r=this,o=r.refCountSubscription,n=r.groupSubject;return o&&!o.isUnsubscribed&&t.add(new m(o)),t.add(n.subscribe(e)),t},t}(i.Observable);r.GroupedObservable=y;var m=function(e){function t(t){e.call(this),this.parent=t,t.count++}return o(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.isUnsubscribed||this.isUnsubscribed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(a.Subscription)},{"../Observable":5,"../Subject":11,"../Subscriber":13,"../Subscription":14,"../util/FastMap":255,"../util/Map":257}],187:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../util/noop");r.ignoreElements=function(){return this.lift(new i)};var i=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new s(e))},e}(),s=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype._next=function(){a.noop()},t}(n.Subscriber)},{"../Subscriber":13,"../util/noop":269}],188:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../util/EmptyError");r.last=function(e,t,r){return this.lift(new i(e,t,r,this))};var i=function(){function e(e,t,r,o){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=o}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),s=function(e){function t(t,r,o,n,a){e.call(this,t),this.predicate=r,this.resultSelector=o,this.defaultValue=n,this.source=a,this.hasValue=!1,this.index=0,"undefined"!=typeof n&&(this.lastValue=n,this.hasValue=!0)}return o(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new a.EmptyError)},t}(n.Subscriber)},{"../Subscriber":13,"../util/EmptyError":254}],189:[function(e,t,r){"use strict";r.letProto=function(e){return e(this)}},{}],190:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.map=function(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(e,t))};var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.project,this.thisArg))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.project=r,this.count=0,this.thisArg=o||this}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(n.Subscriber)},{"../Subscriber":13}],191:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.mapTo=function(e){return this.lift(new a(e))};var a=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.value))},e}(),i=function(e){function t(t,r){e.call(this,t),this.value=r}return o(t,e),t.prototype._next=function(){this.destination.next(this.value)},t}(n.Subscriber)},{"../Subscriber":13}],192:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../Notification");r.materialize=function(){return this.lift(new i)};var i=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return o(t,e),t.prototype._next=function(e){this.destination.next(a.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(a.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(a.Notification.createComplete()),e.complete()},t}(n.Subscriber)},{"../Notification":4,"../Subscriber":13}],193:[function(e,t,r){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,o=null,s=e[e.length-1];return i.isScheduler(s)?(o=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof s&&(r=e.pop()),1===e.length?e[0]:new n.ArrayObservable(e,o).lift(new a.MergeAllOperator(r))}var n=e("../observable/ArrayObservable"),a=e("./mergeAll"),i=e("../util/isScheduler");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.unshift(this),o.apply(this,e)},r.mergeStatic=o},{"../observable/ArrayObservable":120,"../util/isScheduler":268,"./mergeAll":194}],194:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),this.lift(new i(e))};var i=function(){function e(e){this.concurrent=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.concurrent))},e}();r.MergeAllOperator=i;var s=function(e){function t(t,r){e.call(this,t),this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,e))):this.buffer.push(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(n.OuterSubscriber);r.MergeAllSubscriber=s},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],195:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/subscribeToResult"),a=e("../OuterSubscriber");r.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),this.lift(new i(e,t,r))};var i=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.project,this.resultSelector,this.concurrent))},e}();r.MergeMapOperator=i;var s=function(e){function t(t,r,o,n){void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=o,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t=this.index++,r;try{r=this.project(e,t)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(r,e,t)},t.prototype._innerSub=function(e,t,r){this.add(n.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o){this.resultSelector?this._notifyResultSelector(e,t,r,o):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,o){var n;try{n=this.resultSelector(e,t,r,o)}catch(e){return void this.destination.error(e)}this.destination.next(n)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);r.MergeMapSubscriber=s},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],196:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),this.lift(new i(e,t,r))};var i=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.ish,this.resultSelector,this.concurrent))},e}();r.MergeMapToOperator=i;var s=function(e){function t(t,r,o,n){void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=o,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,o=this.ish,n=this.destination;this.active++,this._innerSub(o,n,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,o,n){this.add(a.subscribeToResult(this,e,o,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,o){var n=this,a=n.resultSelector,i=n.destination;a?this.trySelectResult(e,t,r,o):i.next(t)},t.prototype.trySelectResult=function(e,t,r,o){var n=this,a=n.resultSelector,i=n.destination,s;try{s=a(e,t,r,o)}catch(e){return void i.error(e)}i.next(s)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(n.OuterSubscriber);r.MergeMapToSubscriber=s},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],197:[function(e,t,r){"use strict";var o=e("../observable/ConnectableObservable");r.multicast=function(e){var t;return t="function"==typeof e?e:function(){return e},new o.ConnectableObservable(this,t)}},{"../observable/ConnectableObservable":123}],198:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../Notification");r.observeOn=function(e,t){return void 0===t&&(t=0),this.lift(new i(e,t))};var i=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.scheduler,this.delay))},e}();r.ObserveOnOperator=i;var s=function(e){function t(t,r,o){void 0===o&&(o=0),e.call(this,t),this.scheduler=r,this.delay=o}return o(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r)},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new p(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(n.Subscriber);r.ObserveOnSubscriber=s;var p=function(){return function(e,t){this.notification=e,this.destination=t}}();r.ObserveOnMessage=p},{"../Notification":4,"../Subscriber":13}],199:[function(e,t,r){"use strict";var o=e("../util/not"),n=e("./filter");r.partition=function(e,t){return[n.filter.call(this,e),n.filter.call(this,o.not(e,t))]}},{"../util/not":270,"./filter":183}],200:[function(e,t,r){"use strict";function o(e,t){return function(r){for(var o=r,n=0,a;n<t;n++)if(a=o[e[n]],"undefined"!=typeof a)o=a;else return;return o}}var n=e("./map");r.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("List of properties cannot be empty.");return n.map.call(this,o(e,r))}},{"./map":190}],201:[function(e,t,r){"use strict";var o=e("../Subject"),n=e("./multicast");r.publish=function(){return n.multicast.call(this,new o.Subject)}},{"../Subject":11,"./multicast":197}],202:[function(e,t,r){"use strict";var o=e("../BehaviorSubject"),n=e("./multicast");r.publishBehavior=function(e){return n.multicast.call(this,new o.BehaviorSubject(e))}},{"../BehaviorSubject":2,"./multicast":197}],203:[function(e,t,r){"use strict";var o=e("../AsyncSubject"),n=e("./multicast");r.publishLast=function(){return n.multicast.call(this,new o.AsyncSubject)}},{"../AsyncSubject":1,"./multicast":197}],204:[function(e,t,r){"use strict";var o=e("../ReplaySubject"),n=e("./multicast");r.publishReplay=function(e,t,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),n.multicast.call(this,new o.ReplaySubject(e,t,r))}},{"../ReplaySubject":9,"./multicast":197}],205:[function(e,t,r){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length)if(a.isArray(e[0]))e=e[0];else return e[0];return new i.ArrayObservable(e).lift(new l)}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../util/isArray"),i=e("../observable/ArrayObservable"),s=e("../OuterSubscriber"),p=e("../util/subscribeToResult");r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&a.isArray(e[0])&&(e=e[0]),e.unshift(this),o.apply(this,e)},r.raceStatic=o;var l=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new d(e))},e}();r.RaceOperator=l;var d=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t;r++){var o=e[r],n=p.subscribeToResult(this,o,o,r);this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var n=this.subscriptions[o];n.unsubscribe(),this.remove(n)}this.subscriptions=null}this.destination.next(t)},t}(s.OuterSubscriber);r.RaceSubscriber=d},{"../OuterSubscriber":8,"../observable/ArrayObservable":120,"../util/isArray":262,"../util/subscribeToResult":272}],206:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.reduce=function(e,t){return this.lift(new a(e,t))};var a=function(){function e(e,t){this.project=e,this.seed=t}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.project,this.seed))},e}();r.ReduceOperator=a;var i=function(e){function t(t,r,o){e.call(this,t),this.hasValue=!1,this.acc=o,this.project=r,this.hasSeed="undefined"!=typeof o}return o(t,e),t.prototype._next=function(e){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(e):(this.acc=e,this.hasValue=!0)},t.prototype._tryReduce=function(e){var t;try{t=this.project(this.acc,e)}catch(e){return void this.destination.error(e)}this.acc=t},t.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},t}(n.Subscriber);r.ReduceSubscriber=i},{"../Subscriber":13}],207:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../observable/EmptyObservable");r.repeat=function(e){return void 0===e&&(e=-1),0===e?new a.EmptyObservable:0>e?this.lift(new i(-1,this)):this.lift(new i(e-1,this))};var i=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.count,this.source))},e}(),s=function(e){function t(t,r,o){e.call(this,t),this.count=r,this.source=o}return o(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this,r=t.source,o=t.count;if(0===o)return e.prototype.complete.call(this);-1<o&&(this.count=o-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,r.subscribe(this)}},t}(n.Subscriber)},{"../Subscriber":13,"../observable/EmptyObservable":125}],208:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.retry=function(e){return void 0===e&&(e=-1),this.lift(new a(e,this))};var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.count,this.source))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.count=r,this.source=o}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this,o=r.source,n=r.count;if(0===n)return e.prototype.error.call(this,t);-1<n&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,o.subscribe(this)}},t}(n.Subscriber)},{"../Subscriber":13}],209:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subject"),a=e("../util/tryCatch"),i=e("../util/errorObject"),s=e("../OuterSubscriber"),p=e("../util/subscribeToResult");r.retryWhen=function(e){return this.lift(new l(e,this))};var l=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new d(e,this.notifier,this.source))},e}(),d=function(e){function t(t,r,o){e.call(this,t),this.notifier=r,this.source=o}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,o=this.retries,s=this.retriesSubscription;if(!o){if(r=new n.Subject,o=a.tryCatch(this.notifier)(r),o===i.errorObject)return e.prototype.error.call(this,i.errorObject.e);s=p.subscribeToResult(this,o)}else this.errors=null,this.retriesSubscription=null;this.unsubscribe(),this.isUnsubscribed=!1,this.errors=r,this.retries=o,this.retriesSubscription=s,r.next(t)}},t.prototype._unsubscribe=function(){var e=this,t=e.errors,r=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(){var e=this,t=e.errors,r=e.retries,o=e.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.isUnsubscribed=!1,this.errors=t,this.retries=r,this.retriesSubscription=o,this.source.subscribe(this)},t}(s.OuterSubscriber)},{"../OuterSubscriber":8,"../Subject":11,"../util/errorObject":261,"../util/subscribeToResult":272,"../util/tryCatch":275}],210:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.sample=function(e){return this.lift(new i(e))};var i=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.notifier))},e}(),s=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],211:[function(e,t,r){"use strict";function o(e){var t=e.subscriber,r=e.delay;t.notifyNext(),this.schedule(e,r)}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../Subscriber"),i=e("../scheduler/async");r.sampleTime=function(e,t){return void 0===t&&(t=i.async),this.lift(new s(e,t))};var s=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.delay,this.scheduler))},e}(),p=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(o,r,{subscriber:this,delay:r}))}return n(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(a.Subscriber)},{"../Subscriber":13,"../scheduler/async":248}],212:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.scan=function(e,t){return this.lift(new a(e,t))};var a=function(){function e(e,t){this.accumulator=e,this.seed=t}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.accumulator,this.seed))},e}(),i=function(e){function t(t,r,o){e.call(this,t),this.accumulator=r,this.accumulatorSet=!1,this.seed=o,this.accumulator=r,this.accumulatorSet="undefined"!=typeof o}return o(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.accumulatorSet=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){return this.accumulatorSet?this._tryNext(e):void(this.seed=e,this.destination.next(e))},t.prototype._tryNext=function(e){var t;try{t=this.accumulator(this.seed,e)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(n.Subscriber)},{"../Subscriber":13}],213:[function(e,t,r){"use strict";function o(){return new a.Subject}var n=e("./multicast"),a=e("../Subject");r.share=function(){return n.multicast.call(this,o).refCount()}},{"../Subject":11,"./multicast":197}],214:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../util/EmptyError");r.single=function(e){return this.lift(new i(e,this))};var i=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.predicate,this.source))},e}(),s=function(e){function t(t,r,o){e.call(this,t),this.predicate=r,this.source=o,this.seenValue=!1,this.index=0}return o(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.predicate;this.index++,t?this.tryNext(e):this.applySingleValue(e)},t.prototype.tryNext=function(e){try{var t=this.predicate(e,this.index,this.source);t&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;0<this.index?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new a.EmptyError)},t}(n.Subscriber)},{"../Subscriber":13,"../util/EmptyError":254}],215:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.skip=function(e){return this.lift(new a(e))};var a=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.total))},e}(),i=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return o(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(n.Subscriber)},{"../Subscriber":13}],216:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.skipUntil=function(e){return this.lift(new i(e))};var i=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.notifier))},e}(),s=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],217:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.skipWhile=function(e){return this.lift(new a(e))};var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.predicate))},e}(),i=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=!!t}catch(e){this.destination.error(e)}},t}(n.Subscriber)},{"../Subscriber":13}],218:[function(e,t,r){"use strict";var o=e("../observable/ArrayObservable"),n=e("../observable/ScalarObservable"),a=e("../observable/EmptyObservable"),i=e("./concat"),s=e("../util/isScheduler");r.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var p=e.length;return 1===p?i.concatStatic(new n.ScalarObservable(e[0],r),this):1<p?i.concatStatic(new o.ArrayObservable(e,r),this):i.concatStatic(new a.EmptyObservable(r),this)}},{"../observable/ArrayObservable":120,"../observable/EmptyObservable":125,"../observable/ScalarObservable":136,"../util/isScheduler":268,"./concat":168}],219:[function(e,t,r){"use strict";var o=e("../observable/SubscribeOnObservable");r.subscribeOn=function(e,t){return void 0===t&&(t=0),new o.SubscribeOnObservable(this,t,e)}},{"../observable/SubscribeOnObservable":137}],220:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r._switch=function(){return this.lift(new i)};var i=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.active=0,this.hasCompleted=!1}return o(t,e),t.prototype._next=function(e){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=a.subscribeToResult(this,e))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},t.prototype.unsubscribeInner=function(){this.active=0<this.active?this.active-1:0;var e=this.innerSubscription;e&&(e.unsubscribe(),this.remove(e))},t.prototype.notifyNext=function(e,t){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],221:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.switchMap=function(e,t){return this.lift(new i(e,t))};var i=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.project,this.resultSelector))},e}(),s=function(e){function t(t,r,o){e.call(this,t),this.project=r,this.resultSelector=o,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.index++,r;try{r=this.project(e,t)}catch(e){return void this.destination.error(e)}this._innerSub(r,e,t)},t.prototype._innerSub=function(e,t,r){var o=this.innerSubscription;o&&o.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;(!t||t.isUnsubscribed)&&e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,o){this.resultSelector?this._tryNotifyNext(e,t,r,o):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,o){var n;try{n=this.resultSelector(e,t,r,o)}catch(e){return void this.destination.error(e)}this.destination.next(n)},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],222:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.switchMapTo=function(e,t){return this.lift(new i(e,t))};var i=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.observable,this.resultSelector))},e}(),s=function(e){function t(t,r,o){e.call(this,t),this.inner=r,this.resultSelector=o,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;(!t||t.isUnsubscribed)&&e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,o){var n=this,a=n.resultSelector,i=n.destination;a?this.tryResultSelector(e,t,r,o):i.next(t)},t.prototype.tryResultSelector=function(e,t,r,o){var n=this,a=n.resultSelector,i=n.destination,s;try{s=a(e,t,r,o)}catch(e){return void i.error(e)}i.next(s)},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],223:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../util/ArgumentOutOfRangeError"),i=e("../observable/EmptyObservable");r.take=function(e){return 0===e?new i.EmptyObservable:this.lift(new s(e))};var s=function(){function e(e){if(this.total=e,0>this.total)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.total))},e}(),p=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.total;++this.count<=t&&(this.destination.next(e),this.count===t&&(this.destination.complete(),this.unsubscribe()))},t}(n.Subscriber)},{"../Subscriber":13,"../observable/EmptyObservable":125,"../util/ArgumentOutOfRangeError":253}],224:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../util/ArgumentOutOfRangeError"),i=e("../observable/EmptyObservable");r.takeLast=function(e){return 0===e?new i.EmptyObservable:this.lift(new s(e))};var s=function(){function e(e){if(this.total=e,0>this.total)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.total))},e}(),p=function(e){function t(t,r){e.call(this,t),this.total=r,this.ring=[],this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,o=this.count++;if(t.length<r)t.push(e);else{t[o%r]=e}},t.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var r=this.count>=this.total?this.total:this.count,o=this.ring,n=0,a;n<r;n++)a=t++%r,e.next(o[a]);e.complete()},t}(n.Subscriber)},{"../Subscriber":13,"../observable/EmptyObservable":125,"../util/ArgumentOutOfRangeError":253}],225:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.takeUntil=function(e){return this.lift(new i(e))};var i=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.notifier))},e}(),s=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype.notifyNext=function(){this.complete()},t.prototype.notifyComplete=function(){},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],226:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.takeWhile=function(e){return this.lift(new a(e))};var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t._subscribe(new i(e,this.predicate))},e}(),i=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return o(t,e),t.prototype._next=function(e){var t=this.destination,r;try{r=this.predicate(e,this.index++)}catch(e){return void t.error(e)}this.nextOrComplete(e,r)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;t?r.next(e):r.complete()},t}(n.Subscriber)},{"../Subscriber":13}],227:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.throttle=function(e){return this.lift(new i(e))};var i=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.durationSelector))},e}(),s=function(e){function t(t,r){e.call(this,t),this.destination=t,this.durationSelector=r}return o(t,e),t.prototype._next=function(e){this.throttled||this.tryDurationSelector(e)},t.prototype.tryDurationSelector=function(e){var t=null;try{t=this.durationSelector(e)}catch(e){return void this.destination.error(e)}this.emitAndThrottle(e,t)},t.prototype.emitAndThrottle=function(e,t){this.add(this.throttled=a.subscribeToResult(this,t)),this.destination.next(e)},t.prototype._unsubscribe=function(){var e=this.throttled;e&&(this.remove(e),this.throttled=null,e.unsubscribe())},t.prototype.notifyNext=function(){this._unsubscribe()},t.prototype.notifyComplete=function(){this._unsubscribe()},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],228:[function(e,t,r){"use strict";function o(e){var t=e.subscriber;t.clearThrottle()}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../Subscriber"),i=e("../scheduler/async");r.throttleTime=function(e,t){return void 0===t&&(t=i.async),this.lift(new s(e,t))};var s=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.delay,this.scheduler))},e}(),p=function(e){function t(t,r,o){e.call(this,t),this.delay=r,this.scheduler=o}return n(t,e),t.prototype._next=function(e){this.throttled||(this.add(this.throttled=this.scheduler.schedule(o,this.delay,{subscriber:this})),this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(e.unsubscribe(),this.remove(e),this.throttled=null)},t}(a.Subscriber)},{"../Subscriber":13,"../scheduler/async":248}],229:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../scheduler/async"),a=e("../util/isDate"),i=e("../Subscriber");r.timeout=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=n.async);var o=a.isDate(e),i=o?+e-r.now():Math.abs(e);return this.lift(new s(i,o,t,r))};var s=function(){function e(e,t,r,o){this.waitFor=e,this.absoluteTimeout=t,this.errorToSend=r,this.scheduler=o}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},e}(),p=function(e){function t(t,r,o,n,a){e.call(this,t),this.absoluteTimeout=r,this.waitFor=o,this.errorToSend=n,this.scheduler=a,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return o(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.notifyTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index;this.scheduler.schedule(t.dispatchTimeout,this.waitFor,{subscriber:this,index:e}),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.notifyTimeout=function(){this.error(this.errorToSend||new Error("timeout"))},t}(i.Subscriber)},{"../Subscriber":13,"../scheduler/async":248,"../util/isDate":263}],230:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../scheduler/async"),a=e("../util/isDate"),i=e("../OuterSubscriber"),s=e("../util/subscribeToResult");r.timeoutWith=function(e,t,r){void 0===r&&(r=n.async);var o=a.isDate(e),i=o?+e-r.now():Math.abs(e);return this.lift(new p(i,o,t,r))};var p=function(){function e(e,t,r,o){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=o}return e.prototype.call=function(e,t){return t._subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),l=function(e){function t(t,r,o,n,a){e.call(this),this.destination=t,this.absoluteTimeout=r,this.waitFor=o,this.withObservable=n,this.scheduler=a,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,t.add(this),this.scheduleTimeout()}return o(t,e),Object.defineProperty(t.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),t.dispatchTimeout=function(e){var t=e.subscriber,r=e.index;t.hasCompleted||t.previousIndex!==r||t.handleTimeout()},t.prototype.scheduleTimeout=function(){var e=this.index,r={subscriber:this,index:e};this.scheduler.schedule(t.dispatchTimeout,this.waitFor,r),this.index++,this._previousIndex=e},t.prototype._next=function(e){this.destination.next(e),this.absoluteTimeout||this.scheduleTimeout()},t.prototype._error=function(e){this.destination.error(e),this._hasCompleted=!0},t.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},t.prototype.handleTimeout=function(){if(!this.isUnsubscribed){var e=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=s.subscribeToResult(this,e))}},t}(i.OuterSubscriber)},{"../OuterSubscriber":8,"../scheduler/async":248,"../util/isDate":263,"../util/subscribeToResult":272}],231:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber");r.toArray=function(){return this.lift(new a)};var a=function(){function e(){}return e.prototype.call=function(e,t){return t._subscribe(new i(e))},e}(),i=function(e){function t(t){e.call(this,t),this.array=[]}return o(t,e),t.prototype._next=function(e){this.array.push(e)},t.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},t}(n.Subscriber)},{"../Subscriber":13}],232:[function(e,t,r){"use strict";var o=e("../util/root");r.toPromise=function(e){var t=this;if(e||(o.root.Rx&&o.root.Rx.config&&o.root.Rx.config.Promise?e=o.root.Rx.config.Promise:o.root.Promise&&(e=o.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var o;t.subscribe(function(e){return o=e},function(e){return r(e)},function(){return e(o)})})}},{"../util/root":271}],233:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subject"),a=e("../OuterSubscriber"),i=e("../util/subscribeToResult");r.window=function(e){return this.lift(new s(e))};var s=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){return t._subscribe(new p(e,this.windowBoundaries))},e}(),p=function(e){function t(t,r){e.call(this,t),this.destination=t,this.windowBoundaries=r,this.add(i.subscribeToResult(this,r)),this.openWindow()}return o(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new n.Subject;t.add(r),t.next(r)},t}(a.OuterSubscriber)},{"../OuterSubscriber":8,"../Subject":11,"../util/subscribeToResult":272}],234:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subscriber"),a=e("../Subject");r.windowCount=function(e,t){return void 0===t&&(t=0),this.lift(new i(e,t))};var i=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.windowSize,this.startWindowEvery))},e}(),s=function(e){function t(t,r,o){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=o,this.windows=[new a.Subject],this.count=0;var n=this.windows[0];t.add(n),t.next(n)}return o(t,e),t.prototype._next=function(e){for(var t=0<this.startWindowEvery?this.startWindowEvery:this.windowSize,r=this.destination,o=this.windowSize,n=this.windows,s=n.length,p=0;p<s;p++)n[p].next(e);var l=this.count-o+1;if(0<=l&&0==l%t&&n.shift().complete(),0==++this.count%t){var d=new a.Subject;n.push(d),r.add(d),r.next(d)}},t.prototype._error=function(e){for(var t=this.windows;0<t.length;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;0<e.length;)e.shift().complete();this.destination.complete()},t}(n.Subscriber)},{"../Subject":11,"../Subscriber":13}],235:[function(e,t,r){"use strict";function o(e){var t=e.subscriber,r=e.windowTimeSpan,o=e.window;o&&o.complete(),e.window=t.openWindow(),this.schedule(e,r)}function n(e){var t=e.windowTimeSpan,r=e.subscriber,o=e.scheduler,n=e.windowCreationInterval,i=r.openWindow(),s=this,p={action:s,subscription:null};p.subscription=o.schedule(a,t,{subscriber:r,window:i,context:p}),s.add(p.subscription),s.schedule(e,n)}function a(e){var t=e.subscriber,r=e.window,o=e.context;o&&o.action&&o.subscription&&o.action.remove(o.subscription),t.closeWindow(r)}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=e("../Subscriber"),p=e("../Subject"),l=e("../scheduler/async");r.windowTime=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=l.async),this.lift(new d(e,t,r))};var d=function(){function e(e,t,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.scheduler=r}return e.prototype.call=function(e,t){return t._subscribe(new c(e,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},e}(),c=function(e){function t(t,r,i,s){if(e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=i,this.scheduler=s,this.windows=[],null!==i&&0<=i){var p=this.openWindow(),l={subscriber:this,window:p,context:null},d={windowTimeSpan:r,windowCreationInterval:i,subscriber:this,scheduler:s};this.add(s.schedule(a,r,l)),this.add(s.schedule(n,i,d))}else{var c=this.openWindow(),u={subscriber:this,window:c,windowTimeSpan:r};this.add(s.schedule(o,r,u))}}return i(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,o=0,n;o<r;o++)n=t[o],n.isUnsubscribed||n.next(e)},t.prototype._error=function(e){for(var t=this.windows;0<t.length;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows,t;0<e.length;)t=e.shift(),t.isUnsubscribed||t.complete();this.destination.complete()},t.prototype.openWindow=function(){var e=new p.Subject;this.windows.push(e);var t=this.destination;return t.add(e),t.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.Subscriber)},{"../Subject":11,"../Subscriber":13,"../scheduler/async":248}],236:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subject"),a=e("../Subscription"),i=e("../util/tryCatch"),s=e("../util/errorObject"),p=e("../OuterSubscriber"),l=e("../util/subscribeToResult");r.windowToggle=function(e,t){return this.lift(new d(e,t))};var d=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t._subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,r,o){e.call(this,t),this.openings=r,this.closingSelector=o,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,r,r))}return o(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,o=0;o<r;o++)t[o].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var o=r.length,n=-1,a;++n<o;)a=r[n],a.window.error(t),a.subscription.unsubscribe();e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,o=-1,n;++o<r;)n=t[o],n.window.complete(),n.subscription.unsubscribe();e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1,o;++r<t;)o=e[r],o.window.unsubscribe(),o.subscription.unsubscribe()},t.prototype.notifyNext=function(e,t){if(e===this.openings){var r=this.closingSelector,o=i.tryCatch(r)(t);if(o===s.errorObject)return this.error(s.errorObject.e);var p=new n.Subject,d=new a.Subscription,c={window:p,subscription:d};this.contexts.push(c);var u=l.subscribeToResult(this,o,c);u.isUnsubscribed?this.closeWindow(this.contexts.length-1):(u.context=c,d.add(u)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],o=r.window,n=r.subscription;t.splice(e,1),o.complete(),n.unsubscribe()}},t}(p.OuterSubscriber)},{"../OuterSubscriber":8,"../Subject":11,"../Subscription":14,"../util/errorObject":261,"../util/subscribeToResult":272,"../util/tryCatch":275}],237:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Subject"),a=e("../util/tryCatch"),i=e("../util/errorObject"),s=e("../OuterSubscriber"),p=e("../util/subscribeToResult");r.windowWhen=function(e){return this.lift(new l(e))};var l=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t._subscribe(new d(e,this.closingSelector))},e}(),d=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return o(t,e),t.prototype.notifyNext=function(e,t,r,o,n){this.openWindow(n)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new n.Subject;this.destination.next(r);var o=a.tryCatch(this.closingSelector)();if(o===i.errorObject){var s=i.errorObject.e;this.destination.error(s),this.window.error(s)}else this.add(this.closingNotification=p.subscribeToResult(this,o)),this.add(r)},t}(s.OuterSubscriber)},{"../OuterSubscriber":8,"../Subject":11,"../util/errorObject":261,"../util/subscribeToResult":272,"../util/tryCatch":275}],238:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;"function"==typeof e[e.length-1]&&(r=e.pop());return this.lift(new i(e,r))};var i=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.observables,this.project))},e}(),s=function(e){function t(t,r,o){e.call(this,t),this.observables=r,this.project=o,this.toRespond=[];var n=r.length;this.values=Array(n);for(var s=0;s<n;s++)this.toRespond.push(s);for(var s=0,p;s<n;s++)p=r[s],this.add(a.subscribeToResult(this,p,p,s))}return o(t,e),t.prototype.notifyNext=function(e,t,r){this.values[r]=t;var o=this.toRespond;if(0<o.length){var n=o.indexOf(r);-1!==n&&o.splice(n,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(n.OuterSubscriber)},{"../OuterSubscriber":8,"../util/subscribeToResult":272}],239:[function(e,t,r){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new a.ArrayObservable(e).lift(new c(r))}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e("../observable/ArrayObservable"),i=e("../util/isArray"),s=e("../Subscriber"),p=e("../OuterSubscriber"),l=e("../util/subscribeToResult"),d=e("../symbol/iterator");r.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.unshift(this),o.apply(this,e)},r.zipStatic=o;var c=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t._subscribe(new u(e,this.project))},e}();r.ZipOperator=c;var u=function(e){function t(t,r,o){void 0===o&&(o=Object.create(null)),e.call(this,t),this.index=0,this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=o}return n(t,e),t.prototype._next=function(e){var t=this.iterators,r=this.index++;i.isArray(e)?t.push(new m(e)):"function"==typeof e[d.$$iterator]?t.push(new y(e[d.$$iterator]())):t.push(new g(this.destination,this,e,r))},t.prototype._complete=function(){var e=this.iterators,t=e.length;this.active=t;for(var r=0,o;r<t;r++)o=e[r],o.stillUnsubscribed?this.add(o.subscribe(o,r)):this.active--},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,o=0,n;o<t;o++)if(n=e[o],"function"==typeof n.hasValue&&!n.hasValue())return;for(var a=!1,s=[],o=0;o<t;o++){var n=e[o],p=n.next();if(n.hasCompleted()&&(a=!0),p.done)return void r.complete();s.push(p.value)}this.project?this._tryProject(s):r.next(s),a&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.Subscriber);r.ZipSubscriber=u;var y=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),m=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[d.$$iterator]=function(){return this},e.prototype.next=function(){var e=this.index++,t=this.array;return e<this.length?{value:t[e],done:!1}:{done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),g=function(e){function t(t,r,o,n){e.call(this,t),this.parent=r,this.observable=o,this.index=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return n(t,e),t.prototype[d.$$iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return l.subscribeToResult(this,this.observable,this,t)},t}(p.OuterSubscriber)},{"../OuterSubscriber":8,"../Subscriber":13,"../observable/ArrayObservable":120,"../symbol/iterator":250,"../util/isArray":262,"../util/subscribeToResult":272}],240:[function(e,t,r){"use strict";var o=e("./zip");r.zipAll=function(e){return this.lift(new o.ZipOperator(e))}},{"./zip":239}],241:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/Immediate"),a=e("./FutureAction"),i=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype._schedule=function(t,r){if(void 0===r&&(r=0),0<r)return e.prototype._schedule.call(this,t,r);this.delay=r,this.state=t;var o=this.scheduler;return o.actions.push(this),o.scheduledId||(o.scheduledId=n.Immediate.setImmediate(function(){o.scheduledId=null,o.flush()})),this},t.prototype._unsubscribe=function(){var t=this.scheduler,r=t.scheduledId,o=t.actions;e.prototype._unsubscribe.call(this),0===o.length&&(t.active=!1,null!=r&&(t.scheduledId=null,n.Immediate.clearImmediate(r)))},t}(a.FutureAction);r.AsapAction=i},{"../util/Immediate":256,"./FutureAction":244}],242:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./AsapAction"),a=e("./QueueScheduler"),i=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.scheduleNow=function(e,t){return new n.AsapAction(this,e).schedule(t)},t}(a.QueueScheduler);r.AsapScheduler=i},{"./AsapAction":241,"./QueueScheduler":246}],243:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./FutureAction"),a=e("./QueueScheduler"),i=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.scheduleNow=function(e,t){return new n.FutureAction(this,e).schedule(t,0)},t}(a.QueueScheduler);r.AsyncScheduler=i},{"./FutureAction":244,"./QueueScheduler":246}],244:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../util/root"),a=e("../Subscription"),i=function(e){function t(t,r){e.call(this),this.scheduler=t,this.work=r,this.pending=!1}return o(t,e),t.prototype.execute=function(){if(this.isUnsubscribed)this.error=new Error("executing a cancelled action");else try{this.work(this.state)}catch(t){this.unsubscribe(),this.error=t}},t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this.isUnsubscribed?this:this._schedule(e,t)},t.prototype._schedule=function(e,t){var r=this;void 0===t&&(t=0),this.state=e,this.pending=!0;var o=this.id;return null!=o&&this.delay===t?this:(this.delay=t,null!=o&&(this.id=null,n.root.clearInterval(o)),this.id=n.root.setInterval(function(){r.pending=!1;var e=r,t=e.id,o=e.scheduler;o.actions.push(r),o.flush(),!1===r.pending&&null!=t&&(r.id=null,n.root.clearInterval(t))},t),this)},t.prototype._unsubscribe=function(){this.pending=!1;var e=this,t=e.id,r=e.scheduler,o=r.actions,a=o.indexOf(this);null!=t&&(this.id=null,n.root.clearInterval(t)),-1!==a&&o.splice(a,1),this.work=null,this.state=null,this.scheduler=null},t}(a.Subscription);r.FutureAction=i},{"../Subscription":14,"../util/root":271}],245:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("./FutureAction"),a=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype._schedule=function(t,r){if(void 0===r&&(r=0),0<r)return e.prototype._schedule.call(this,t,r);this.delay=r,this.state=t;var o=this.scheduler;return o.actions.push(this),o.flush(),this},t}(n.FutureAction);r.QueueAction=a},{"./FutureAction":244}],246:[function(e,t,r){"use strict";var o=e("./QueueAction"),n=e("./FutureAction"),a=function(){function e(){this.active=!1,this.actions=[],this.scheduledId=null}return e.prototype.now=function(){return Date.now()},e.prototype.flush=function(){if(!(this.active||this.scheduledId)){this.active=!0;for(var e=this.actions,t=null;t=e.shift();)if(t.execute(),t.error)throw this.active=!1,t.error;this.active=!1}},e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),0>=t?this.scheduleNow(e,r):this.scheduleLater(e,t,r)},e.prototype.scheduleNow=function(e,t){return new o.QueueAction(this,e).schedule(t)},e.prototype.scheduleLater=function(e,t,r){return new n.FutureAction(this,e).schedule(r,t)},e}();r.QueueScheduler=a},{"./FutureAction":244,"./QueueAction":245}],247:[function(e,t,r){"use strict";var o=e("./AsapScheduler");r.asap=new o.AsapScheduler},{"./AsapScheduler":242}],248:[function(e,t,r){"use strict";var o=e("./AsyncScheduler");r.async=new o.AsyncScheduler},{"./AsyncScheduler":243}],249:[function(e,t,r){"use strict";var o=e("./QueueScheduler");r.queue=new o.QueueScheduler},{"./QueueScheduler":246}],250:[function(e,t,r){"use strict";var o=e("../util/root"),n=o.root.Symbol;if("function"==typeof n)n.iterator?r.$$iterator=n.iterator:"function"==typeof n.for&&(r.$$iterator=n.for("iterator"));else if(o.root.Set&&"function"==typeof new o.root.Set()["@@iterator"])r.$$iterator="@@iterator";else if(o.root.Map){for(var a=Object.getOwnPropertyNames(o.root.Map.prototype),s=0,p;s<a.length;++s)if(p=a[s],"entries"!==p&&"size"!==p&&o.root.Map.prototype[p]===o.root.Map.prototype.entries){r.$$iterator=p;break}}else r.$$iterator="@@iterator"},{"../util/root":271}],251:[function(e,t,r){"use strict";var o=e("../util/root"),n=o.root.Symbol;"function"==typeof n?n.observable?r.$$observable=n.observable:(r.$$observable="function"==typeof n.for?n.for("observable"):n("observable"),n.observable=r.$$observable):r.$$observable="@@observable"},{"../util/root":271}],252:[function(e,t,r){"use strict";var o=e("../util/root"),n=o.root.Symbol;r.$$rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber"},{"../util/root":271}],253:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(){e.call(this,"argument out of range"),this.name="ArgumentOutOfRangeError"}return o(t,e),t}(Error);r.ArgumentOutOfRangeError=n},{}],254:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(){e.call(this,"no elements in sequence"),this.name="EmptyError"}return o(t,e),t}(Error);r.EmptyError=n},{}],255:[function(e,t,r){"use strict";var o=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var o in r)r.hasOwnProperty(o)&&null!==r[o]&&e.call(t,r[o],o)},e.prototype.clear=function(){this.values={}},e}();r.FastMap=o},{}],256:[function(e,t,r){"use strict";var o=e("./root"),n=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.setImmediate=this.canUseProcessNextTick()?this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.createReadyStateChangeSetImmediate():this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return!!this.root.MessageChannel},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return!!(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=function e(){var t=e,r=t.handler,o=t.args;"function"==typeof r?r.apply(void 0,o):new Function(""+r)()};return o.handler=e,o.args=t,o},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function r(o){var n=r.instance;o.source===e&&"string"==typeof o.data&&0===o.data.indexOf(t)&&n.runIfPresent(+o.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var o=function e(){var t=e,r=t.messagePrefix,o=t.instance,n=o.addFromSetImmediateArguments(arguments);return o.root.postMessage(r+n,"*"),n};return o.instance=this,o.messagePrefix=t,o},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function e(){var t=e,r=t.channel,o=t.instance,n=o.addFromSetImmediateArguments(arguments);return r.port2.postMessage(n),n};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,r=t.root,o=r.document,n=o.documentElement,a=t.addFromSetImmediateArguments(arguments),i=o.createElement("script");return i.onreadystatechange=function(){t.runIfPresent(a),i.onreadystatechange=null,n.removeChild(i),i=null},n.appendChild(i),a};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return e.instance=this,e},e}();r.ImmediateDefinition=n,r.Immediate=new n(o.root)},{"./root":271}],257:[function(e,t,r){"use strict";var o=e("./root"),n=e("./MapPolyfill");r.Map=o.root.Map||function(){return n.MapPolyfill}()},{"./MapPolyfill":258,"./root":271}],258:[function(e,t,r){"use strict";var o=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();r.MapPolyfill=o},{}],259:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(){e.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return o(t,e),t}(Error);r.ObjectUnsubscribedError=n},{}],260:[function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(t){e.call(this),this.errors=t,this.name="UnsubscriptionError",this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n"):""}return o(t,e),t}(Error);r.UnsubscriptionError=n},{}],261:[function(e,t,r){"use strict";r.errorObject={e:{}}},{}],262:[function(e,t,r){"use strict";r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],263:[function(e,t,r){"use strict";r.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},{}],264:[function(e,t,r){"use strict";r.isFunction=function(e){return"function"==typeof e}},{}],265:[function(e,t,r){"use strict";var o=e("../util/isArray");r.isNumeric=function(e){return!o.isArray(e)&&0<=e-parseFloat(e)+1}},{"../util/isArray":262}],266:[function(e,t,r){"use strict";r.isObject=function(e){return null!=e&&"object"==typeof e}},{}],267:[function(e,t,r){"use strict";r.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],268:[function(e,t,r){"use strict";r.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],269:[function(e,t,r){"use strict";r.noop=function(){}},{}],270:[function(e,t,r){"use strict";r.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}},{}],271:[function(e,t,r){(function(e){"use strict";var o={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};r.root=o[typeof self]&&self||o[typeof window]&&window;var n=o[typeof r]&&r&&!r.nodeType&&r,a=o[typeof t]&&t&&!t.nodeType&&t,i=o[typeof e]&&e;i&&(i.global===i||i.window===i)&&(r.root=i)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],272:[function(e,t,r){"use strict";var o=e("./root"),n=e("./isArray"),a=e("./isPromise"),s=e("../Observable"),p=e("../symbol/iterator"),l=e("../symbol/observable"),d=e("../InnerSubscriber");r.subscribeToResult=function(e,t,r,c){var u=new d.InnerSubscriber(e,r,c);if(!u.isUnsubscribed){if(t instanceof s.Observable)return t._isScalar?(u.next(t.value),void u.complete()):t.subscribe(u);if(n.isArray(t)){for(var y=0,m=t.length;y<m&&!u.isUnsubscribed;y++)u.next(t[y]);u.isUnsubscribed||u.complete()}else{if(a.isPromise(t))return t.then(function(e){u.isUnsubscribed||(u.next(e),u.complete())},function(e){return u.error(e)}).then(null,function(e){o.root.setTimeout(function(){throw e})}),u;if("function"==typeof t[p.$$iterator]){for(var g=0,f=t,h;g<f.length&&(h=f[g],u.next(h),!u.isUnsubscribed);g++);u.isUnsubscribed||u.complete()}else if("function"==typeof t[l.$$observable]){var b=t[l.$$observable]();if("function"!=typeof b.subscribe)u.error("invalid observable");else return b.subscribe(new d.InnerSubscriber(e,r,c))}else u.error(new TypeError("unknown type returned"))}}}},{"../InnerSubscriber":3,"../Observable":5,"../symbol/iterator":250,"../symbol/observable":251,"./isArray":262,"./isPromise":267,"./root":271}],273:[function(e,t,r){"use strict";r.throwError=function(t){throw t}},{}],274:[function(e,t,r){"use strict";var o=e("../Subscriber"),n=e("../symbol/rxSubscriber");r.toSubscriber=function(e,t,r){if(e&&"object"==typeof e){if(e instanceof o.Subscriber)return e;if("function"==typeof e[n.$$rxSubscriber])return e[n.$$rxSubscriber]()}return new o.Subscriber(e,t,r)}},{"../Subscriber":13,"../symbol/rxSubscriber":252}],275:[function(e,t,r){"use strict";function o(){try{return a.apply(this,arguments)}catch(t){return n.errorObject.e=t,n.errorObject}}var n=e("./errorObject"),a;r.tryCatch=function(e){return a=e,o}},{"./errorObject":261}]},{},[10])(10)});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/Subject"),require("rxjs/Observable")):"function"==typeof define&&define.amd?define(["exports","rxjs/Subject","rxjs/Observable"],t):t((e.ng=e.ng||{},e.ng.core=e.ng.core||{}),e.Rx,e.Rx)}(this,function(e,t){"use strict";function r(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function o(e){return e.name?e.name:typeof e}function n(e){return void 0!==e&&null!==e}function a(e){return void 0===e||null===e}function i(e){return"string"==typeof e}function s(e){return"function"==typeof e}function p(e){return s(e)}function l(e){return n(e)&&s(e.then)}function d(e){return Array.isArray(e)}function c(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function u(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function y(e){return e}function m(e){return!a(e)&&e}function g(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function f(e){console.log(e)}function h(e){console.warn(e)}function _(){if(a(Ne))if(n(Oe.Symbol)&&n(Symbol.iterator))Ne=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0,r;t<e.length;++t)r=e[t],"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ne=r);return Ne}function v(e){return!g(e)}function S(e){return e.__forward_ref__=S,e.toString=function(){return c(this())},e}function C(e){return s(e)&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===S?e():e}function E(e){return s(e)&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function x(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+c(e)+" as constructor");if(s(e))return e;if(e instanceof Array){var r=e,o=r.length-1,n=e[o];if(!s(n))throw new Error("Last position of Class method array must be Function in key "+t+" was '"+c(n)+"'");if(o!=n.length)throw new Error("Number of annotations ("+o+") does not match number of arguments ("+n.length+") in the function: "+c(n));for(var a=[],p=0,l=r.length-1,d;p<l;p++){d=[],a.push(d);var u=r[p];if(u instanceof Array)for(var y=0;y<u.length;y++)d.push(E(u[y]));else s(u)?d.push(E(u)):d.push(u)}return He.defineMetadata("parameters",a,n),n}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+c(e)+"'")}function T(e){var t=x(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),r=t.prototype;if(e.hasOwnProperty("extends")){if(!s(e.extends))throw new Error("Class definition 'extends' property must be a constructor function was: "+c(e.extends));t.prototype=r=Object.create(e.extends.prototype)}for(var o in e)"extends"!=o&&"prototype"!=o&&e.hasOwnProperty(o)&&(r[o]=x(e[o],o));return this&&this.annotations instanceof Array&&He.defineMetadata("annotations",this.annotations,t),t.name||(t.overriddenName="class"+ze++),t}function P(e,t){function r(r){var o=new e(r);if(this instanceof e)return o;var n=s(this)&&this.annotations instanceof Array?this.annotations:[];n.push(o);var a=function(e){var t=He.getOwnMetadata("annotations",e)||[];return t.push(o),He.defineMetadata("annotations",t,e),e};return a.annotations=n,a.Class=T,t&&t(a),a}return void 0===t&&(t=null),r.prototype=Object.create(e.prototype),r.annotationCls=e,r}function O(e){function t(){function t(e,t,r){for(var o=He.getMetadata("parameters",e)||[];o.length<=r;)o.push(null);o[r]=o[r]||[];var a=o[r];return a.push(n),He.defineMetadata("parameters",o,e),e}for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];var n=Object.create(e.prototype);return e.apply(n,r),this instanceof e?n:(t.annotation=n,t)}return t.prototype=Object.create(e.prototype),t.annotationCls=e,t}function A(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=Object.create(e.prototype);return e.apply(o,t),this instanceof e?o:function(e,t){var r=He.getOwnMetadata("propMetadata",e.constructor)||{};r[t]=r[t]||[],r[t].unshift(o),He.defineMetadata("propMetadata",r,e.constructor)}}return t.prototype=Object.create(e.prototype),t.annotationCls=e,t}function w(e,t){if(n(e))for(var r=0,o;r<e.length;r++)o=e[r],d(o)?w(o,t):t.push(o);return t}function k(e){return!!g(e)&&(d(e)||!(e instanceof Ht)&&_()in e)}function M(e,t,r){for(var o=e[_()](),n=t[_()]();;){var a=o.next(),i=n.next();if(a.done&&i.done)return!0;if(a.done||i.done)return!1;if(!r(a.value,i.value))return!1}}function I(e,t){if(d(e))for(var r=0;r<e.length;r++)t(e[r]);else for(var o=e[_()](),n;!(n=o.next()).done;)t(n.value)}function R(){throw new rr("unimplemented")}function N(e){for(var t=[],r=0;r<e.length;++r){if(Yt.contains(t,e[r]))return t.push(e[r]),t;t.push(e[r])}return t}function D(e){if(1<e.length){var t=N(Yt.reversed(e)),r=t.map(function(e){return c(e.token)});return" ("+r.join(" -> ")+")"}return""}function V(e){return e?e.map(function(e){var t=e.type,r=t.annotationCls,o=e.args?e.args:[],n=Object.create(r.prototype);return r.apply(n,o),n}):[]}function L(e,t){Zt.forEach(t,function(t,r){return e.set(r,t)})}function j(e,t){var r=t.useClass,o=t.useValue,n=t.useExisting,a=t.useFactory,i=t.deps,s=t.multi;return new Er(e,{useClass:r,useValue:o,useExisting:n,useFactory:a,deps:i,multi:s})}function F(e){return e&&"object"==typeof e&&e.provide}function U(e){return new Er(e.provide,e)}function B(e){var t,r;if(n(e.useClass)){var o=C(e.useClass);t=Cr.factory(o),r=K(o)}else n(e.useExisting)?(t=function(e){return e},r=[Pr.fromKey(fr.get(e.useExisting))]):n(e.useFactory)?(t=e.useFactory,r=G(e.useFactory,e.dependencies)):(t=function(){return e.useValue},r=Or);return new wr(t,r)}function z(e){return new Ar(fr.get(e.token),[B(e)],e.multi)}function H(e){var t=W(e,[]),r=t.map(z);return Xt.values(q(r,new Map))}function q(e,t){for(var r=0;r<e.length;r++){var o=e[r],a=t.get(o.key.id);if(n(a)){if(o.multiProvider!==a.multiProvider)throw new gr(a,o);if(o.multiProvider)for(var s=0;s<o.resolvedFactories.length;s++)a.resolvedFactories.push(o.resolvedFactories[s]);else t.set(o.key.id,o)}else{var p;p=o.multiProvider?new Ar(o.key,Yt.clone(o.resolvedFactories),o.multiProvider):o,t.set(o.key.id,p)}}return t}function W(e,t){return e.forEach(function(e){if(e instanceof we)t.push(j(e,{useClass:e}));else if(e instanceof Er)t.push(e);else if(F(e))t.push(U(e));else{if(!(e instanceof Array))throw new ur(e instanceof Tr?e.token:e);W(e,t)}}),t}function G(e,t){if(a(t))return K(e);var r=t.map(function(e){return[e]});return t.map(function(o){return Q(e,o,r)})}function K(e){var t=Cr.parameters(e);if(a(t))return[];if(t.some(a))throw new yr(e,t);return t.map(function(r){return Q(e,r,t)})}function Q(e,t,r){var o=[],a=null,s=!1;if(!d(t))return t instanceof De?X(t.token,s,null,null,o):X(t,s,null,null,o);for(var p=null,l=null,c=0,u;c<t.length;++c)u=t[c],u instanceof we?a=u:u instanceof De?a=u.token:u instanceof Ve?s=!0:u instanceof Fe?l=u:u instanceof Be?l=u:u instanceof Ue?p=u:u instanceof Le&&(n(u.token)&&(a=u.token),o.push(u));if(a=C(a),n(a))return X(a,s,p,l,o);throw new yr(e,r)}function X(e,t,r,o,n){return new Pr(fr.get(e),t,r,o,n)}function Z(e,t){for(var r=Array(e._proto.numberOfProviders),o=0;o<e._proto.numberOfProviders;++o)r[o]=t(e._proto.getProviderAtIndex(o));return r}function Y(){return Me.fromCharCode(97+ke.floor(25*ke.random()))}function $(){throw new rr("Runtime compiler is not loaded")}function J(e,t,r){var o=e.previousIndex;if(null===o)return o;var n=0;return r&&o<r.length&&(n=r[o]),o+t+n}function ee(e,t){return k(e)&&k(t)?M(e,t,ee):!(k(e)||v(e)||k(t)||v(t))||u(e,t)}function te(){var e=Ae.wtf;return e&&(Mo=e.trace)&&(Io=Mo.events,!0)}function re(e,t){return void 0===t&&(t=null),Io.createScope(e,t)}function oe(e,t){return Mo.leaveScope(e,t),t}function ne(e,t){return Mo.beginTimeRange(e,t)}function ae(e){Mo.endTimeRange(e)}function ie(){return null}function se(e){return pe(e,[])}function pe(e,t){for(var r=0,o;r<e.length;r++)if(o=e[r],o instanceof No){var a=o;if(t.push(a.nativeElement),n(a.nestedViews))for(var s=0;s<a.nestedViews.length;s++)pe(a.nestedViews[s].rootNodesOrAppElements,t)}else t.push(o);return t}function le(e,t){var r;if(a(e))r=Fo;else if(e.length<t){var o=e.length;r=Yt.createFixedSize(t);for(var n=0;n<t;n++)r[n]=n<o?e[n]:Fo}else r=e;return r}function de(e){return null==e?"":e.toString()}function ce(){if(on)throw new rr("Cannot enable prod mode after platform setup.");rn=!1}function ue(){return on=!0,rn}function ye(e){if(n(sn)&&!sn.disposed)throw new rr("There can be only one platform. Destroy the previous one to create a new one.");sn=e.get(nn);var t=e.get(zr,null);return n(t)&&t.forEach(function(e){return e()}),sn}function me(e,t,r){void 0===r&&(r=[]);var o=new Ze("Platform: "+t);return function(t){return void 0===t&&(t=[]),he()||(e?e(r.concat(t).concat({provide:o,useValue:!0})):ye(Vr.resolveAndCreate(r.concat(t).concat({provide:o,useValue:!0})))),ge(o)}}function ge(e){var t=he();if(a(t))throw new rr("No platform exists!");if(n(t)&&a(t.injector.get(e,null)))throw new rr("A platform with a different configuration has been created. Please destroy it first.");return t}function fe(){n(sn)&&!sn.destroyed&&sn.destroy()}function he(){return n(sn)&&!sn.disposed?sn:null}function be(t,r){try{var o=r();return l(o)?o.catch(function(r){throw t.call(r),r}):o}catch(r){throw t.call(r),r}}function _e(e,t,r){if(!e)throw new Error("Cannot find '"+r+"' in '"+t+"'");return e}function ve(e,t,r){e.childNodes.forEach(function(e){e instanceof wn&&(t(e)&&r.push(e),ve(e,t,r))})}function Se(e,t,r){e instanceof wn&&e.childNodes.forEach(function(e){t(e)&&r.push(e),e instanceof wn&&Se(e,t,r)})}function Ce(e){return kn.get(e)}function Ee(e){kn.set(e.nativeNode,e)}function xe(e){kn.delete(e.nativeNode)}function Te(e){var t={};return e.forEach(function(e){Zt.forEach(e,function(e,r){t[r]=e})}),t}function Pe(e){var t;if(e instanceof No){var r=e;if(t=r.nativeElement,n(r.nestedViews))for(var o=r.nestedViews.length-1,a;0<=o;o--)a=r.nestedViews[o],0<a.rootNodesOrAppElements.length&&(t=Pe(a.rootNodesOrAppElements[a.rootNodesOrAppElements.length-1]))}else t=e;return t}var Oe="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var Ae=Oe,we=Function,ke=Ae.Math;Ae.assert=function(){};var Me=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,o=0;o<e.length&&e[o]==t;o++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,o=e.length-1;0<=o&&e[o]==t;o--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return-1!=e.indexOf(t)},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),Ie=function(e){function t(t){e.call(this),this.message=t}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),Re=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Ie("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t);}else if(!(16==t)){var r=parseInt(e,t);if(!isNaN(r))return r}else if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t);throw new Ie("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),Ne=null,De=function(){function e(e){this.token=e}return e.prototype.toString=function(){return"@Inject("+c(this.token)+")"},e}(),Ve=function(){function e(){}return e.prototype.toString=function(){return"@Optional()"},e}(),Le=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),je=function(){return function(){}}(),Fe=function(){function e(){}return e.prototype.toString=function(){return"@Self()"},e}(),Ue=function(){function e(){}return e.prototype.toString=function(){return"@SkipSelf()"},e}(),Be=function(){function e(){}return e.prototype.toString=function(){return"@Host()"},e}(),ze=0,He=Ae.Reflect,qe=O(De),We=O(Ve),Ge=P(je),Ke=O(Fe),Qe=O(Be),Xe=O(Ue),Ze=function(){function e(e){this._desc=e}return e.prototype.toString=function(){return"Token "+this._desc},e}();Ze.decorators=[{type:Ge}],Ze.ctorParameters=[null];var Ye=new Ze("AnalyzeForEntryComponents"),$e=function(e){function t(t){e.call(this),this.attributeName=t}return __extends(t,e),Object.defineProperty(t.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@Attribute("+c(this.attributeName)+")"},t}(Le),Je=function(e){function t(t,r){var o=void 0===r?{}:r,n=o.descendants,a=o.first,i=o.read,s=void 0===i?null:i;e.call(this),this._selector=t,this.descendants=void 0!==n&&n,this.first=void 0!==a&&a,this.read=s}return __extends(t,e),Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return C(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVarBindingQuery",{get:function(){return i(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"varBindings",{get:function(){return Me.split(this.selector,/\s*,\s*/g)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@Query("+c(this.selector)+")"},t}(Le),et=function(e){function t(t,r){var o=void 0===r?{}:r,n=o.descendants,a=o.read,i=void 0===a?null:a;e.call(this,t,{descendants:void 0!==n&&n,read:i})}return __extends(t,e),t}(Je),tt=function(e){function t(t,r){var o=(void 0===r?{}:r).read,n=void 0===o?null:o;e.call(this,t,{descendants:!0,first:!0,read:n})}return __extends(t,e),t}(Je),rt=function(e){function t(t,r){var o=void 0===r?{}:r,n=o.descendants,a=o.first,i=o.read,s=void 0===i?null:i;e.call(this,t,{descendants:void 0!==n&&n,first:void 0!==a&&a,read:s})}return __extends(t,e),Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@ViewQuery("+c(this.selector)+")"},t}(Je),ot=function(e){function t(t,r){var o=(void 0===r?{}:r).read,n=void 0===o?null:o;e.call(this,t,{descendants:!0,read:n})}return __extends(t,e),t}(rt),nt=function(e){function t(t,r){var o=(void 0===r?{}:r).read,n=void 0===o?null:o;e.call(this,t,{descendants:!0,first:!0,read:n})}return __extends(t,e),t}(rt);e.ChangeDetectionStrategy,function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(e.ChangeDetectionStrategy||(e.ChangeDetectionStrategy={}));var at;!function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(at||(at={}));var it=[e.ChangeDetectionStrategy.OnPush,e.ChangeDetectionStrategy.Default],st=function(e){function t(t){var r=void 0===t?{}:t,o=r.selector,n=r.inputs,a=r.outputs,i=r.properties,s=r.events,p=r.host,l=r.providers,d=r.exportAs,c=r.queries;e.call(this),this.selector=o,this._inputs=n,this._properties=i,this._outputs=a,this._events=s,this.host=p,this.exportAs=d,this.queries=c,this._providers=l}return __extends(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return n(this._properties)&&0<this._properties.length?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return n(this._events)&&0<this._events.length?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providers",{get:function(){return this._providers},enumerable:!0,configurable:!0}),t}(je),pt=function(t){function r(r){var o=void 0===r?{}:r,n=o.selector,a=o.inputs,i=o.outputs,s=o.properties,p=o.events,l=o.host,d=o.exportAs,c=o.moduleId,u=o.providers,y=o.viewProviders,m=o.changeDetection,g=void 0===m?e.ChangeDetectionStrategy.Default:m,f=o.queries,h=o.templateUrl,b=o.template,_=o.styleUrls,v=o.styles,S=o.animations,C=o.directives,E=o.pipes,x=o.encapsulation,T=o.interpolation,P=o.entryComponents;t.call(this,{selector:n,inputs:a,outputs:i,properties:s,events:p,host:l,exportAs:d,providers:u,queries:f}),this.changeDetection=g,this._viewProviders=y,this.templateUrl=h,this.template=b,this.styleUrls=_,this.styles=v,this.directives=C,this.pipes=E,this.encapsulation=x,this.moduleId=c,this.animations=S,this.interpolation=T,this.entryComponents=P}return __extends(r,t),Object.defineProperty(r.prototype,"viewProviders",{get:function(){return this._viewProviders},enumerable:!0,configurable:!0}),r}(st),lt=function(e){function t(t){var r=t.name,o=t.pure;e.call(this),this.name=r,this._pure=o}return __extends(t,e),Object.defineProperty(t.prototype,"pure",{get:function(){return!n(this._pure)||this._pure},enumerable:!0,configurable:!0}),t}(je),dt=function(){return function(e){this.bindingPropertyName=e}}(),ct=function(){return function(e){this.bindingPropertyName=e}}(),ut=function(){return function(e){this.hostPropertyName=e}}(),yt=function(){return function(e,t){this.eventName=e,this.args=t}}(),mt=function(e){function t(t){void 0===t&&(t={}),e.call(this),this._providers=t.providers,this.declarations=t.declarations,this.imports=t.imports,this.exports=t.exports,this.entryComponents=t.entryComponents,this.bootstrap=t.bootstrap,this.schemas=t.schemas}return __extends(t,e),Object.defineProperty(t.prototype,"providers",{get:function(){return this._providers},enumerable:!0,configurable:!0}),t}(je),gt;!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(gt||(gt={}));var ft=[gt.OnInit,gt.OnDestroy,gt.DoCheck,gt.OnChanges,gt.AfterContentInit,gt.AfterContentChecked,gt.AfterViewInit,gt.AfterViewChecked],ht=function(){return function(){}}(),bt=function(){return function(){}}(),_t=function(){return function(){}}(),vt=function(){return function(){}}(),St=function(){return function(){}}(),Ct=function(){return function(){}}(),Et=function(){return function(){}}(),xt=function(){return function(){}}();e.ViewEncapsulation,function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None"}(e.ViewEncapsulation||(e.ViewEncapsulation={}));var Tt=[e.ViewEncapsulation.Emulated,e.ViewEncapsulation.Native,e.ViewEncapsulation.None],Pt=function(){return function(e){var t=void 0===e?{}:e,r=t.templateUrl,o=t.template,n=t.directives,a=t.pipes,i=t.encapsulation,s=t.styles,p=t.styleUrls,l=t.animations,d=t.interpolation;this.templateUrl=r,this.template=o,this.styleUrls=p,this.styles=s,this.directives=n,this.pipes=a,this.encapsulation=i,this.animations=l,this.interpolation=d}}(),Ot=P(pt),At=P(st),wt=O($e),kt=O(Je),Mt=A(et),It=A(tt),Rt=A(ot),Nt=A(nt),Dt=O(rt),Vt=P(lt),Lt=A(dt),jt=A(ct),Ft=A(ut),Ut=A(yt),Bt=P(mt),zt=function(e){function t(t){e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),t}(Error),Ht=Ae.Map,qt=Ae.Set,Wt=function(){try{if(1===new Ht([[1,2]]).size)return function(e){return new Ht(e)}}catch(t){}return function(e){for(var t=new Ht,r=0,o;r<e.length;r++)o=e[r],t.set(o[0],o[1]);return t}}(),Gt=function(){try{if(new Ht(new Ht()))return function(e){return new Ht(e)}}catch(t){}return function(e){var t=new Ht;return e.forEach(function(e,r){t.set(r,e)}),t}}(),Kt=function(){return new Ht().keys().next?function(e){for(var t=e.keys(),r;!(r=t.next()).done;)e.set(r.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),Qt=function(){try{if(new Ht().values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(t){}return function(e,t){var r=Yt.createFixedSize(e.size),o=0;return e.forEach(function(e,n){r[o]=t?e:n,o++}),r}}(),Xt=function(){function e(){}return e.clone=function(e){return Gt(e)},e.createFromStringMap=function(e){var t=new Ht;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return Wt(e)},e.clearValues=function(e){Kt(e)},e.iterable=function(e){return e},e.keys=function(e){return Qt(e,!1)},e.values=function(e){return Qt(e,!0)},e}(),Zt=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,o=Object.keys(e),n;r<o.length;r++)n=o[r],t(e[n],n)},e.merge=function(e,t){for(var r={},o=0,n=Object.keys(e),a;o<n.length;o++)a=n[o],r[a]=e[a];for(var i=0,s=Object.keys(t),a;i<s.length;i++)a=s[i],r[a]=t[a];return r},e.equals=function(e,t){var r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var n=0,a;n<r.length;n++)if(a=r[n],e[a]!==t[a])return!1;return!0},e}(),Yt=function(){function e(){}return e.createFixedSize=function(e){return Array(e)},e.createGrowableSize=function(e){return Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0,o;r<t.length;++r)o=e.indexOf(t[r]),e.splice(o,1)},e.remove=function(e,t){var r=e.indexOf(t);return-1<r&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=null),e.fill(t,r,null===o?e.length:o)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){n(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,o=-(1/0),n=0,i;n<e.length;n++)if(i=e[n],!a(i)){var s=t(i);s>o&&(r=i,o=s)}return r},e.flatten=function(e){var t=[];return w(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),$t=function(){var e=new qt([1,2,3]);return 3===e.size?function(e){return new qt(e)}:function(e){var t=new qt(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),Jt=function(){function e(){}return e.createFromList=function(e){return $t(e)},e.has=function(e,t){return e.has(t)},e.delete=function(e,t){e.delete(t)},e}(),er=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),tr=function(){function t(e,t){void 0===t&&(t=!0),this._logger=e,this._rethrowException=t}return t.exceptionToString=function(r,o,n){void 0===o&&(o=null),void 0===n&&(n=null);var a=new er,i=new t(a,!1);return i.call(r,o,n),a.res.join("\n")},t.prototype.call=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var o=this._findOriginalException(e),i=this._findOriginalStack(e),s=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),n(t)&&a(i)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(t))),n(r)&&this._logger.logError("REASON: "+r),n(o)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(o)),n(i)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(i))),n(s)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(s)),this._logger.logGroupEnd(),this._rethrowException)throw e},t.prototype._extractMessage=function(e){return e instanceof zt?e.wrapperMessage:e.toString()},t.prototype._longStackTrace=function(e){return k(e)?e.join("\n\n-----async gap-----\n"):e.toString()},t.prototype._findContext=function(e){try{return e instanceof zt?n(e.context)?e.context:this._findContext(e.originalException):null}catch(t){return null}},t.prototype._findOriginalException=function(t){if(!(t instanceof zt))return null;for(var r=t.originalException;r instanceof zt&&n(r.originalException);)r=r.originalException;return r},t.prototype._findOriginalStack=function(t){if(!(t instanceof zt))return null;for(var r=t,o=t.originalStack;r instanceof zt&&n(r.originalException);)r=r.originalException,r instanceof zt&&n(r.originalException)&&(o=r.originalStack);return o},t}(),rr=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),or=function(e){function t(t,r,o,n){e.call(this,t),this._wrapperMessage=t,this._originalException=r,this._originalStack=o,this._context=n,this._wrapperStack=new Error(t).stack}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return tr.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(zt),nr={},ar=nr,ir=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=nr),t===nr)throw new rr("No provider for "+c(e)+"!");return t},e}(),sr=function(){function e(){}return e.prototype.get=function(){return R()},e}();sr.THROW_IF_NOT_FOUND=nr,sr.NULL=new ir;var pr=function(e){function t(t,r,o){e.call(this,"DI Exception"),this.keys=[r],this.injectors=[t],this.constructResolvingMessage=o,this.message=this.constructResolvingMessage(this.keys)}return __extends(t,e),t.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(t.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),t}(rr),lr=function(e){function t(t,r){e.call(this,t,r,function(e){var t=c(Yt.first(e).token);return"No provider for "+t+"!"+D(e)})}return __extends(t,e),t}(pr),dr=function(e){function t(t,r){e.call(this,t,r,function(e){return"Cannot instantiate cyclic dependency!"+D(e)})}return __extends(t,e),t}(pr),cr=function(e){function t(t,r,o,n){e.call(this,"DI Exception",r,o,null),this.keys=[n],this.injectors=[t]}return __extends(t,e),t.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t)},Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){var e=c(Yt.first(this.keys).token);return"Error during instantiation of "+e+"!"+D(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),t}(or),ur=function(e){function t(t){e.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+t)}return __extends(t,e),t}(rr),yr=function(e){function t(r,o){e.call(this,t._genMessage(r,o))}return __extends(t,e),t._genMessage=function(e,t){for(var r=[],o=0,n=t.length,s;o<n;o++)s=t[o],a(s)||0==s.length?r.push("?"):r.push(s.map(c).join(" "));return"Cannot resolve all parameters for '"+c(e)+"'("+r.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+c(e)+"' is decorated with Injectable."},t}(rr),mr=function(e){function t(t){e.call(this,"Index "+t+" is out-of-bounds.")}return __extends(t,e),t}(rr),gr=function(e){function t(t,r){e.call(this,"Cannot mix multi providers and regular providers, got: "+t.toString()+" "+r.toString())}return __extends(t,e),t}(rr),fr=function(){function e(e,t){if(this.token=e,this.id=t,a(e))throw new rr("Token must be defined!")}return Object.defineProperty(e.prototype,"displayName",{get:function(){return c(this.token)},enumerable:!0,configurable:!0}),e.get=function(e){return br.get(C(e))},Object.defineProperty(e,"numberOfKeys",{get:function(){return br.numberOfKeys},enumerable:!0,configurable:!0}),e}(),hr=function(){function e(){this._allKeys=new Map}return e.prototype.get=function(e){if(e instanceof fr)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new fr(e,fr.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),e}(),br=new hr,_r=function(){function e(e){this._reflect=n(e)?e:Ae.Reflect}return e.prototype.isReflectionEnabled=function(){return!0},e.prototype.factory=function(e){switch(e.length){case 0:return function(){return new e};case 1:return function(t){return new e(t)};case 2:return function(t,r){return new e(t,r)};case 3:return function(t,r,o){return new e(t,r,o)};case 4:return function(t,r,o,n){return new e(t,r,o,n)};case 5:return function(t,r,o,n,a){return new e(t,r,o,n,a)};case 6:return function(t,r,o,n,a,i){return new e(t,r,o,n,a,i)};case 7:return function(t,r,o,n,a,i,s){return new e(t,r,o,n,a,i,s)};case 8:return function(t,r,o,n,a,i,s,p){return new e(t,r,o,n,a,i,s,p)};case 9:return function(t,r,o,n,a,i,s,p,l){return new e(t,r,o,n,a,i,s,p,l)};case 10:return function(t,r,o,n,a,i,s,p,l,d){return new e(t,r,o,n,a,i,s,p,l,d)};case 11:return function(t,r,o,n,a,i,s,p,l,d,c){return new e(t,r,o,n,a,i,s,p,l,d,c)};case 12:return function(t,r,o,n,a,i,s,p,l,d,c,u){return new e(t,r,o,n,a,i,s,p,l,d,c,u)};case 13:return function(t,r,o,n,a,i,s,p,l,d,c,u,y){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y)};case 14:return function(t,r,o,n,a,i,s,p,l,d,c,u,y,m){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y,m)};case 15:return function(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g)};case 16:return function(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f)};case 17:return function(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h)};case 18:return function(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b)};case 19:return function(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b,_){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b,_)};case 20:return function(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b,_,v){return new e(t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b,_,v)};}throw new Error("Cannot create a factory for '"+c(e)+"' because its constructor has more than 20 arguments")},e.prototype._zipTypesAndAnnotations=function(e,t){var r="undefined"==typeof e?Array(t.length):Array(e.length);for(var o=0;o<r.length;o++)r[o]="undefined"==typeof e?[]:e[o]==Object?[]:[e[o]],n(t)&&n(t[o])&&(r[o]=r[o].concat(t[o]));return r},e.prototype.parameters=function(e){if(n(e.parameters))return e.parameters;if(n(e.ctorParameters)){var t=e.ctorParameters,r=t.map(function(e){return e&&e.type}),o=t.map(function(e){return e&&V(e.decorators)});return this._zipTypesAndAnnotations(r,o)}if(n(this._reflect)&&n(this._reflect.getMetadata)){var a=this._reflect.getMetadata("parameters",e),i=this._reflect.getMetadata("design:paramtypes",e);if(n(i)||n(a))return this._zipTypesAndAnnotations(i,a)}var s=Array(e.length);return s.fill(void 0),s},e.prototype.annotations=function(e){if(n(e.annotations)){var t=e.annotations;return s(t)&&t.annotations&&(t=t.annotations),t}if(n(e.decorators))return V(e.decorators);if(n(this._reflect)&&n(this._reflect.getMetadata)){var t=this._reflect.getMetadata("annotations",e);if(n(t))return t}return[]},e.prototype.propMetadata=function(e){if(n(e.propMetadata)){var t=e.propMetadata;return s(t)&&t.propMetadata&&(t=t.propMetadata),t}if(n(e.propDecorators)){var r=e.propDecorators,o={};return Object.keys(r).forEach(function(e){o[e]=V(r[e])}),o}if(n(this._reflect)&&n(this._reflect.getMetadata)){var t=this._reflect.getMetadata("propMetadata",e);if(n(t))return t}return{}},e.prototype.interfaces=function(){return[]},e.prototype.hasLifecycleHook=function(e,t,r){if(!(e instanceof we))return!1;var o=e.prototype;return!!o[r]},e.prototype.getter=function(e){return new Function("o","return o."+e+";")},e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},e.prototype.method=function(e){return new Function("o","args","if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);")},e.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+c(e)},e}(),vr=function(){return function(){}}(),Sr=function(e){function t(t){e.call(this),this._injectableInfo=new Ht,this._getters=new Ht,this._setters=new Ht,this._methods=new Ht,this._usedKeys=null,this.reflectionCapabilities=t}return __extends(t,e),t.prototype.updateCapabilities=function(e){this.reflectionCapabilities=e},t.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},t.prototype.trackUsage=function(){this._usedKeys=new qt},t.prototype.listUnusedKeys=function(){var e=this;if(null==this._usedKeys)throw new rr("Usage tracking is disabled");var t=Xt.keys(this._injectableInfo);return t.filter(function(t){return!Jt.has(e._usedKeys,t)})},t.prototype.registerFunction=function(e,t){this._injectableInfo.set(e,t)},t.prototype.registerType=function(e,t){this._injectableInfo.set(e,t)},t.prototype.registerGetters=function(e){L(this._getters,e)},t.prototype.registerSetters=function(e){L(this._setters,e)},t.prototype.registerMethods=function(e){L(this._methods,e)},t.prototype.factory=function(e){if(this._containsReflectionInfo(e)){var t=this._getReflectionInfo(e).factory;return n(t)?t:null}return this.reflectionCapabilities.factory(e)},t.prototype.parameters=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).parameters;return n(t)?t:[]}return this.reflectionCapabilities.parameters(e)},t.prototype.annotations=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).annotations;return n(t)?t:[]}return this.reflectionCapabilities.annotations(e)},t.prototype.propMetadata=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).propMetadata;return n(t)?t:{}}return this.reflectionCapabilities.propMetadata(e)},t.prototype.interfaces=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).interfaces;return n(t)?t:[]}return this.reflectionCapabilities.interfaces(e)},t.prototype.hasLifecycleHook=function(e,t,r){var o=this.interfaces(e);return-1!==o.indexOf(t)||this.reflectionCapabilities.hasLifecycleHook(e,t,r)},t.prototype.getter=function(e){return this._getters.has(e)?this._getters.get(e):this.reflectionCapabilities.getter(e)},t.prototype.setter=function(e){return this._setters.has(e)?this._setters.get(e):this.reflectionCapabilities.setter(e)},t.prototype.method=function(e){return this._methods.has(e)?this._methods.get(e):this.reflectionCapabilities.method(e)},t.prototype._getReflectionInfo=function(e){return n(this._usedKeys)&&this._usedKeys.add(e),this._injectableInfo.get(e)},t.prototype._containsReflectionInfo=function(e){return this._injectableInfo.has(e)},t.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},t}(vr),Cr=new Sr(new _r()),Er=function(){function e(e,t){var r=t.useClass,o=t.useValue,n=t.useExisting,a=t.useFactory,i=t.deps,s=t.multi;this.token=e,this.useClass=r,this.useValue=o,this.useExisting=n,this.useFactory=a,this.dependencies=i,this._multi=s}return Object.defineProperty(e.prototype,"multi",{get:function(){return m(this._multi)},enumerable:!0,configurable:!0}),e}(),xr=function(e){function t(t,r){var o=r.toClass,n=r.toValue,a=r.toAlias,i=r.toFactory,s=r.deps,p=r.multi;e.call(this,t,{useClass:o,useValue:n,useExisting:a,useFactory:i,deps:s,multi:p})}return __extends(t,e),Object.defineProperty(t.prototype,"toClass",{get:function(){return this.useClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toValue",{get:function(){return this.useValue},enumerable:!0,configurable:!0}),t}(Er),Tr=function(){function e(e){this.token=e}return e.prototype.toClass=function(e){if(!p(e))throw new rr("Trying to create a class provider but \""+c(e)+"\" is not a class!");return new Er(this.token,{useClass:e})},e.prototype.toValue=function(e){return new Er(this.token,{useValue:e})},e.prototype.toAlias=function(e){if(a(e))throw new rr("Can not alias "+c(this.token)+" to a blank value!");return new Er(this.token,{useExisting:e})},e.prototype.toFactory=function(e,t){if(!s(e))throw new rr("Trying to create a factory provider but \""+c(e)+"\" is not a function!");return new Er(this.token,{useFactory:e,deps:t})},e}(),Pr=function(){function e(e,t,r,o,n){this.key=e,this.optional=t,this.lowerBoundVisibility=r,this.upperBoundVisibility=o,this.properties=n}return e.fromKey=function(t){return new e(t,!1,null,null,[])},e}(),Or=[],Ar=function(){function e(e,t,r){this.key=e,this.resolvedFactories=t,this.multiProvider=r}return Object.defineProperty(e.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),e}(),wr=function(){return function(e,t){this.factory=e,this.dependencies=t}}(),kr={},Mr=function(){function e(e,t){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var r=t.length;0<r&&(this.provider0=t[0],this.keyId0=t[0].key.id),1<r&&(this.provider1=t[1],this.keyId1=t[1].key.id),2<r&&(this.provider2=t[2],this.keyId2=t[2].key.id),3<r&&(this.provider3=t[3],this.keyId3=t[3].key.id),4<r&&(this.provider4=t[4],this.keyId4=t[4].key.id),5<r&&(this.provider5=t[5],this.keyId5=t[5].key.id),6<r&&(this.provider6=t[6],this.keyId6=t[6].key.id),7<r&&(this.provider7=t[7],this.keyId7=t[7].key.id),8<r&&(this.provider8=t[8],this.keyId8=t[8].key.id),9<r&&(this.provider9=t[9],this.keyId9=t[9].key.id)}return e.prototype.getProviderAtIndex=function(e){if(0==e)return this.provider0;if(1==e)return this.provider1;if(2==e)return this.provider2;if(3==e)return this.provider3;if(4==e)return this.provider4;if(5==e)return this.provider5;if(6==e)return this.provider6;if(7==e)return this.provider7;if(8==e)return this.provider8;if(9==e)return this.provider9;throw new mr(e)},e.prototype.createInjectorStrategy=function(e){return new Nr(e,this)},e}(),Ir=function(){function e(e,t){this.providers=t;var r=t.length;this.keyIds=Yt.createFixedSize(r);for(var o=0;o<r;o++)this.keyIds[o]=t[o].key.id}return e.prototype.getProviderAtIndex=function(e){if(0>e||e>=this.providers.length)throw new mr(e);return this.providers[e]},e.prototype.createInjectorStrategy=function(e){return new Dr(this,e)},e}(),Rr=function(){function e(e){this.numberOfProviders=e.length,this._strategy=e.length>10?new Ir(this,e):new Mr(this,e)}return e.fromResolvedProviders=function(t){return new e(t)},e.prototype.getProviderAtIndex=function(e){return this._strategy.getProviderAtIndex(e)},e}(),Nr=function(){function e(e,t){this.injector=e,this.protoStrategy=t,this.obj0=kr,this.obj1=kr,this.obj2=kr,this.obj3=kr,this.obj4=kr,this.obj5=kr,this.obj6=kr,this.obj7=kr,this.obj8=kr,this.obj9=kr}return e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},e.prototype.instantiateProvider=function(e){return this.injector._new(e)},e.prototype.getObjByKeyId=function(e){var t=this.protoStrategy,r=this.injector;return t.keyId0===e?(this.obj0===kr&&(this.obj0=r._new(t.provider0)),this.obj0):t.keyId1===e?(this.obj1===kr&&(this.obj1=r._new(t.provider1)),this.obj1):t.keyId2===e?(this.obj2===kr&&(this.obj2=r._new(t.provider2)),this.obj2):t.keyId3===e?(this.obj3===kr&&(this.obj3=r._new(t.provider3)),this.obj3):t.keyId4===e?(this.obj4===kr&&(this.obj4=r._new(t.provider4)),this.obj4):t.keyId5===e?(this.obj5===kr&&(this.obj5=r._new(t.provider5)),this.obj5):t.keyId6===e?(this.obj6===kr&&(this.obj6=r._new(t.provider6)),this.obj6):t.keyId7===e?(this.obj7===kr&&(this.obj7=r._new(t.provider7)),this.obj7):t.keyId8===e?(this.obj8===kr&&(this.obj8=r._new(t.provider8)),this.obj8):t.keyId9===e?(this.obj9===kr&&(this.obj9=r._new(t.provider9)),this.obj9):kr},e.prototype.getObjAtIndex=function(e){if(0==e)return this.obj0;if(1==e)return this.obj1;if(2==e)return this.obj2;if(3==e)return this.obj3;if(4==e)return this.obj4;if(5==e)return this.obj5;if(6==e)return this.obj6;if(7==e)return this.obj7;if(8==e)return this.obj8;if(9==e)return this.obj9;throw new mr(e)},e.prototype.getMaxNumberOfObjects=function(){return 10},e}(),Dr=function(){function e(e,t){this.protoStrategy=e,this.injector=t,this.objs=Yt.createFixedSize(e.providers.length),Yt.fill(this.objs,kr)}return e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},e.prototype.instantiateProvider=function(e){return this.injector._new(e)},e.prototype.getObjByKeyId=function(e){for(var t=this.protoStrategy,r=0;r<t.keyIds.length;r++)if(t.keyIds[r]===e)return this.objs[r]===kr&&(this.objs[r]=this.injector._new(t.providers[r])),this.objs[r];return kr},e.prototype.getObjAtIndex=function(e){if(0>e||e>=this.objs.length)throw new mr(e);return this.objs[e]},e.prototype.getMaxNumberOfObjects=function(){return this.objs.length},e}(),Vr=function(){function e(){}return e.resolve=function(e){return H(e)},e.resolveAndCreate=function(t,r){void 0===r&&(r=null);var o=e.resolve(t);return e.fromResolvedProviders(o,r)},e.fromResolvedProviders=function(e,t){return void 0===t&&(t=null),new Lr(Rr.fromResolvedProviders(e),t)},e.fromResolvedBindings=function(t){return e.fromResolvedProviders(t)},Object.defineProperty(e.prototype,"parent",{get:function(){return R()},enumerable:!0,configurable:!0}),e.prototype.debugContext=function(){return null},e.prototype.resolveAndCreateChild=function(){return R()},e.prototype.createChildFromResolved=function(){return R()},e.prototype.resolveAndInstantiate=function(){return R()},e.prototype.instantiateResolved=function(){return R()},e}(),Lr=function(){function e(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null),this._debugContext=r,this._constructionCounter=0,this._proto=e,this._parent=t,this._strategy=e._strategy.createInjectorStrategy(this)}return e.prototype.debugContext=function(){return this._debugContext()},e.prototype.get=function(e,t){return void 0===t&&(t=ar),this._getByKey(fr.get(e),null,null,t)},e.prototype.getAt=function(e){return this._strategy.getObjAtIndex(e)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),e.prototype.resolveAndCreateChild=function(e){var t=Vr.resolve(e);return this.createChildFromResolved(t)},e.prototype.createChildFromResolved=function(t){var r=new Rr(t),o=new e(r);return o._parent=this,o},e.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(Vr.resolve([e])[0])},e.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},e.prototype._new=function(e){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new dr(this,e.key);return this._instantiateProvider(e)},e.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=Yt.createFixedSize(e.resolvedFactories.length),r=0;r<e.resolvedFactories.length;++r)t[r]=this._instantiate(e,e.resolvedFactories[r]);return t}return this._instantiate(e,e.resolvedFactories[0])},e.prototype._instantiate=function(t,r){var o=r.factory,n=r.dependencies,a=n.length,i,e,s,p,l,d,c,u,y,m,g,f,h,b,_,v,S,C,E,x;try{i=0<a?this._getByReflectiveDependency(t,n[0]):null,e=1<a?this._getByReflectiveDependency(t,n[1]):null,s=2<a?this._getByReflectiveDependency(t,n[2]):null,p=3<a?this._getByReflectiveDependency(t,n[3]):null,l=4<a?this._getByReflectiveDependency(t,n[4]):null,d=5<a?this._getByReflectiveDependency(t,n[5]):null,c=6<a?this._getByReflectiveDependency(t,n[6]):null,u=7<a?this._getByReflectiveDependency(t,n[7]):null,y=8<a?this._getByReflectiveDependency(t,n[8]):null,m=9<a?this._getByReflectiveDependency(t,n[9]):null,g=10<a?this._getByReflectiveDependency(t,n[10]):null,f=11<a?this._getByReflectiveDependency(t,n[11]):null,h=12<a?this._getByReflectiveDependency(t,n[12]):null,b=13<a?this._getByReflectiveDependency(t,n[13]):null,_=14<a?this._getByReflectiveDependency(t,n[14]):null,v=15<a?this._getByReflectiveDependency(t,n[15]):null,S=16<a?this._getByReflectiveDependency(t,n[16]):null,C=17<a?this._getByReflectiveDependency(t,n[17]):null,E=18<a?this._getByReflectiveDependency(t,n[18]):null,x=19<a?this._getByReflectiveDependency(t,n[19]):null}catch(r){throw(r instanceof pr||r instanceof cr)&&r.addKey(this,t.key),r}var T;try{switch(a){case 0:T=o();break;case 1:T=o(i);break;case 2:T=o(i,e);break;case 3:T=o(i,e,s);break;case 4:T=o(i,e,s,p);break;case 5:T=o(i,e,s,p,l);break;case 6:T=o(i,e,s,p,l,d);break;case 7:T=o(i,e,s,p,l,d,c);break;case 8:T=o(i,e,s,p,l,d,c,u);break;case 9:T=o(i,e,s,p,l,d,c,u,y);break;case 10:T=o(i,e,s,p,l,d,c,u,y,m);break;case 11:T=o(i,e,s,p,l,d,c,u,y,m,g);break;case 12:T=o(i,e,s,p,l,d,c,u,y,m,g,f);break;case 13:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h);break;case 14:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h,b);break;case 15:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h,b,_);break;case 16:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h,b,_,v);break;case 17:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h,b,_,v,S);break;case 18:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h,b,_,v,S,C);break;case 19:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h,b,_,v,S,C,E);break;case 20:T=o(i,e,s,p,l,d,c,u,y,m,g,f,h,b,_,v,S,C,E,x);break;default:throw new rr("Cannot instantiate '"+t.key.displayName+"' because it has more than 20 dependencies");}}catch(r){throw new cr(this,r,r.stack,t.key)}return T},e.prototype._getByReflectiveDependency=function(e,t){return this._getByKey(t.key,t.lowerBoundVisibility,t.upperBoundVisibility,t.optional?null:ar)},e.prototype._getByKey=function(e,t,r,o){return e===jr?this:r instanceof Fe?this._getByKeySelf(e,o):this._getByKeyDefault(e,o,t)},e.prototype._throwOrNull=function(e,t){if(t!==ar)return t;throw new lr(this,e)},e.prototype._getByKeySelf=function(e,t){var r=this._strategy.getObjByKeyId(e.id);return r===kr?this._throwOrNull(e,t):r},e.prototype._getByKeyDefault=function(t,r,o){var n;for(n=o instanceof Ue?this._parent:this;n instanceof e;){var a=n,i=a._strategy.getObjByKeyId(t.id);if(i!==kr)return i;n=a._parent}return null===n?this._throwOrNull(t,r):n.get(t.token,r)},Object.defineProperty(e.prototype,"displayName",{get:function(){var e=Z(this,function(e){return" \""+e.key.displayName+"\" "}).join(", ");return"ReflectiveInjector(providers: ["+e+"])"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.displayName},e}(),jr=fr.get(sr),Fr=new Ze("Application Initializer"),Ur=function(){function e(e){var t=this;this._done=!1;var r=[];if(e)for(var o=0,n;o<e.length;o++)n=e[o](),l(n)&&r.push(n);this._donePromise=Promise.all(r).then(function(){t._done=!0}),0===r.length&&(this._done=!0)}return Object.defineProperty(e.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),e}();Ur.decorators=[{type:Ge}],Ur.ctorParameters=[{type:Array,decorators:[{type:qe,args:[Fr]},{type:We}]}];var Br=new Ze("AppId"),zr=new Ze("Platform Initializer"),Hr=new Ze("appBootstrapListener"),qr=new Ze("Application Packages Root URL"),Wr=function(){function e(){}return e.prototype.log=function(e){f(e)},e.prototype.warn=function(e){h(e)},e}();Wr.decorators=[{type:Ge}];var Gr=function(e){function t(t){e.call(this,"Can't compile synchronously as "+c(t)+" is still being loaded!"),this.compType=t}return __extends(t,e),t}(rr),Kr=function(){return function(e,t){this.ngModuleFactory=e,this.componentFactories=t}}(),Qr=function(){function e(){}return e.prototype.compileComponentAsync=function(e,t){throw void 0===t&&(t=null),$()},e.prototype.compileComponentSync=function(e,t){throw void 0===t&&(t=null),$()},e.prototype.compileModuleSync=function(){throw $()},e.prototype.compileModuleAsync=function(){throw $()},e.prototype.compileModuleAndAllComponentsSync=function(){throw $()},e.prototype.compileModuleAndAllComponentsAsync=function(){throw $()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(){},e}(),Xr=new Ze("compilerOptions"),Zr=function(){return function(){}}(),Yr=function(){function e(){}return e.prototype.supports=function(e){return k(e)},e.prototype.create=function(e,t){return new Jr(t)},e}(),$r=function(e,t){return t},Jr=function(){function e(e){this._trackByFn=e,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n(this._trackByFn)?this._trackByFn:$r}return Object.defineProperty(e.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,r=this._removalsHead,o=0,n=null;t||r;){var a=!r||t&&t.currentIndex<J(r,o,n)?t:r,s=J(a,o,n),p=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)o++;else{n||(n=[]);var l=s-o,d=p-o;if(l!=d){for(var c=0;c<l;c++){var u=c<n.length?n[c]:n[c]=0,y=u+c;d<=y&&y<l&&(n[c]=u+1)}var m=a.previousIndex;n[m]=d-l}}s!==p&&e(a,s,p)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(a(e)&&(e=[]),!k(e))throw new rr("Error trying to diff '"+e+"'");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var r=this._itHead,o=!1,n,a,i;if(d(e)){for(this._length=e.length,n=0;n<this._length;n++)a=e[n],i=this._trackByFn(n,a),null!==r&&u(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,a,i,n)),u(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,i,n),o=!0),r=r._next}else n=0,I(e,function(e){i=t._trackByFn(n,e),null!==r&&u(r.trackById,i)?(o&&(r=t._verifyReinsertion(r,e,i,n)),u(r.item,e)||t._addIdentityChange(r,e)):(r=t._mismatch(r,e,i,n),o=!0),r=r._next,n++}),this._length=n;return this._truncate(r),this._collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,r,o){var n;return null===e?n=this._itTail:(n=e._prev,this._remove(e)),e=null===this._linkedRecords?null:this._linkedRecords.get(r,o),null===e?(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r),null===e?e=this._addAfter(new eo(t,r),n,o):(u(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,n,o))):(u(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,n,o)),e},e.prototype._verifyReinsertion=function(e,t,r,o){var n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r);return null===n?e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)):e=this._reinsertAfter(n,e._prev,o),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var o=e._prevRemoved,n=e._nextRemoved;return null===o?this._removalsHead=n:o._nextRemoved=n,null===n?this._removalsTail=o:n._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e},e.prototype._moveAfter=function(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e},e.prototype._addAfter=function(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,r){var o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ro),this._linkedRecords.put(e),e.currentIndex=r,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ro),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e.prototype.toString=function(){var e=[];this.forEachItem(function(t){return e.push(t)});var t=[];this.forEachPreviousItem(function(e){return t.push(e)});var r=[];this.forEachAddedItem(function(e){return r.push(e)});var o=[];this.forEachMovedItem(function(e){return o.push(e)});var n=[];this.forEachRemovedItem(function(e){return n.push(e)});var a=[];return this.forEachIdentityChange(function(e){return a.push(e)}),"collection: "+e.join(", ")+"\nprevious: "+t.join(", ")+"\nadditions: "+r.join(", ")+"\nmoves: "+o.join(", ")+"\nremovals: "+n.join(", ")+"\nidentityChanges: "+a.join(", ")+"\n"},e}(),eo=function(){function e(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return e.prototype.toString=function(){return this.previousIndex===this.currentIndex?c(this.item):c(this.item)+"["+c(this.previousIndex)+"->"+c(this.currentIndex)+"]"},e}(),to=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<r.currentIndex)&&u(r.trackById,e))return r;return null},e.prototype.remove=function(e){var t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head},e}(),ro=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=y(e.trackById),r=this.map.get(t);n(r)||(r=new to,this.map.set(t,r)),r.add(e)},e.prototype.get=function(e,t){void 0===t&&(t=null);var r=y(e),o=this.map.get(r);return a(o)?null:o.get(e,t)},e.prototype.remove=function(e){var t=y(e.trackById),r=this.map.get(t);return r.remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e.prototype.toString=function(){return"_DuplicateMap("+c(this.map)+")"},e}(),oo=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||g(e)},e.prototype.create=function(){return new no},e}(),no=function(){function e(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(!e)e=new Map;else if(!(e instanceof Map||g(e)))throw new rr("Error trying to diff '"+e+"'");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var r=this._records,o=this._mapHead,n=null,a=null,i=!1;return this._forEach(e,function(e,s){var p;o&&s===o.key?(p=o,t._maybeAddToChanges(p,e)):(i=!0,null!==o&&(t._removeFromSeq(n,o),t._addToRemovals(o)),r.has(s)?(p=r.get(s),t._maybeAddToChanges(p,e)):(p=new ao(s),r.set(s,p),p.currentValue=e,t._addToAdditions(p))),i&&(t._isInRemovals(p)&&t._removeFromRemovals(p),null==a?t._mapHead=p:a._next=p),n=o,a=p,o=o&&o._next}),this._truncate(n,o),this.isDirty},e.prototype._reset=function(){if(this.isDirty){var e;for(e=this._previousMapHead=this._mapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},e.prototype._truncate=function(e,t){for(;null!==t;){null===e?this._mapHead=null:e._next=null;var r=t._next;this._addToRemovals(t),e=t,t=r}for(var o=this._removalsHead;null!==o;o=o._nextRemoved)o.previousValue=o.currentValue,o.currentValue=null,this._records.delete(o.key)},e.prototype._maybeAddToChanges=function(e,t){u(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._isInRemovals=function(e){return e===this._removalsHead||null!==e._nextRemoved||null!==e._prevRemoved},e.prototype._addToRemovals=function(e){null===this._removalsHead?this._removalsHead=this._removalsTail=e:(this._removalsTail._nextRemoved=e,e._prevRemoved=this._removalsTail,this._removalsTail=e)},e.prototype._removeFromSeq=function(e,t){var r=t._next;null===e?this._mapHead=r:e._next=r,t._next=null},e.prototype._removeFromRemovals=function(e){var t=e._prevRemoved,r=e._nextRemoved;null===t?this._removalsHead=r:t._nextRemoved=r,null===r?this._removalsTail=t:r._prevRemoved=t,e._prevRemoved=e._nextRemoved=null},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype.toString=function(){var e=[],t=[],r=[],o=[],n=[],a;for(a=this._mapHead;null!==a;a=a._next)e.push(c(a));for(a=this._previousMapHead;null!==a;a=a._nextPrevious)t.push(c(a));for(a=this._changesHead;null!==a;a=a._nextChanged)r.push(c(a));for(a=this._additionsHead;null!==a;a=a._nextAdded)o.push(c(a));for(a=this._removalsHead;null!==a;a=a._nextRemoved)n.push(c(a));return"map: "+e.join(", ")+"\nprevious: "+t.join(", ")+"\nadditions: "+o.join(", ")+"\nchanges: "+r.join(", ")+"\nremovals: "+n.join(", ")+"\n"},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Zt.forEach(e,t)},e}(),ao=function(){function e(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return e.prototype.toString=function(){return u(this.previousValue,this.currentValue)?c(this.key):c(this.key)+"["+c(this.previousValue)+"->"+c(this.currentValue)+"]"},e}(),io=function(){function e(e){this.factories=e}return e.create=function(t,r){if(n(r)){var o=Yt.clone(r.factories);return t=t.concat(o),new e(t)}return new e(t)},e.extend=function(t){return new Er(e,{useFactory:function(r){if(a(r))throw new rr("Cannot extend IterableDiffers without a parent injector");return e.create(t,r)},deps:[[e,new Ue,new Ve]]})},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(n(t))return t;throw new rr("Cannot find a differ supporting object '"+e+"' of type '"+o(e)+"'")},e}(),so=function(){function e(e){this.factories=e}return e.create=function(t,r){if(n(r)){var o=Yt.clone(r.factories);return t=t.concat(o),new e(t)}return new e(t)},e.extend=function(t){return new Er(e,{useFactory:function(r){if(a(r))throw new rr("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,r)},deps:[[e,new Ue,new Ve]]})},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(n(t))return t;throw new rr("Cannot find a differ supporting object '"+e+"'")},e}(),po={toString:function(){return"CD_INIT_VALUE"}},lo=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e}(),co=function(){function e(){this.hasWrappedValue=!1}return e.prototype.unwrap=function(e){return e instanceof lo?(this.hasWrappedValue=!0,e.wrapped):e},e.prototype.reset=function(){this.hasWrappedValue=!1},e}(),uo=function(){function e(e,t){this.previousValue=e,this.currentValue=t}return e.prototype.isFirstChange=function(){return this.previousValue===po},e}(),yo=function(){return function(){}}(),mo=[new oo],go=[new Yr],fo=new io(go),ho=new so(mo),bo=function(){return function(e,t,r,o,n,a){this.id=e,this.templateUrl=t,this.slotCount=r,this.encapsulation=o,this.styles=n,this.animations=a}}(),_o=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return R()},enumerable:!0,configurable:!0}),e}(),vo=function(){return function(){}}(),So=function(){return function(){}}();e.SecurityContext,function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(e.SecurityContext||(e.SecurityContext={}));var Co=function(){return function(){}}(),Eo=function(){return function(e){this.nativeElement=e}}(),xo=te(),To=xo?re:function(){return ie},Po=xo?oe:function(e,t){return t},Oo=xo?ne:function(){return null},Ao=xo?ae:function(){return null},wo=function(){function e(){}return Object.defineProperty(e.prototype,"element",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return R()},enumerable:!0,configurable:!0}),e}(),ko=function(){function e(e){this._element=e,this._createComponentInContainerScope=To("ViewContainerRef#createComponent()"),this._insertScope=To("ViewContainerRef#insert()"),this._removeScope=To("ViewContainerRef#remove()"),this._detachScope=To("ViewContainerRef#detach()")}return e.prototype.get=function(e){return this._element.nestedViews[e].ref},Object.defineProperty(e.prototype,"length",{get:function(){var e=this._element.nestedViews;return n(e)?e.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=-1);var o=e.createEmbeddedView(t);return this.insert(o,r),o},e.prototype.createComponent=function(e,t,r,o){void 0===t&&(t=-1),void 0===r&&(r=null),void 0===o&&(o=null);var a=this._createComponentInContainerScope(),i=n(r)?r:this._element.parentInjector,s=e.create(i,o);return this.insert(s.hostView,t),Po(a,s)},e.prototype.insert=function(e,t){void 0===t&&(t=-1);var r=this._insertScope();-1==t&&(t=this.length);var o=e;return this._element.attachView(o.internalView,t),Po(r,o)},e.prototype.move=function(e,t){var r=this._insertScope();if(-1!=t){var o=e;return this._element.moveView(o.internalView,t),Po(r,o)}},e.prototype.indexOf=function(e){return Yt.indexOf(this._element.nestedViews,e.internalView)},e.prototype.remove=function(e){void 0===e&&(e=-1);var t=this._removeScope();-1==e&&(e=this.length-1);var r=this._element.detachView(e);r.destroy(),Po(t)},e.prototype.detach=function(e){void 0===e&&(e=-1);var t=this._detachScope();-1==e&&(e=this.length-1);var r=this._element.detachView(e);return Po(t,r.ref)},e.prototype.clear=function(){for(var e=this.length-1;0<=e;e--)this.remove(e)},e}(),Mo,Io,Ro;!function(e){e[e.HOST=0]="HOST",e[e.COMPONENT=1]="COMPONENT",e[e.EMBEDDED=2]="EMBEDDED"}(Ro||(Ro={}));var No=function(){function e(e,t,r,o){this.index=e,this.parentIndex=t,this.parentView=r,this.nativeElement=o,this.nestedViews=null,this.componentView=null}return Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Eo(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vcRef",{get:function(){return new ko(this)},enumerable:!0,configurable:!0}),e.prototype.initComponent=function(e,t,r){this.component=e,this.componentConstructorViewQueries=t,this.componentView=r},Object.defineProperty(e.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),e.prototype.mapNestedViews=function(e,t){var r=[];return n(this.nestedViews)&&this.nestedViews.forEach(function(o){o.clazz===e&&r.push(t(o))}),r},e.prototype.moveView=function(e,t){var r=this.nestedViews.indexOf(e);if(e.type===Ro.COMPONENT)throw new rr("Component views can't be moved!");var o=this.nestedViews;null==o&&(o=[],this.nestedViews=o),Yt.removeAt(o,r),Yt.insert(o,t,e);var a;if(0<t){var i=o[t-1];a=i.lastRootNode}else a=this.nativeElement;n(a)&&e.renderer.attachViewAfter(a,e.flatRootNodes),e.markContentChildAsMoved(this)},e.prototype.attachView=function(e,t){if(e.type===Ro.COMPONENT)throw new rr("Component views can't be moved!");var r=this.nestedViews;null==r&&(r=[],this.nestedViews=r),Yt.insert(r,t,e);var o;if(0<t){var a=r[t-1];o=a.lastRootNode}else o=this.nativeElement;n(o)&&e.renderer.attachViewAfter(o,e.flatRootNodes),e.addToContentChildren(this)},e.prototype.detachView=function(e){var t=Yt.removeAt(this.nestedViews,e);if(t.type===Ro.COMPONENT)throw new rr("Component views can't be moved!");return t.detach(),t.removeFromContentChildren(this),t},e}(),Do=function(e){function t(t,r){var o="Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+r+"'.";t===po&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),e.call(this,o)}return __extends(t,e),t}(rr),Vo=function(e){function t(t,r,o){e.call(this,"Error in "+o.source,t,r,o)}return __extends(t,e),t}(or),Lo=function(e){function t(t){e.call(this,"Attempt to use a destroyed view: "+t)}return __extends(t,e),t}(rr),jo=function(){function e(e,t,r){this._renderer=e,this._appId=t,this._nextCompTypeId=0,this.sanitizer=r}return e.prototype.createRenderComponentType=function(e,t,r,o,n){return new bo(this._appId+"-"+this._nextCompTypeId++,e,t,r,o,n)},e.prototype.renderComponent=function(e){return this._renderer.renderComponent(e)},e}();jo.decorators=[{type:Ge}],jo.ctorParameters=[{type:So},{type:void 0,decorators:[{type:qe,args:[Br]}]},{type:Co}];var Fo=[],Uo=function(){function e(){}return Object.defineProperty(e.prototype,"location",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return R()},enumerable:!0,configurable:!0}),e}(),Bo=function(e){function t(t,r){e.call(this),this._hostElement=t,this._componentType=r}return __extends(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this._hostElement.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._hostElement.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return this._hostElement.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostView",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._hostElement.parentView.destroy()},t.prototype.onDestroy=function(e){this.hostView.onDestroy(e)},t}(Uo),zo={},Ho=function(){function e(e,t,r){this.selector=e,this._viewFactory=t,this._componentType=r}return Object.defineProperty(e.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),e.prototype.create=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var o=e.get(jo);a(t)&&(t=[]);var n=this._viewFactory(o,e,null),i=n.create(zo,t,r);return new Bo(i,this._componentType)},e}(),qo=function(e){function t(t){e.call(this,"No component factory found for "+c(t)),this.component=t}return __extends(t,e),t}(rr),Wo=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw new qo(e)},e}(),Go=function(){return function(){}}();Go.NULL=new Wo;var Ko=function(){function e(e,t){this._parent=t,this._factories=new Map;for(var r=0,o;r<e.length;r++)o=e[r],this._factories.set(o.componentType,o)}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);return t||(t=this._parent.resolveComponentFactory(e)),t},e}(),Qo=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.next=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,o){var n=function(){return null},a=function(){return null},i;return t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(n=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(n=this.__isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),o&&(a=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()})),e.prototype.subscribe.call(this,i,n,a)},t}(t.Subject),Xo=function(){return function(e,t){this.error=e,this.stackTrace=t}}(),Zo=function(){function e(e){var t=this,r=e.trace,o=e.onEnter,n=e.onLeave,a=e.setMicrotask,i=e.setMacrotask,s=e.onError;if(this.onEnter=o,this.onLeave=n,this.setMicrotask=a,this.setMacrotask=i,this.onError=s,!Zone)throw new Error("Angular requires Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,r,o,n,a,i){try{return t.onEnter(),e.invokeTask(o,n,a,i)}finally{t.onLeave()}},onInvoke:function(e,r,o,n,a,i,s){try{return t.onEnter(),e.invoke(o,n,a,i,s)}finally{t.onLeave()}},onHasTask:function(e,r,o,n){e.hasTask(o,n),r==o&&("microTask"==n.change?t.setMicrotask(n.microTask):"macroTask"==n.change&&t.setMacrotask(n.macroTask))},onHandleError:function(e,r,o,n){return e.handleError(o,n),t.onError(new Xo(n,n.stack)),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.prototype.runInner=function(e){return this.inner.run(e)},e.prototype.runInnerGuarded=function(e){return this.inner.runGuarded(e)},e.prototype.runOuter=function(e){return this.outer.run(e)},e}(),Yo=function(){function e(e){var t=this,r=e.enableLongStackTrace;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new Qo(!1),this._onMicrotaskEmpty=new Qo(!1),this._onStable=new Qo(!1),this._onErrorEvents=new Qo(!1),this._zoneImpl=new Zo({trace:void 0!==r&&r,onEnter:function(){t._nesting++,t._isStable&&(t._isStable=!1,t._onUnstable.emit(null))},onLeave:function(){t._nesting--,t._checkStable()},setMicrotask:function(e){t._hasPendingMicrotasks=e,t._checkStable()},setMacrotask:function(e){t._hasPendingMacrotasks=e},onError:function(e){return t._onErrorEvents.emit(e)}})}return e.isInAngularZone=function(){return Zo.isInAngularZone()},e.assertInAngularZone=function(){if(!Zo.isInAngularZone())throw new rr("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(Zo.isInAngularZone())throw new rr("Expected to not be in Angular Zone, but it is!")},e.prototype._checkStable=function(){var e=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return e._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(e.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),e.prototype.run=function(e){return this._zoneImpl.runInner(e)},e.prototype.runGuarded=function(e){return this._zoneImpl.runInnerGuarded(e)},e.prototype.runOutsideAngular=function(e){return this._zoneImpl.runOuter(e)},e}(),$o=function(){function e(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Yo.assertNotInAngularZone(),r(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,0>this._pendingCount)throw new rr("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?r(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},e.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findBindings=function(){return[]},e.prototype.findProviders=function(){return[]},e}();$o.decorators=[{type:Ge}],$o.ctorParameters=[{type:Yo}];var Jo=function(){function e(){this._applications=new Ht,tn.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.getTestability=function(e){return this._applications.get(e)},e.prototype.getAllTestabilities=function(){return Xt.values(this._applications)},e.prototype.getAllRootElements=function(){return Xt.keys(this._applications)},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),tn.findTestabilityInTree(this,e,t)},e}();Jo.decorators=[{type:Ge}],Jo.ctorParameters=[];var en=function(){function e(){}return e.prototype.addToWindow=function(){},e.prototype.findTestabilityInTree=function(){return null},e}(),tn=new en,rn=!0,on=!1,nn=function(){function e(){}return e.prototype.bootstrapModuleFactory=function(){throw R()},e.prototype.bootstrapModule=function(e,t){throw void 0===t&&(t=[]),R()},Object.defineProperty(e.prototype,"injector",{get:function(){throw R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disposed",{get:function(){throw R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){throw R()},enumerable:!0,configurable:!0}),e}(),an=function(e){function t(t){e.call(this),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return __extends(t,e),t.prototype.registerDisposeListener=function(e){this.onDestroy(e)},t.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){return this.destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new rr("The platform has already been destroyed!");Yt.clone(this._modules).forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},t.prototype.dispose=function(){this.destroy()},t.prototype.bootstrapModuleFactory=function(e){return this._bootstrapModuleFactoryWithZone(e,null)},t.prototype._bootstrapModuleFactoryWithZone=function(e,t){var r=this;return t||(t=new Yo({enableLongStackTrace:ue()})),t.run(function(){var o=Vr.resolveAndCreate([{provide:Yo,useValue:t}],r.injector),n=e.create(o),a=n.injector.get(tr,null);if(!a)throw new Error("No ExceptionHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Yt.remove(r._modules,n)}),t.onError.subscribe({next:function(e){a.call(e.error,e.stackTrace)}}),be(a,function(){var e=n.injector.get(Ur);return e.donePromise.then(function(){return r._moduleDoBootstrap(n),n})})})},t.prototype.bootstrapModule=function(e,t){return void 0===t&&(t=[]),this._bootstrapModuleWithZone(e,t,null)},t.prototype._bootstrapModuleWithZone=function(e,t,r){var o=this;void 0===t&&(t=[]);var n=this.injector.get(Zr),a=n.createCompiler(t instanceof Array?t:[t]);return a.compileModuleAsync(e).then(function(e){return o._bootstrapModuleFactoryWithZone(e,r)})},t.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(pn);if(0<e.bootstrapFactories.length)e.bootstrapFactories.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new rr("The module "+c(e.instance.constructor)+" was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. Please define one of these.");e.instance.ngDoBootstrap(t)}},t}(nn),sn;an.decorators=[{type:Ge}],an.ctorParameters=[{type:sr}];var pn=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zone",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return R()},enumerable:!0,configurable:!0}),e}(),ln=function(e){function t(t,r,o,n,a,i,s,p){var l=this;e.call(this),this._zone=t,this._console=r,this._injector=o,this._exceptionHandler=n,this._componentFactoryResolver=a,this._initStatus=i,this._testabilityRegistry=s,this._testability=p,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._enforceNoNewChanges=ue(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}})}return __extends(t,e),t.prototype.registerBootstrapListener=function(e){this._bootstrapListeners.push(e)},t.prototype.registerDisposeListener=function(e){this._disposeListeners.push(e)},t.prototype.registerChangeDetector=function(e){this._changeDetectorRefs.push(e)},t.prototype.unregisterChangeDetector=function(e){Yt.remove(this._changeDetectorRefs,e)},t.prototype.waitForAsyncInitializers=function(){return this._initStatus.donePromise},t.prototype.run=function(e){var t=this;return this._zone.run(function(){return be(t._exceptionHandler,e)})},t.prototype.bootstrap=function(e){var t=this;if(!this._initStatus.done)throw new rr("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=e instanceof Ho?e:this._componentFactoryResolver.resolveComponentFactory(e),this._rootComponentTypes.push(r.componentType);var o=r.create(this._injector,[],r.selector);o.onDestroy(function(){t._unloadComponent(o)});var a=o.injector.get($o,null);return n(a)&&o.injector.get(Jo).registerApplication(o.location.nativeElement,a),this._loadComponent(o),ue()&&this._console.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype._loadComponent=function(e){this._changeDetectorRefs.push(e.changeDetectorRef),this.tick(),this._rootComponents.push(e);var t=this._injector.get(Hr,[]).concat(this._bootstrapListeners);t.forEach(function(t){return t(e)})},t.prototype._unloadComponent=function(e){Yt.contains(this._rootComponents,e)&&(this.unregisterChangeDetector(e.changeDetectorRef),Yt.remove(this._rootComponents,e))},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),t.prototype.tick=function(){if(this._runningTick)throw new rr("ApplicationRef.tick is called recursively");var e=t._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(e){return e.checkNoChanges()})}finally{this._runningTick=!1,Po(e)}},t.prototype.ngOnDestroy=function(){Yt.clone(this._rootComponents).forEach(function(e){return e.destroy()}),this._disposeListeners.forEach(function(e){return e()})},t.prototype.dispose=function(){this.ngOnDestroy()},Object.defineProperty(t.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),t}(pn);ln._tickScope=To("ApplicationRef#tick()"),ln.decorators=[{type:Ge}],ln.ctorParameters=[{type:Yo},{type:Wr},{type:sr},{type:tr},{type:Go},{type:Ur},{type:Jo,decorators:[{type:We}]},{type:$o,decorators:[{type:We}]}];var dn=function(){return function(){}}();dn.DynamicCompilationDeprecationMsg="ComponentResolver is deprecated for dynamic compilation. Use ComponentFactoryResolver together with @NgModule/@Component.entryComponents or ANALYZE_FOR_ENTRY_COMPONENTS provider instead. For runtime compile only, you can also use Compiler.compileComponentSync/Async.",dn.LazyLoadingDeprecationMsg="ComponentResolver is deprecated for lazy loading. Use NgModuleFactoryLoader instead.";var cn=function(){return function(){}}(),un=function(e){function t(t){e.call(this),this._compiler=t}return __extends(t,e),t.prototype.loadAsRoot=function(e,t,r,o,a){return this._compiler.compileComponentAsync(e).then(function(e){var i=e.create(r,a,n(t)?t:e.selector);return n(o)&&i.onDestroy(o),i})},t.prototype.loadNextToLocation=function(e,t,r,o){return void 0===r&&(r=null),void 0===o&&(o=null),this._compiler.compileComponentAsync(e).then(function(e){var a=t.parentInjector,i=n(r)&&0<r.length?Vr.fromResolvedProviders(r,a):a;return t.createComponent(e,t.length,i,o)})},t}(cn);un.decorators=[{type:Ge}],un.ctorParameters=[{type:Qr}];var yn=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return R()},enumerable:!0,configurable:!0}),e}(),mn=function(){function e(e,t){this._injectorClass=e,this._moduleype=t}return Object.defineProperty(e.prototype,"moduleType",{get:function(){return this._moduleype},enumerable:!0,configurable:!0}),e.prototype.create=function(e){e||(e=sr.NULL);var t=new this._injectorClass(e);return t.create(),t},e}(),gn={},fn=function(e){function t(t,r,o){e.call(this,r,t.get(Go,Go.NULL)),this.parent=t,this.bootstrapFactories=o,this._destroyListeners=[],this._destroyed=!1}return __extends(t,e),t.prototype.create=function(){this.instance=this.createInternal()},t.prototype.get=function(e,t){if(void 0===t&&(t=ar),e===sr||e===Go)return this;var r=this.getInternal(e,gn);return r===gn?this.parent.get(e,t):r},Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new rr("The ng module "+c(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(e){return e()})},t.prototype.onDestroy=function(e){this._destroyListeners.push(e)},t}(Ko),hn=function(){return function(){}}(),bn=function(){function e(){this._dirty=!0,this._results=[],this._emitter=new Qo}return Object.defineProperty(e.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[_()]=function(){return this._results[_()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=Yt.flatten(e),this._dirty=!1},e.prototype.notifyOnChanges=function(){this._emitter.emit(this)},e.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),e}(),_n=function(){function e(e){this._compiler=e}return e.prototype.load=function(e){var t=this._compiler instanceof Qr;return t?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,r=e.split("#"),o=r[0],n=r[1];return void 0===n&&(n="default"),Ae.System.import(o).then(function(e){return e[n]}).then(function(e){return _e(e,o,n)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=e.split("#"),r=t[0],o=t[1];return void 0===o&&(o="default"),Ae.System.import(r+".ngfactory").then(function(e){return e[o+"NgFactory"]}).then(function(e){return _e(e,r,o)})},e}();_n.decorators=[{type:Ge}],_n.ctorParameters=[{type:Qr}];var vn=function(){function e(e,t){this._resolver=e,this._console=t}return e.prototype.resolveComponent=function(e){var t=this;if(i(e)){this._console.warn(dn.LazyLoadingDeprecationMsg);var r=e.split("#"),o=r[0],n=r[1];return void 0===n&&(n="default"),Ae.System.import(o).then(function(e){return t._resolver.resolveComponent(e[n])})}return this._resolver.resolveComponent(e)},e.prototype.clearCache=function(){},e}();vn.decorators=[{type:Ge}],vn.ctorParameters=[{type:dn},{type:Wr}];var Sn=function(){function e(e){this._console=e}return e.prototype.resolveComponent=function(e){if(i(e)){this._console.warn(dn.LazyLoadingDeprecationMsg);var t=e.split("#"),r=t[0],o=t[1];return Ae.System.import(r+".ngfactory").then(function(e){return e[o+"NgFactory"]})}return Promise.resolve(null)},e.prototype.clearCache=function(){},e}();Sn.decorators=[{type:Ge}],Sn.ctorParameters=[{type:Wr}];var Cn=function(){function e(){}return Object.defineProperty(e.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),En=function(e){function t(t,r){e.call(this),this._appElement=t,this._viewFactory=r}return __extends(t,e),t.prototype.createEmbeddedView=function(e){var t=this._viewFactory(this._appElement.parentView.viewUtils,this._appElement.parentInjector,this._appElement);return t.create(e||{},null,null),t.ref},Object.defineProperty(t.prototype,"elementRef",{get:function(){return this._appElement.elementRef},enumerable:!0,configurable:!0}),t}(Cn),xn=function(){function e(){}return Object.defineProperty(e.prototype,"destroyed",{get:function(){return R()},enumerable:!0,configurable:!0}),e}(),Tn=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return R()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootNodes",{get:function(){return R()},enumerable:!0,configurable:!0}),t}(xn),Pn=function(){function e(e){this._view=e,this._view=e,this._originalMode=this._view.cdMode}return Object.defineProperty(e.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},e.prototype.detach=function(){this._view.cdMode=at.Detached},e.prototype.detectChanges=function(){this._view.detectChanges(!1)},e.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},e.prototype.reattach=function(){this._view.cdMode=this._originalMode,this.markForCheck()},e.prototype.onDestroy=function(e){this._view.disposables.push(e)},e.prototype.destroy=function(){this._view.destroy()},e}(),On=function(){return function(e,t){this.name=e,this.callback=t}}(),An=function(){function e(e,t,r){this._debugInfo=r,this.nativeNode=e,n(t)&&t instanceof wn?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,"injector",{get:function(){return n(this._debugInfo)?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return n(this._debugInfo)?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return n(this._debugInfo)?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return n(this._debugInfo)?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return n(this._debugInfo)?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return n(this._debugInfo)?this._debugInfo.source:null},enumerable:!0,configurable:!0}),e.prototype.inject=function(e){return this.injector.get(e)},e}(),wn=function(e){function t(t,r,o){e.call(this,t,r,o),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}return __extends(t,e),t.prototype.addChild=function(e){n(e)&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var r=this.childNodes.indexOf(e);if(-1!==r){var o=this.childNodes.slice(0,r+1),a=this.childNodes.slice(r+1);this.childNodes=Yt.concat(Yt.concat(o,t),a);for(var s=0,p;s<t.length;++s)p=t[s],n(p.parent)&&p.parent.removeChild(p),p.parent=this}},t.prototype.query=function(e){var t=this.queryAll(e);return 0<t.length?t[0]:null},t.prototype.queryAll=function(e){var t=[];return ve(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return Se(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){var e=[];return this.childNodes.forEach(function(r){r instanceof t&&e.push(r)}),e},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(r){r.name==e&&r.callback(t)})},t}(An),kn=new Map,Mn=new Ze("Platform Directives"),In=new Ze("Platform Pipes"),Rn=[an,{provide:nn,useExisting:an},{provide:Sr,useFactory:function(){return Cr},deps:[]},{provide:vr,useExisting:Sr},Jo,Wr],Nn=me(null,"core",Rn),Dn=function(){return function(){}}();Dn.decorators=[{type:Bt,args:[{providers:[ln,{provide:pn,useExisting:ln},Ur,Qr,{provide:dn,useExisting:Qr},{provide:Br,useFactory:function(){return""+Y()+Y()+Y()},deps:[]},jo,{provide:io,useFactory:function(){return fo}},{provide:so,useFactory:function(){return ho}},{provide:cn,useClass:un}]}]}];var Vn=Ae.Math,Ln=function(){function e(e){var t=this;this._players=e,this._subscriptions=[],this._finished=!1,this._started=!1,this.parentPlayer=null;var o=0,n=this._players.length;0==n?r(function(){return t._onFinish()}):this._players.forEach(function(e){e.parentPlayer=t,e.onDone(function(){++o>=n&&t._onFinish()})})}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,n(this.parentPlayer)||this.destroy(),this._subscriptions.forEach(function(e){return e()}),this._subscriptions=[])},e.prototype.init=function(){this._players.forEach(function(e){return e.init()})},e.prototype.onDone=function(e){this._subscriptions.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){n(this.parentPlayer)||this.init(),this._started=!0,this._players.forEach(function(e){return e.play()})},e.prototype.pause=function(){this._players.forEach(function(e){return e.pause()})},e.prototype.restart=function(){this._players.forEach(function(e){return e.restart()})},e.prototype.finish=function(){this._onFinish(),this._players.forEach(function(e){return e.finish()})},e.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(e){return e.destroy()})},e.prototype.reset=function(){this._players.forEach(function(e){return e.reset()})},e.prototype.setPosition=function(e){this._players.forEach(function(t){t.setPosition(e)})},e.prototype.getPosition=function(){var e=0;return this._players.forEach(function(t){var r=t.getPosition();e=Vn.min(r,e)}),e},e}(),jn=function(){return function(e,t){this.offset=e,this.styles=t}}(),Fn=function(){function e(){}return Object.defineProperty(e.prototype,"parentPlayer",{get:function(){throw new rr("NOT IMPLEMENTED: Base Class")},set:function(){throw new rr("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),e}(),Un=function(){function e(){var e=this;this._subscriptions=[],this._started=!1,this.parentPlayer=null,r(function(){return e._onFinish()})}return e.prototype._onFinish=function(){this._subscriptions.forEach(function(e){e()}),this._subscriptions=[]},e.prototype.onDone=function(e){this._subscriptions.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.init=function(){},e.prototype.play=function(){this._started=!0},e.prototype.pause=function(){},e.prototype.restart=function(){},e.prototype.finish=function(){this._onFinish()},e.prototype.destroy=function(){},e.prototype.reset=function(){},e.prototype.setPosition=function(){},e.prototype.getPosition=function(){return 0},e}(),Bn=function(){function e(e){var t=this;this._players=e,this._currentIndex=0,this._subscriptions=[],this._finished=!1,this._started=!1,this.parentPlayer=null,this._players.forEach(function(e){e.parentPlayer=t}),this._onNext(!1)}return e.prototype._onNext=function(e){var t=this;if(!this._finished)if(0==this._players.length)this._activePlayer=new Un,r(function(){return t._onFinish()});else if(this._currentIndex>=this._players.length)this._activePlayer=new Un,this._onFinish();else{var o=this._players[this._currentIndex++];o.onDone(function(){return t._onNext(!0)}),this._activePlayer=o,e&&o.play()}},e.prototype._onFinish=function(){this._finished||(this._finished=!0,n(this.parentPlayer)||this.destroy(),this._subscriptions.forEach(function(e){return e()}),this._subscriptions=[])},e.prototype.init=function(){this._players.forEach(function(e){return e.init()})},e.prototype.onDone=function(e){this._subscriptions.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){n(this.parentPlayer)||this.init(),this._started=!0,this._activePlayer.play()},e.prototype.pause=function(){this._activePlayer.pause()},e.prototype.restart=function(){0<this._players.length&&(this.reset(),this._players[0].restart())},e.prototype.reset=function(){this._players.forEach(function(e){return e.reset()})},e.prototype.finish=function(){this._onFinish(),this._players.forEach(function(e){return e.finish()})},e.prototype.destroy=function(){this._onFinish(),this._players.forEach(function(e){return e.destroy()})},e.prototype.setPosition=function(e){this._players[0].setPosition(e)},e.prototype.getPosition=function(){return this._players[0].getPosition()},e}(),zn="*",Hn=function(){return function(e,t){this.name=e,this.definitions=t}}(),qn=function(){return function(){}}(),Wn=function(e){function t(t,r){e.call(this),this.stateNameExpr=t,this.styles=r}return __extends(t,e),t}(qn),Gn=function(e){function t(t,r){e.call(this),this.stateChangeExpr=t,this.steps=r}return __extends(t,e),t}(qn),Kn=function(){return function(){}}(),Qn=function(e){function t(t){e.call(this),this.steps=t}return __extends(t,e),t}(Kn),Xn=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.styles=t,this.offset=r}return __extends(t,e),t}(Kn),Zn=function(e){function t(t,r){e.call(this),this.timings=t,this.styles=r}return __extends(t,e),t}(Kn),Yn=function(e){function t(){e.call(this)}return __extends(t,e),Object.defineProperty(t.prototype,"steps",{get:function(){throw new rr("NOT IMPLEMENTED: Base Class")},enumerable:!0,configurable:!0}),t}(Kn),$n=function(e){function t(t){e.call(this),this._steps=t}return __extends(t,e),Object.defineProperty(t.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),t}(Yn),Jn=function(e){function t(t){e.call(this),this._steps=t}return __extends(t,e),Object.defineProperty(t.prototype,"steps",{get:function(){return this._steps},enumerable:!0,configurable:!0}),t}(Yn),ea=function(){return function(e){this.styles=e}}(),ta=function(){function e(e){this._delegate=e}return e.prototype.renderComponent=function(e){return new ra(this._delegate.renderComponent(e))},e}(),ra=function(){function e(e){this._delegate=e}return e.prototype.selectRootElement=function(e,t){var r=this._delegate.selectRootElement(e,t),o=new wn(r,null,t);return Ee(o),r},e.prototype.createElement=function(e,t,r){var o=this._delegate.createElement(e,t,r),n=new wn(o,Ce(e),r);return n.name=t,Ee(n),o},e.prototype.createViewRoot=function(e){return this._delegate.createViewRoot(e)},e.prototype.createTemplateAnchor=function(e,t){var r=this._delegate.createTemplateAnchor(e,t),o=new An(r,Ce(e),t);return Ee(o),r},e.prototype.createText=function(e,t,r){var o=this._delegate.createText(e,t,r),n=new An(o,Ce(e),r);return Ee(n),o},e.prototype.projectNodes=function(e,t){var r=Ce(e);if(n(r)&&r instanceof wn){t.forEach(function(e){r.addChild(Ce(e))})}this._delegate.projectNodes(e,t)},e.prototype.attachViewAfter=function(e,t){var r=Ce(e);if(n(r)){var o=r.parent;if(0<t.length&&n(o)){var a=[];t.forEach(function(e){return a.push(Ce(e))}),o.insertChildrenAfter(r,a)}}this._delegate.attachViewAfter(e,t)},e.prototype.detachView=function(e){e.forEach(function(e){var t=Ce(e);n(t)&&n(t.parent)&&t.parent.removeChild(t)}),this._delegate.detachView(e)},e.prototype.destroyView=function(e,t){t.forEach(function(e){xe(Ce(e))}),this._delegate.destroyView(e,t)},e.prototype.listen=function(e,t,r){var o=Ce(e);return n(o)&&o.listeners.push(new On(t,r)),this._delegate.listen(e,t,r)},e.prototype.listenGlobal=function(e,t,r){return this._delegate.listenGlobal(e,t,r)},e.prototype.setElementProperty=function(e,t,r){var o=Ce(e);n(o)&&o instanceof wn&&(o.properties[t]=r),this._delegate.setElementProperty(e,t,r)},e.prototype.setElementAttribute=function(e,t,r){var o=Ce(e);n(o)&&o instanceof wn&&(o.attributes[t]=r),this._delegate.setElementAttribute(e,t,r)},e.prototype.setBindingDebugInfo=function(e,t,r){this._delegate.setBindingDebugInfo(e,t,r)},e.prototype.setElementClass=function(e,t,r){var o=Ce(e);n(o)&&o instanceof wn&&(o.classes[t]=r),this._delegate.setElementClass(e,t,r)},e.prototype.setElementStyle=function(e,t,r){var o=Ce(e);n(o)&&o instanceof wn&&(o.styles[t]=r),this._delegate.setElementStyle(e,t,r)},e.prototype.invokeElementMethod=function(e,t,r){this._delegate.invokeElementMethod(e,t,r)},e.prototype.setText=function(e,t){this._delegate.setText(e,t)},e.prototype.animate=function(e,t,r,o,n,a){return this._delegate.animate(e,t,r,o,n,a)},e}(),oa=function(){return function(e,t,r){this.providerTokens=e,this.componentToken=t,this.refTokens=r}}(),na=function(){function e(e,t,r,o){this._view=e,this._nodeIndex=t,this._tplRow=r,this._tplCol=o}return Object.defineProperty(e.prototype,"_staticNodeInfo",{get:function(){return n(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){var e=this._staticNodeInfo;return n(e)&&n(e.componentToken)?this.injector.get(e.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){for(var e=this._view;n(e.declarationAppElement)&&e.type!==Ro.COMPONENT;)e=e.declarationAppElement.parentView;return n(e.declarationAppElement)?e.declarationAppElement.nativeElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return n(this._nodeIndex)&&this._view.allNodes?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=this._staticNodeInfo;return n(e)?e.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e=this,t={},r=this._staticNodeInfo;if(n(r)){var o=r.refTokens;Zt.forEach(o,function(r,o){var n;n=a(r)?e._view.allNodes?e._view.allNodes[e._nodeIndex]:null:e._view.injectorGet(r,e._nodeIndex,null),t[o]=n})}return t},enumerable:!0,configurable:!0}),e}(),aa=function(){function e(){this._map=new Ht,this._allPlayers=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.getAllPlayers().length},enumerable:!0,configurable:!0}),e.prototype.find=function(e,t){var r=this._map.get(e);if(n(r))return r[t]},e.prototype.findAllPlayersByElement=function(e){var t=this._map.get(e);return t?Zt.values(t):[]},e.prototype.set=function(e,t,r){var o=this._map.get(e);n(o)||(o={});var a=o[t];n(a)&&this.remove(e,t),o[t]=r,this._allPlayers.push(r),this._map.set(e,o)},e.prototype.getAllPlayers=function(){return this._allPlayers},e.prototype.remove=function(e,t){var r=this._map.get(e);if(n(r)){var o=r[t];delete r[t];var a=this._allPlayers.indexOf(o);Yt.removeAt(this._allPlayers,a),Zt.isEmpty(r)&&this._map.delete(e)}},e}(),ia={},sa=function(e){function t(t,r){e.call(this),this._view=t,this._nodeIndex=r}return __extends(t,e),t.prototype.get=function(e,t){void 0===t&&(t=ar);var r=ia;return r===ia&&(r=this._view.injectorGet(e,this._nodeIndex,ia)),r===ia&&(r=this._view.parentInjector.get(e,t)),r},t}(sr),pa=To("AppView#check(ascii id)"),la=function(){function e(e,t,r,o,n,a,i){this.clazz=e,this.componentType=t,this.type=r,this.viewUtils=o,this.parentInjector=n,this.declarationAppElement=a,this.cdMode=i,this.contentChildren=[],this.viewChildren=[],this.viewContainerElement=null,this.numberOfChecks=0,this.animationPlayers=new aa,this.ref=new Pn(this),this.renderer=r===Ro.COMPONENT||r===Ro.HOST?o.renderComponent(t):a.parentView.renderer}return Object.defineProperty(e.prototype,"destroyed",{get:function(){return this.cdMode===at.Destroyed},enumerable:!0,configurable:!0}),e.prototype.cancelActiveAnimation=function(e,t,r){if(void 0===r&&(r=!1),r)this.animationPlayers.findAllPlayersByElement(e).forEach(function(e){return e.destroy()});else{var o=this.animationPlayers.find(e,t);n(o)&&o.destroy()}},e.prototype.queueAnimation=function(e,t,r){var o=this;this.animationPlayers.set(e,t,r),r.onDone(function(){o.animationPlayers.remove(e,t)})},e.prototype.triggerQueuedAnimations=function(){this.animationPlayers.getAllPlayers().forEach(function(e){e.hasStarted()||e.play()})},e.prototype.create=function(e,t,r){this.context=e;var o;switch(this.type){case Ro.COMPONENT:o=le(t,this.componentType.slotCount);break;case Ro.EMBEDDED:o=this.declarationAppElement.parentView.projectableNodes;break;case Ro.HOST:o=t;}return this._hasExternalHostElement=n(r),this.projectableNodes=o,this.createInternal(r)},e.prototype.createInternal=function(){return null},e.prototype.init=function(e,t,r,o){this.rootNodesOrAppElements=e,this.allNodes=t,this.disposables=r,this.subscriptions=o,this.type===Ro.COMPONENT&&(this.declarationAppElement.parentView.viewChildren.push(this),this.dirtyParentQueriesInternal())},e.prototype.selectOrCreateHostElement=function(e,t,r){var o;return o=n(t)?this.renderer.selectRootElement(t,r):this.renderer.createElement(null,e,r)},e.prototype.injectorGet=function(e,t,r){return this.injectorGetInternal(e,t,r)},e.prototype.injectorGetInternal=function(e,t,r){return r},e.prototype.injector=function(e){return n(e)?new sa(this,e):this.parentInjector},e.prototype.destroy=function(){this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):n(this.viewContainerElement)&&this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)),this._destroyRecurse()},e.prototype._destroyRecurse=function(){if(this.cdMode!==at.Destroyed){for(var e=this.contentChildren,t=0;t<e.length;t++)e[t]._destroyRecurse();e=this.viewChildren;for(var t=0;t<e.length;t++)e[t]._destroyRecurse();this.destroyLocal(),this.cdMode=at.Destroyed}},e.prototype.destroyLocal=function(){for(var e=this,t=this.type===Ro.COMPONENT?this.declarationAppElement.nativeElement:null,r=0;r<this.disposables.length;r++)this.disposables[r]();for(var r=0;r<this.subscriptions.length;r++)this.subscriptions[r].unsubscribe();if(this.destroyInternal(),this.dirtyParentQueriesInternal(),0==this.animationPlayers.length)this.renderer.destroyView(t,this.allNodes);else{var o=new Ln(this.animationPlayers.getAllPlayers());o.onDone(function(){e.renderer.destroyView(t,e.allNodes)})}},e.prototype.destroyInternal=function(){},e.prototype.detachInternal=function(){},e.prototype.detach=function(){var e=this;if(this.detachInternal(),0==this.animationPlayers.length)this.renderer.detachView(this.flatRootNodes);else{var t=new Ln(this.animationPlayers.getAllPlayers());t.onDone(function(){e.renderer.detachView(e.flatRootNodes)})}},Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return n(this.declarationAppElement)?this.declarationAppElement.parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatRootNodes",{get:function(){return se(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRootNode",{get:function(){var e=0<this.rootNodesOrAppElements.length?this.rootNodesOrAppElements[this.rootNodesOrAppElements.length-1]:null;return Pe(e)},enumerable:!0,configurable:!0}),e.prototype.dirtyParentQueriesInternal=function(){},e.prototype.detectChanges=function(e){var t=pa(this.clazz);this.cdMode!==at.Checked&&this.cdMode!==at.Errored&&(this.cdMode===at.Destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(e),this.cdMode===at.CheckOnce&&(this.cdMode=at.Checked),this.numberOfChecks++,Po(t))},e.prototype.detectChangesInternal=function(e){this.detectContentChildrenChanges(e),this.detectViewChildrenChanges(e)},e.prototype.detectContentChildrenChanges=function(e){for(var t=0,r;t<this.contentChildren.length;++t)r=this.contentChildren[t],r.cdMode!==at.Detached&&r.detectChanges(e)},e.prototype.detectViewChildrenChanges=function(e){for(var t=0,r;t<this.viewChildren.length;++t)r=this.viewChildren[t],r.cdMode!==at.Detached&&r.detectChanges(e)},e.prototype.markContentChildAsMoved=function(){this.dirtyParentQueriesInternal()},e.prototype.addToContentChildren=function(e){e.parentView.contentChildren.push(this),this.viewContainerElement=e,this.dirtyParentQueriesInternal()},e.prototype.removeFromContentChildren=function(e){Yt.remove(e.parentView.contentChildren,this),this.dirtyParentQueriesInternal(),this.viewContainerElement=null},e.prototype.markAsCheckOnce=function(){this.cdMode=at.CheckOnce},e.prototype.markPathToRootAsCheckOnce=function(){for(var e=this;n(e)&&e.cdMode!==at.Detached;){e.cdMode===at.Checked&&(e.cdMode=at.CheckOnce);var t=e.type===Ro.COMPONENT?e.declarationAppElement:e.viewContainerElement;e=n(t)?t.parentView:null}},e.prototype.eventHandler=function(e){return e},e.prototype.throwDestroyedError=function(e){throw new Lo(e)},e}(),da=function(e){function t(t,r,o,n,a,i,s,p){e.call(this,t,r,o,n,a,i,s),this.staticNodeDebugInfos=p,this._currentDebugContext=null}return __extends(t,e),t.prototype.create=function(t,r,o){this._resetDebug();try{return e.prototype.create.call(this,t,r,o)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},t.prototype.injectorGet=function(t,r,o){this._resetDebug();try{return e.prototype.injectorGet.call(this,t,r,o)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},t.prototype.detach=function(){this._resetDebug();try{e.prototype.detach.call(this)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},t.prototype.destroyLocal=function(){this._resetDebug();try{e.prototype.destroyLocal.call(this)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},t.prototype.detectChanges=function(t){this._resetDebug();try{e.prototype.detectChanges.call(this,t)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},t.prototype._resetDebug=function(){this._currentDebugContext=null},t.prototype.debug=function(e,t,r){return this._currentDebugContext=new na(this,e,t,r)},t.prototype._rethrowWithContext=function(t,e){if(!(t instanceof Vo)&&(t instanceof Do||(this.cdMode=at.Errored),n(this._currentDebugContext)))throw new Vo(t,e,this._currentDebugContext)},t.prototype.eventHandler=function(t){var r=this,o=e.prototype.eventHandler.call(this,t);return function(e){r._resetDebug();try{return o(e)}catch(t){throw r._rethrowWithContext(t,t.stack),t}}},t}(la),ca={isDefaultChangeDetectionStrategy:function(t){return a(t)||t===e.ChangeDetectionStrategy.Default},ChangeDetectorStatus:at,CHANGE_DETECTION_STRATEGY_VALUES:it,constructDependencies:G,LifecycleHooks:gt,LIFECYCLE_HOOKS_VALUES:ft,ReflectorReader:vr,CodegenComponentFactoryResolver:Ko,AppElement:No,AppView:la,DebugAppView:da,NgModuleInjector:fn,ViewType:Ro,MAX_INTERPOLATION_VALUES:9,checkBinding:function(e,t,r){if(e){if(!ee(t,r))throw new Do(t,r,null);return!1}return!u(t,r)},flattenNestedViewRenderNodes:se,interpolate:function(e,t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b,_){switch(e){case 1:return t+de(r)+o;case 2:return t+de(r)+o+de(n)+a;case 3:return t+de(r)+o+de(n)+a+de(i)+s;case 4:return t+de(r)+o+de(n)+a+de(i)+s+de(p)+l;case 5:return t+de(r)+o+de(n)+a+de(i)+s+de(p)+l+de(d)+c;case 6:return t+de(r)+o+de(n)+a+de(i)+s+de(p)+l+de(d)+c+de(u)+y;case 7:return t+de(r)+o+de(n)+a+de(i)+s+de(p)+l+de(d)+c+de(u)+y+de(m)+g;case 8:return t+de(r)+o+de(n)+a+de(i)+s+de(p)+l+de(d)+c+de(u)+y+de(m)+g+de(f)+h;case 9:return t+de(r)+o+de(n)+a+de(i)+s+de(p)+l+de(d)+c+de(u)+y+de(m)+g+de(f)+h+de(b)+_;default:throw new rr("Does not support more than 9 expressions");}},ViewUtils:jo,VIEW_ENCAPSULATION_VALUES:Tt,DebugContext:na,StaticNodeDebugInfo:oa,devModeEqual:ee,UNINITIALIZED:po,ValueUnwrapper:co,RenderDebugInfo:_o,TemplateRef_:En,wtfInit:function(){},ReflectionCapabilities:_r,makeDecorator:P,DebugDomRootRenderer:ta,createProvider:U,isProviderLiteral:F,EMPTY_ARRAY:[],EMPTY_MAP:{},pureProxy1:function(e){var t=po,r;return function(o){return u(t,o)||(t=o,r=e(o)),r}},pureProxy2:function(e){var t=po,r=po,o;return function(n,a){return u(t,n)&&u(r,a)||(t=n,r=a,o=e(n,a)),o}},pureProxy3:function(e){var t=po,r=po,o=po,n;return function(a,i,s){return u(t,a)&&u(r,i)&&u(o,s)||(t=a,r=i,o=s,n=e(a,i,s)),n}},pureProxy4:function(e){var t,r,o,n,a;return r=o=n=a=po,function(i,s,p,l){return u(r,i)&&u(o,s)&&u(n,p)&&u(a,l)||(r=i,o=s,n=p,a=l,t=e(i,s,p,l)),t}},pureProxy5:function(e){var t,r,o,n,a,i;return r=o=n=a=i=po,function(s,p,l,d,c){return u(r,s)&&u(o,p)&&u(n,l)&&u(a,d)&&u(i,c)||(r=s,o=p,n=l,a=d,i=c,t=e(s,p,l,d,c)),t}},pureProxy6:function(e){var t,r,o,n,a,i,s;return r=o=n=a=i=s=po,function(p,l,d,c,y,m){return u(r,p)&&u(o,l)&&u(n,d)&&u(a,c)&&u(i,y)&&u(s,m)||(r=p,o=l,n=d,a=c,i=y,s=m,t=e(p,l,d,c,y,m)),t}},pureProxy7:function(e){var t,r,o,n,a,i,s,p;return r=o=n=a=i=s=p=po,function(l,d,c,y,m,g,f){return u(r,l)&&u(o,d)&&u(n,c)&&u(a,y)&&u(i,m)&&u(s,g)&&u(p,f)||(r=l,o=d,n=c,a=y,i=m,s=g,p=f,t=e(l,d,c,y,m,g,f)),t}},pureProxy8:function(e){var t,r,o,n,a,i,s,p,l;return r=o=n=a=i=s=p=l=po,function(d,c,y,m,g,f,h,b){return u(r,d)&&u(o,c)&&u(n,y)&&u(a,m)&&u(i,g)&&u(s,f)&&u(p,h)&&u(l,b)||(r=d,o=c,n=y,a=m,i=g,s=f,p=h,l=b,t=e(d,c,y,m,g,f,h,b)),t}},pureProxy9:function(e){var t,r,o,n,a,i,s,p,l,d;return r=o=n=a=i=s=p=l=d=po,function(c,y,m,g,f,h,b,_,v){return u(r,c)&&u(o,y)&&u(n,m)&&u(a,g)&&u(i,f)&&u(s,h)&&u(p,b)&&u(l,_)&&u(d,v)||(r=c,o=y,n=m,a=g,i=f,s=h,p=b,l=_,d=v,t=e(c,y,m,g,f,h,b,_,v)),t}},pureProxy10:function(e){var t,r,o,n,a,i,s,p,l,d,c;return r=o=n=a=i=s=p=l=d=c=po,function(y,m,g,f,h,b,_,v,S,C){return u(r,y)&&u(o,m)&&u(n,g)&&u(a,f)&&u(i,h)&&u(s,b)&&u(p,_)&&u(l,v)&&u(d,S)&&u(c,C)||(r=y,o=m,n=g,a=f,i=h,s=b,p=_,l=v,d=S,c=C,t=e(y,m,g,f,h,b,_,v,S,C)),t}},castByValue:function(e){return e},Console:Wr,reflector:Cr,Reflector:Sr,NoOpAnimationPlayer:Un,AnimationPlayer:Fn,AnimationSequencePlayer:Bn,AnimationGroupPlayer:Ln,AnimationKeyframe:jn,prepareFinalAnimationStyles:function(e,t,r){void 0===r&&(r=null);var o={};return Zt.forEach(t,function(e,t){o[t]=e==zn?r:e.toString()}),Zt.forEach(e,function(e,t){n(o[t])||(o[t]=r)}),o},balanceAnimationKeyframes:function(e,t,r){var o=r.length-1,a=r[0],i=Te(a.styles.styles),s={},p=!1;Zt.forEach(e,function(e,t){i[t]||(i[t]=e,s[t]=e,p=!0)});var l=Zt.merge({},i),d=r[o];Yt.insert(d.styles.styles,0,t);var c=Te(d.styles.styles),u={},y=!1;return Zt.forEach(l,function(e,t){n(c[t])||(u[t]=zn,y=!0)}),y&&d.styles.styles.push(u),Zt.forEach(c,function(e,t){n(i[t])||(s[t]=zn,p=!0)}),p&&a.styles.styles.push(s),r},flattenStyles:Te,clearStyles:function(e){var t={};return Zt.keys(e).forEach(function(e){t[e]=null}),t},renderStyles:function(e,t,r){Zt.forEach(r,function(r,o){t.setElementStyle(e,o,r)})},collectAndResolveStyles:function(e,t){return t.map(function(t){var r={};return Zt.forEach(t,function(t,o){t=="true"&&(t=e[o],n(t)||(t=zn)),e[o]=t,r[o]=t}),r})},AnimationStyles:ea,ANY_STATE:"*",DEFAULT_STATE:"*",EMPTY_STATE:"void",FILL_STYLE_FLAG:"true"};e.createPlatform=ye,e.assertPlatform=ge,e.disposePlatform=function(){fe()},e.getPlatform=he,e.coreBootstrap=function(){throw new rr("coreBootstrap is deprecated. Use bootstrapModuleFactory instead.")},e.coreLoadAndBootstrap=function(){throw new rr("coreLoadAndBootstrap is deprecated. Use bootstrapModule instead.")},e.PlatformRef=nn,e.ApplicationRef=pn,e.enableProdMode=ce,e.lockRunMode=function(){console.warn("lockRunMode() is deprecated and not needed any more.")},e.isDevMode=ue,e.createPlatformFactory=me,e.APP_ID=Br,e.PACKAGE_ROOT_URL=qr,e.PLATFORM_INITIALIZER=zr,e.APP_BOOTSTRAP_LISTENER=Hr,e.APP_INITIALIZER=Fr,e.ApplicationInitStatus=Ur,e.DebugElement=wn,e.DebugNode=An,e.asNativeElements=function(e){return e.map(function(e){return e.nativeElement})},e.getDebugNode=Ce,e.APPLICATION_COMMON_PROVIDERS=[],e.ApplicationModule=Dn,e.wtfCreateScope=To,e.wtfLeave=Po,e.wtfStartTimeRange=Oo,e.wtfEndTimeRange=Ao,e.Type=we,e.EventEmitter=Qo,e.ExceptionHandler=tr,e.WrappedException=or,e.BaseException=rr,e.AnimationPlayer=Fn,e.SanitizationService=Co,e.Component=Ot,e.Directive=At,e.Attribute=wt,e.Query=kt,e.ContentChildren=Mt,e.ContentChild=It,e.ViewChildren=Rt,e.ViewChild=Nt,e.ViewQuery=Dt,e.Pipe=Vt,e.Input=Lt,e.Output=jt,e.HostBinding=Ft,e.HostListener=Ut,e.NgModule=Bt,e.ANALYZE_FOR_ENTRY_COMPONENTS=Ye,e.AttributeMetadata=$e,e.ContentChildMetadata=tt,e.ContentChildrenMetadata=et,e.QueryMetadata=Je,e.ViewChildMetadata=nt,e.ViewChildrenMetadata=ot,e.ViewQueryMetadata=rt,e.ComponentMetadata=pt,e.DirectiveMetadata=st,e.HostBindingMetadata=ut,e.HostListenerMetadata=yt,e.InputMetadata=dt,e.OutputMetadata=ct,e.PipeMetadata=lt,e.AfterContentChecked=Ct,e.AfterContentInit=St,e.AfterViewChecked=xt,e.AfterViewInit=Et,e.DoCheck=_t,e.OnChanges=ht,e.OnDestroy=vt,e.OnInit=bt,e.CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},e.NgModuleMetadata=mt,e.ViewMetadata=Pt,e.Class=T,e.HostMetadata=Be,e.InjectMetadata=De,e.InjectableMetadata=je,e.OptionalMetadata=Ve,e.SelfMetadata=Fe,e.SkipSelfMetadata=Ue,e.forwardRef=S,e.resolveForwardRef=C,e.Injector=sr,e.ReflectiveInjector=Vr,e.Binding=xr,e.ProviderBuilder=Tr,e.bind=function(e){return new Tr(e)},e.Provider=Er,e.provide=j,e.ResolvedReflectiveFactory=wr,e.ReflectiveKey=fr,e.NoProviderError=lr,e.AbstractProviderError=pr,e.CyclicDependencyError=dr,e.InstantiationError=cr,e.InvalidProviderError=ur,e.NoAnnotationError=yr,e.OutOfBoundsError=mr,e.OpaqueToken=Ze,e.Inject=qe,e.Optional=We,e.Injectable=Ge,e.Self=Ke,e.Host=Qe,e.SkipSelf=Xe,e.NgZone=Yo,e.NgZoneError=Xo,e.RenderComponentType=bo,e.Renderer=vo,e.RootRenderer=So,e.COMPILER_OPTIONS=Xr,e.Compiler=Qr,e.CompilerFactory=Zr,e.ComponentStillLoadingError=Gr,e.ModuleWithComponentFactories=Kr,e.ComponentFactory=Ho,e.ComponentRef=Uo,e.ComponentFactoryResolver=Go,e.NoComponentFactoryError=qo,e.ComponentResolver=dn,e.DynamicComponentLoader=cn,e.ElementRef=Eo,e.ExpressionChangedAfterItHasBeenCheckedException=Do,e.NgModuleFactory=mn,e.NgModuleRef=yn,e.NgModuleFactoryLoader=hn,e.QueryList=bn,e.SystemJsNgModuleLoader=_n,e.SystemJsCmpFactoryResolver=Sn,e.SystemJsComponentResolver=vn,e.TemplateRef=Cn,e.ViewContainerRef=wo,e.EmbeddedViewRef=Tn,e.ViewRef=xn,e.Testability=$o,e.TestabilityRegistry=Jo,e.setTestabilityGetter=function(e){tn=e},e.ChangeDetectorRef=yo,e.CollectionChangeRecord=eo,e.DefaultIterableDiffer=Jr,e.IterableDiffers=io,e.KeyValueChangeRecord=ao,e.KeyValueDiffers=so,e.SimpleChange=uo,e.WrappedValue=lo,e.PLATFORM_DIRECTIVES=Mn,e.PLATFORM_PIPES=In,e.platformCore=Nn,e.PLATFORM_COMMON_PROVIDERS=Rn,e.__core_private__=ca,e.AUTO_STYLE="*",e.AnimationEntryMetadata=Hn,e.AnimationStateMetadata=qn,e.AnimationStateDeclarationMetadata=Wn,e.AnimationStateTransitionMetadata=Gn,e.AnimationMetadata=Kn,e.AnimationKeyframesSequenceMetadata=Qn,e.AnimationStyleMetadata=Xn,e.AnimationAnimateMetadata=Zn,e.AnimationWithStepsMetadata=Yn,e.AnimationSequenceMetadata=$n,e.AnimationGroupMetadata=Jn,e.animate=function(e,t){void 0===t&&(t=null);var r=t;if(!n(r)){r=new Xn([{}],1)}return new Zn(e,r)},e.group=function(e){return new Jn(e)},e.sequence=function(e){return new $n(e)},e.style=function(e){var t=null,r;return i(e)?r=[e]:(r=d(e)?e:[e],r.forEach(function(e){var r=e.offset;n(r)&&(t=null==t?Re.parseFloat(r):t)})),new Xn(r,t)},e.state=function(e,t){return new Wn(e,t)},e.keyframes=function(e){return new Qn(e)},e.transition=function(e,t){var r=d(t)?new $n(t):t;return new Gn(e,r)},e.trigger=function(e,t){return new Hn(e,t)}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/operator/toPromise"),require("rxjs/Subject"),require("rxjs/Observable"),require("rxjs/observable/PromiseObservable")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/operator/toPromise","rxjs/Subject","rxjs/Observable","rxjs/observable/PromiseObservable"],t):t((e.ng=e.ng||{},e.ng.common=e.ng.common||{}),e.ng.core,e.Rx.Observable.prototype,e.Rx,e.Rx,e.Rx)}(this,function(e,t,r,o,n,a){"use strict";function i(e){return e.name?e.name:typeof e}function s(e){return void 0!==e&&null!==e}function p(e){return void 0===e||null===e}function l(e){return"number"==typeof e}function d(e){return"string"==typeof e}function c(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function y(e){return s(e)&&c(e.then)}function m(e){return Array.isArray(e)}function g(e){return e instanceof le&&!isNaN(e.valueOf())}function f(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function h(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function b(e){return p(e)?null:e}function _(e){return!p(e)&&e}function v(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function S(){if(p(ge))if(s(se.Symbol)&&s(Symbol.iterator))ge=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0,r;t<e.length;++t)r=e[t],"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ge=r);return ge}function C(e){return!v(e)}function E(e,t){return e.constructor===t}function x(e,t){if(s(e))for(var r=0,o;r<e.length;r++)o=e[r],m(o)?x(o,t):t.push(o);return t}function T(e){return!!v(e)&&(m(e)||!(e instanceof fe)&&S()in e)}function P(){throw new Pe("unimplemented")}function O(e,t,r){var o="="+e;return-1<t.indexOf(o)?o:r.getPluralCategory(e)}function A(e){return function(t,r){var o=e(t,r);return 1==o.length?"0"+o:o}}function w(e){return function(t,r){var o=e(t,r);return o.split(" ")[0]}}function k(e){var t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,r){var o=new Intl.DateTimeFormat(r,t).format(e);return o?o.substring(3):""}}function M(e,t){return e.hour12=t,e}function I(e,t){var r={};return r[e]=2==t?"2-digit":"numeric",r}function R(e,t){var r={};return r[e]=4>t?"short":"long",r}function N(e){var t={};return e.forEach(function(e){Object.assign(t,e)}),t}function D(e){return function(t,r){return new Intl.DateTimeFormat(r,e).format(t)}}function V(e,t,r){var o="",n=[],a,i;if(Je[e])return Je[e](t,r);if(tt.has(e))n=tt.get(e);else{for($e.exec(e);e;)a=$e.exec(e),a?(n=L(n,a,1),e=n.pop()):(n.push(e),e=null);tt.set(e,n)}return n.forEach(function(e){i=et[e],o+=i?i(t,r):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}function L(e,t,r){return e.concat(rt.call(t,r))}function j(e,t,r,o,n,a){if(void 0===n&&(n=null),void 0===a&&(a=!1),p(t))return null;if(t=d(t)&&ue.isNumeric(t)?+t:t,!l(t))throw new qe(e,t);var i,c,u;if(r!==Ze.Currency&&(i=1,c=0,u=3),s(o)){var y=o.match(ct);if(null===y)throw new Error(o+" is not a valid digit info for number pipes");s(y[1])&&(i=ue.parseIntAutoRadix(y[1])),s(y[3])&&(c=ue.parseIntAutoRadix(y[3])),s(y[5])&&(u=ue.parseIntAutoRadix(y[5]))}return Ye.format(t,dt,r,{minimumIntegerDigits:i,minimumFractionDigits:c,maximumFractionDigits:u,currency:n,currencyAsSymbol:a})}function F(e){return y(e)?e:r.toPromise.call(e)}function U(e,t){return t.map(function(t){return t(e)})}function B(e,t){return t.map(function(t){return t(e)})}function z(e){var t=e.reduce(function(e,t){return s(t)?Ee.merge(e,t):e},{});return Ee.isEmpty(t)?null:t}function H(e){return void 0===e.validate?e:function(t){return e.validate(t)}}function q(e){return void 0===e.validate?e:function(t){return e.validate(t)}}function W(e,t){return p(e)?""+t:(C(t)||(t="Object"),de.slice(e+": "+t,0,50))}function G(e){return e.split(":")[0]}function K(e,t){return p(e)?""+t:(d(t)&&(t="'"+t+"'"),C(t)||(t="Object"),de.slice(e+": "+t,0,50))}function Q(e){return e.split(":")[0]}function X(e,t){var r=xe.clone(t.path);return r.push(e),r}function Z(e,t){p(e)&&$(t,"Cannot find control with"),p(t.valueAccessor)&&$(t,"No value accessor for form control with"),e.validator=Pt.compose([e.validator,t.validator]),e.asyncValidator=Pt.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(r){t.viewToModelUpdate(r),e.updateValue(r,{emitModelToViewChange:!1}),e.markAsDirty()}),e.registerOnChange(function(e){return t.valueAccessor.writeValue(e)}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()})}function Y(e,t){p(e)&&$(t,"Cannot find control with"),e.validator=Pt.compose([e.validator,t.validator]),e.asyncValidator=Pt.composeAsync([e.asyncValidator,t.asyncValidator])}function $(e,t){var r;throw r=1<e.path.length?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name",new Pe(t+" "+r)}function J(e){return s(e)?Pt.compose(e.map(H)):null}function ee(e){return s(e)?Pt.composeAsync(e.map(q)):null}function te(e,t){if(!Ee.contains(e,"model"))return!1;var r=e.model;return!!r.isFirstChange()||!h(t,r.currentValue)}function re(e,t){if(p(t))return null;var r,o,n;return t.forEach(function(t){E(t,Et)?r=t:E(t,St)||E(t,kt)||E(t,Lt)||E(t,Ut)||E(t,Dt)?(s(o)&&$(e,"More than one built-in value accessor matches form control with"),o=t):(s(n)&&$(e,"More than one custom value accessor matches form control with"),n=t)}),s(n)?n:s(o)?o:s(r)?r:($(e,"No valid value accessor for form control with"),null)}function oe(e,t){return p(t)?null:(t instanceof Array||(t=t.split("/")),t instanceof Array&&xe.isEmpty(t)?null:t.reduce(function(e,t){if(e instanceof Zt)return s(e.controls[t])?e.controls[t]:null;if(e instanceof Yt){var r=t;return s(e.at(r))?e.at(r):null}return null},e))}function ne(e){return y(e)?a.PromiseObservable.create(e):e}function ae(e,t){return 0<e.length&&t.startsWith(e)?t.substring(e.length):t}function ie(e){return /\/index.html$/g.test(e)?e.substring(0,e.length-11):e}var se="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var pe=se,le=pe.Date;pe.assert=function(){};var de=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,o=0;o<e.length&&e[o]==t;o++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,o=e.length-1;0<=o&&e[o]==t;o--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return-1!=e.indexOf(t)},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),ce=function(e){function t(t){e.call(this),this.message=t}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),ue=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new ce("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t);}else if(!(16==t)){var r=parseInt(e,t);if(!isNaN(r))return r}else if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t);throw new ce("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),ye=function(){function e(){}return e.parse=function(e){return pe.JSON.parse(e)},e.stringify=function(e){return pe.JSON.stringify(e,null,2)},e}(),me=function(){function e(){}return e.create=function(e,t,r,o,n,a,i){return void 0===t&&(t=1),void 0===r&&(r=1),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===i&&(i=0),new le(e,t-1,r,o,n,a,i)},e.fromISOString=function(e){return new le(e)},e.fromMillis=function(e){return new le(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new le},e.toJson=function(e){return e.toJSON()},e}(),ge=null,fe=pe.Map,he=pe.Set,be=function(){try{if(1===new fe([[1,2]]).size)return function(e){return new fe(e)}}catch(t){}return function(e){for(var t=new fe,r=0,o;r<e.length;r++)o=e[r],t.set(o[0],o[1]);return t}}(),_e=function(){try{if(new fe(new fe()))return function(e){return new fe(e)}}catch(t){}return function(e){var t=new fe;return e.forEach(function(e,r){t.set(r,e)}),t}}(),ve=function(){return new fe().keys().next?function(e){for(var t=e.keys(),r;!(r=t.next()).done;)e.set(r.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),Se=function(){try{if(new fe().values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(t){}return function(e,t){var r=xe.createFixedSize(e.size),o=0;return e.forEach(function(e,n){r[o]=t?e:n,o++}),r}}(),Ce=function(){function e(){}return e.clone=function(e){return _e(e)},e.createFromStringMap=function(e){var t=new fe;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return be(e)},e.clearValues=function(e){ve(e)},e.iterable=function(e){return e},e.keys=function(e){return Se(e,!1)},e.values=function(e){return Se(e,!0)},e}(),Ee=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,o=Object.keys(e),n;r<o.length;r++)n=o[r],t(e[n],n)},e.merge=function(e,t){for(var r={},o=0,n=Object.keys(e),a;o<n.length;o++)a=n[o],r[a]=e[a];for(var i=0,s=Object.keys(t),a;i<s.length;i++)a=s[i],r[a]=t[a];return r},e.equals=function(e,t){var r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var n=0,a;n<r.length;n++)if(a=r[n],e[a]!==t[a])return!1;return!0},e}(),xe=function(){function e(){}return e.createFixedSize=function(e){return Array(e)},e.createGrowableSize=function(e){return Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0,o;r<t.length;++r)o=e.indexOf(t[r]),e.splice(o,1)},e.remove=function(e,t){var r=e.indexOf(t);return-1<r&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=null),e.fill(t,r,null===o?e.length:o)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){s(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,o=-(1/0),n=0,a;n<e.length;n++)if(a=e[n],!p(a)){var i=t(a);i>o&&(r=a,o=i)}return r},e.flatten=function(e){var t=[];return x(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),Te=(function(){var e=new he([1,2,3]);return 3===e.size?function(e){return new he(e)}:function(e){var t=new he(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),function(){function e(e,t,r,o){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=r,this._renderer=o,this._initialClasses=[]}return Object.defineProperty(e.prototype,"initialClasses",{set:function(e){this._applyInitialClasses(!0),this._initialClasses=s(e)&&d(e)?e.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._cleanupClasses(this._rawClass),d(e)&&(e=e.split(" ")),this._rawClass=e,this._iterableDiffer=null,this._keyValueDiffer=null,s(e)&&(T(e)?this._iterableDiffer=this._iterableDiffers.find(e).create(null):this._keyValueDiffer=this._keyValueDiffers.find(e).create(null))},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(s(this._iterableDiffer)){var e=this._iterableDiffer.diff(this._rawClass);s(e)&&this._applyIterableChanges(e)}if(s(this._keyValueDiffer)){var e=this._keyValueDiffer.diff(this._rawClass);s(e)&&this._applyKeyValueChanges(e)}},e.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){t._toggleClass(e.item,!1)})},e.prototype._applyInitialClasses=function(e){var t=this;this._initialClasses.forEach(function(r){return t._toggleClass(r,!e)})},e.prototype._applyClasses=function(e,t){var r=this;s(e)&&(m(e)?e.forEach(function(e){return r._toggleClass(e,!t)}):e instanceof Set?e.forEach(function(e){return r._toggleClass(e,!t)}):Ee.forEach(e,function(e,o){s(e)&&r._toggleClass(o,!t)}))},e.prototype._toggleClass=function(e,t){if(e=e.trim(),0<e.length)if(-1<e.indexOf(" "))for(var r=e.split(/\s+/g),o=0,n=r.length;o<n;o++)this._renderer.setElementClass(this._ngEl.nativeElement,r[o],t);else this._renderer.setElementClass(this._ngEl.nativeElement,e,t)},e}());Te.decorators=[{type:t.Directive,args:[{selector:"[ngClass]"}]}],Te.ctorParameters=[{type:t.IterableDiffers},{type:t.KeyValueDiffers},{type:t.ElementRef},{type:t.Renderer}],Te.propDecorators={initialClasses:[{type:t.Input,args:["class"]}],ngClass:[{type:t.Input}]};var Pe=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),Oe=function(){function e(e,t,r){this.$implicit=e,this.index=t,this.count=r}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return 0==this.index%2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),Ae=function(){function e(e,t,r,o){this._viewContainer=e,this._templateRef=t,this._iterableDiffers=r,this._cdr=o}return Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){s(e)&&(this._templateRef=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){if("ngForOf"in e){var t=e.ngForOf.currentValue;if(p(this._differ)&&s(t))try{this._differ=this._iterableDiffers.find(t).create(this._cdr,this.ngForTrackBy)}catch(r){throw new Pe("Cannot find a differ supporting object '"+t+"' of type '"+i(t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},e.prototype.ngDoCheck=function(){if(s(this._differ)){var e=this._differ.diff(this.ngForOf);s(e)&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this,r=[];e.forEachOperation(function(e,o,n){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._templateRef,new Oe(null,null,null),n),i=new we(e,a);r.push(i)}else if(null==n)t._viewContainer.remove(o);else{var a=t._viewContainer.get(o);t._viewContainer.move(a,n);var i=new we(e,a);r.push(i)}});for(var o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(var o=0,n=this._viewContainer.length,a;o<n;o++)a=this._viewContainer.get(o),a.context.index=o,a.context.count=n;e.forEachIdentityChange(function(e){var r=t._viewContainer.get(e.currentIndex);r.context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e}();Ae.decorators=[{type:t.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],Ae.ctorParameters=[{type:t.ViewContainerRef},{type:t.TemplateRef},{type:t.IterableDiffers},{type:t.ChangeDetectorRef}],Ae.propDecorators={ngForOf:[{type:t.Input}],ngForTrackBy:[{type:t.Input}],ngForTemplate:[{type:t.Input}]};var we=function(){return function(e,t){this.record=e,this.view=t}}(),ke=function(){function e(e,t){this._viewContainer=e,this._templateRef=t,this._prevCondition=null}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){e&&(p(this._prevCondition)||!this._prevCondition)?(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef)):e||!p(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear())},enumerable:!0,configurable:!0}),e}();ke.decorators=[{type:t.Directive,args:[{selector:"[ngIf]"}]}],ke.ctorParameters=[{type:t.ViewContainerRef},{type:t.TemplateRef}],ke.propDecorators={ngIf:[{type:t.Input}]};var Me=function(){return function(){}}(),Ie={},Re=!1,Ne=function(){function e(e,t){this._viewContainerRef=e,this._templateRef=t}return e.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},e.prototype.destroy=function(){this._viewContainerRef.clear()},e}(),De=function(){function e(){this._useDefault=!1,this._valueViews=new Map,this._activeViews=[]}return Object.defineProperty(e.prototype,"ngSwitch",{set:function(e){this._emptyAllActiveViews(),this._useDefault=!1;var t=this._valueViews.get(e);p(t)&&(this._useDefault=!0,t=b(this._valueViews.get(Ie))),this._activateViews(t),this._switchValue=e},enumerable:!0,configurable:!0}),e.prototype._onCaseValueChanged=function(e,t,r){this._deregisterView(e,r),this._registerView(t,r),e===this._switchValue?(r.destroy(),xe.remove(this._activeViews,r)):t===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),r.create(),this._activeViews.push(r)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(Ie)))},e.prototype._emptyAllActiveViews=function(){for(var e=this._activeViews,t=0;t<e.length;t++)e[t].destroy();this._activeViews=[]},e.prototype._activateViews=function(e){if(s(e)){for(var t=0;t<e.length;t++)e[t].create();this._activeViews=e}},e.prototype._registerView=function(e,t){var r=this._valueViews.get(e);p(r)&&(r=[],this._valueViews.set(e,r)),r.push(t)},e.prototype._deregisterView=function(e,t){if(e!==Ie){var r=this._valueViews.get(e);1==r.length?this._valueViews.delete(e):xe.remove(r,t)}},e}();De.decorators=[{type:t.Directive,args:[{selector:"[ngSwitch]"}]}],De.propDecorators={ngSwitch:[{type:t.Input}]};var Ve=function(){function e(e,t,r){this._value=Ie,this._switch=r,this._view=new Ne(e,t)}return Object.defineProperty(e.prototype,"ngSwitchCase",{set:function(e){this._switch._onCaseValueChanged(this._value,e,this._view),this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngSwitchWhen",{set:function(e){Re||(Re=!0,console.warn("*ngSwitchWhen is deprecated and will be removed. Use *ngSwitchCase instead")),this._switch._onCaseValueChanged(this._value,e,this._view),this._value=e},enumerable:!0,configurable:!0}),e}();Ve.decorators=[{type:t.Directive,args:[{selector:"[ngSwitchCase],[ngSwitchWhen]"}]}],Ve.ctorParameters=[{type:t.ViewContainerRef},{type:t.TemplateRef},{type:De,decorators:[{type:t.Host}]}],Ve.propDecorators={ngSwitchCase:[{type:t.Input}],ngSwitchWhen:[{type:t.Input}]};var Le=function(){return function(e,t,r){r._registerView(Ie,new Ne(e,t))}}();Le.decorators=[{type:t.Directive,args:[{selector:"[ngSwitchDefault]"}]}],Le.ctorParameters=[{type:t.ViewContainerRef},{type:t.TemplateRef},{type:De,decorators:[{type:t.Host}]}];var je=function(){function e(e){this._localization=e,this._caseViews={}}return Object.defineProperty(e.prototype,"ngPlural",{set:function(e){this._switchValue=e,this._updateView()},enumerable:!0,configurable:!0}),e.prototype.addCase=function(e,t){this._caseViews[e]=t},e.prototype._updateView=function(){this._clearViews();var e=O(this._switchValue,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[e])},e.prototype._clearViews=function(){s(this._activeView)&&this._activeView.destroy()},e.prototype._activateView=function(e){s(e)&&(this._activeView=e,this._activeView.create())},e}();je.decorators=[{type:t.Directive,args:[{selector:"[ngPlural]"}]}],je.ctorParameters=[{type:Me}],je.propDecorators={ngPlural:[{type:t.Input}]};var Fe=function(){return function(e,t,r,o){this.value=e,o.addCase(e,new Ne(r,t))}}();Fe.decorators=[{type:t.Directive,args:[{selector:"[ngPluralCase]"}]}],Fe.ctorParameters=[{type:void 0,decorators:[{type:t.Attribute,args:["ngPluralCase"]}]},{type:t.TemplateRef},{type:t.ViewContainerRef},{type:je,decorators:[{type:t.Host}]}];var Ue=function(){function e(e,t,r){this._differs=e,this._ngEl=t,this._renderer=r}return Object.defineProperty(e.prototype,"ngStyle",{set:function(e){this._ngStyle=e,p(this._differ)&&s(e)&&(this._differ=this._differs.find(this._ngStyle).create(null))},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(s(this._differ)){var e=this._differ.diff(this._ngStyle);s(e)&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this;e.forEachRemovedItem(function(e){t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._setStyle(e.key,e.currentValue)})},e.prototype._setStyle=function(e,t){var r=e.split("."),o=r[0],n=s(t)&&2===r.length?""+t+r[1]:t;this._renderer.setElementStyle(this._ngEl.nativeElement,o,n)},e}();Ue.decorators=[{type:t.Directive,args:[{selector:"[ngStyle]"}]}],Ue.ctorParameters=[{type:t.KeyValueDiffers},{type:t.ElementRef},{type:t.Renderer}],Ue.propDecorators={ngStyle:[{type:t.Input}]};var Be=function(){function e(e){this._viewContainerRef=e}return Object.defineProperty(e.prototype,"ngOutletContext",{set:function(e){this._context=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngTemplateOutlet",{set:function(e){this._templateRef=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this._templateRef&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,this._context))},e}();Be.decorators=[{type:t.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],Be.ctorParameters=[{type:t.ViewContainerRef}],Be.propDecorators={ngOutletContext:[{type:t.Input}],ngTemplateOutlet:[{type:t.Input}]};var ze=[Te,Ae,ke,Be,Ue,De,Ve,Le,je,Fe],He=[ze],qe=function(e){function t(t,r){e.call(this,"Invalid argument '"+r+"' for pipe '"+f(t)+"'")}return __extends(t,e),t}(Pe),We=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(t){throw t}})},e.prototype.dispose=function(e){e.unsubscribe()},e.prototype.onDestroy=function(e){e.unsubscribe()},e}(),Ge=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.then(t,function(t){throw t})},e.prototype.dispose=function(){},e.prototype.onDestroy=function(){},e}(),Ke=new Ge,Qe=new We,Xe=function(){function e(e){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}return e.prototype.ngOnDestroy=function(){s(this._subscription)&&this._dispose()},e.prototype.transform=function(e){return p(this._obj)?(s(e)&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue):e===this._obj?this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,t.WrappedValue.wrap(this._latestValue)):(this._dispose(),this.transform(e))},e.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(r){return t._updateLatestValue(e,r)})},e.prototype._selectStrategy=function(t){if(y(t))return Ke;if(t.subscribe)return Qe;throw new qe(e,t)},e.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},e.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},e}();Xe.decorators=[{type:t.Pipe,args:[{name:"async",pure:!1}]}],Xe.ctorParameters=[{type:t.ChangeDetectorRef}];var Ze;!function(e){e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency"}(Ze||(Ze={}));var Ye=function(){function e(){}return e.format=function(e,t,r,o){var n=void 0===o?{}:o,a=n.minimumIntegerDigits,i=n.minimumFractionDigits,s=n.maximumFractionDigits,p=n.currency,l=n.currencyAsSymbol,d={minimumIntegerDigits:a,minimumFractionDigits:i,maximumFractionDigits:s,style:Ze[r].toLowerCase()};return r==Ze.Currency&&(d.currency=p,d.currencyDisplay=void 0!==l&&l?"symbol":"code"),new Intl.NumberFormat(t,d).format(e)},e}(),$e=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,Je={yMMMdjms:D(N([I("year",1),R("month",3),I("day",1),I("hour",1),I("minute",1),I("second",1)])),yMdjm:D(N([I("year",1),I("month",1),I("day",1),I("hour",1),I("minute",1)])),yMMMMEEEEd:D(N([I("year",1),R("month",4),R("weekday",4),I("day",1)])),yMMMMd:D(N([I("year",1),R("month",4),I("day",1)])),yMMMd:D(N([I("year",1),R("month",3),I("day",1)])),yMd:D(N([I("year",1),I("month",1),I("day",1)])),jms:D(N([I("hour",1),I("second",1),I("minute",1)])),jm:D(N([I("hour",1),I("minute",1)]))},et={yyyy:D(I("year",4)),yy:D(I("year",2)),y:D(I("year",1)),MMMM:D(R("month",4)),MMM:D(R("month",3)),MM:D(I("month",2)),M:D(I("month",1)),LLLL:D(R("month",4)),dd:D(I("day",2)),d:D(I("day",1)),HH:A(w(D(M(I("hour",2),!1)))),H:w(D(M(I("hour",1),!1))),hh:A(w(D(M(I("hour",2),!0)))),h:w(D(M(I("hour",1),!0))),jj:D(I("hour",2)),j:D(I("hour",1)),mm:A(D(I("minute",2))),m:D(I("minute",1)),ss:A(D(I("second",2))),s:D(I("second",1)),sss:D(I("second",3)),EEEE:D(R("weekday",4)),EEE:D(R("weekday",3)),EE:D(R("weekday",2)),E:D(R("weekday",1)),a:function(e){return function(t,r){var o=e(t,r);return o.split(" ")[1]}}(D(M(I("hour",1),!0))),Z:k("short"),z:k("long"),ww:D({}),w:D({}),G:D(R("era",1)),GG:D(R("era",2)),GGG:D(R("era",3)),GGGG:D(R("era",4))},tt=new Map,rt=[].slice,ot=function(){function e(){}return e.format=function(e,t,r){return V(r,e,t)},e}(),nt=function(){function e(){}return e.prototype.transform=function(t,r){if(void 0===r&&(r="mediumDate"),p(t))return null;if(!this.supports(t))throw new qe(e,t);return ue.isNumeric(t)?t=me.fromMillis(ue.parseInt(t,10)):d(t)&&(t=me.fromISOString(t)),Ee.contains(e._ALIASES,r)&&(r=Ee.get(e._ALIASES,r)),ot.format(t,"en-US",r)},e.prototype.supports=function(e){return g(e)||ue.isNumeric(e)||d(e)&&g(me.fromISOString(e))},e}();nt._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},nt.decorators=[{type:t.Pipe,args:[{name:"date",pure:!0}]}];var at=/#/g,it=function(){function e(e){this._localization=e}return e.prototype.transform=function(t,r){if(p(t))return"";if(!u(r))throw new qe(e,r);var o=O(t,Object.keys(r),this._localization);return de.replaceAll(r[o],at,t.toString())},e}();it.decorators=[{type:t.Pipe,args:[{name:"i18nPlural",pure:!0}]}],it.ctorParameters=[{type:Me}];var st=function(){function e(){}return e.prototype.transform=function(t,r){if(p(t))return"";if(!u(r))throw new qe(e,r);return r.hasOwnProperty(t)?r[t]:""},e}();st.decorators=[{type:t.Pipe,args:[{name:"i18nSelect",pure:!0}]}];var pt=function(){function e(){}return e.prototype.transform=function(e){return ye.stringify(e)},e}();pt.decorators=[{type:t.Pipe,args:[{name:"json",pure:!1}]}];var lt=function(){function e(){}return e.prototype.transform=function(t){if(p(t))return t;if(!d(t))throw new qe(e,t);return t.toLowerCase()},e}();lt.decorators=[{type:t.Pipe,args:[{name:"lowercase"}]}];var dt="en-US",ct=/^(\d+)?\.((\d+)(\-(\d+))?)?$/,ut=function(){function e(){}return e.prototype.transform=function(t,r){return void 0===r&&(r=null),j(e,t,Ze.Decimal,r)},e}();ut.decorators=[{type:t.Pipe,args:[{name:"number"}]}];var yt=function(){function e(){}return e.prototype.transform=function(t,r){return void 0===r&&(r=null),j(e,t,Ze.Percent,r)},e}();yt.decorators=[{type:t.Pipe,args:[{name:"percent"}]}];var mt=function(){function e(){}return e.prototype.transform=function(t,r,o,n){return void 0===r&&(r="USD"),void 0===o&&(o=!1),void 0===n&&(n=null),j(e,t,Ze.Currency,n,r,o)},e}();mt.decorators=[{type:t.Pipe,args:[{name:"currency"}]}];var gt=function(){function e(){}return e.prototype.transform=function(t,r,o){if(p(t))return t;if(!this._supportedInput(t))throw new qe(e,t);var n=t.toString();if(!this._supportedPattern(r))throw new qe(e,r);if(!this._supportedReplacement(o))throw new qe(e,o);if(c(o)){var a=d(r)?new RegExp(r,"g"):r;return de.replaceAllMapped(n,a,o)}return r instanceof RegExp?de.replaceAll(n,r,o):de.replace(n,r,o)},e.prototype._supportedInput=function(e){return d(e)||l(e)},e.prototype._supportedPattern=function(e){return d(e)||e instanceof RegExp},e.prototype._supportedReplacement=function(e){return d(e)||c(e)},e}();gt.decorators=[{type:t.Pipe,args:[{name:"replace"}]}];var ft=function(){function e(){}return e.prototype.transform=function(t,r,o){if(void 0===o&&(o=null),p(t))return t;if(!this.supports(t))throw new qe(e,t);return d(t)?de.slice(t,r,o):xe.slice(t,r,o)},e.prototype.supports=function(e){return d(e)||m(e)},e}();ft.decorators=[{type:t.Pipe,args:[{name:"slice",pure:!1}]}];var ht=function(){function e(){}return e.prototype.transform=function(t){if(p(t))return t;if(!d(t))throw new qe(e,t);return t.toUpperCase()},e}();ht.decorators=[{type:t.Pipe,args:[{name:"uppercase"}]}];var bt=[Xe,ht,lt,pt,ft,ut,yt,mt,nt,gt,it,st],_t=new t.OpaqueToken("NgValueAccessor"),vt={provide:_t,useExisting:t.forwardRef(function(){return St}),multi:!0},St=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e}();St.decorators=[{type:t.Directive,args:[{selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[vt]}]}],St.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var Ct={provide:_t,useExisting:t.forwardRef(function(){return Et}),multi:!0},Et=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=p(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e}();Et.decorators=[{type:t.Directive,args:[{selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Ct]}]}],Et.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var xt=new t.OpaqueToken("NgValidators"),Tt=new t.OpaqueToken("NgAsyncValidators"),Pt=function(){function e(){}return e.required=function(e){return p(e.value)||d(e.value)&&""==e.value?{required:!0}:null},e.minLength=function(t){return function(r){if(s(e.required(r)))return null;var o=r.value;return o.length<t?{minlength:{requiredLength:t,actualLength:o.length}}:null}},e.maxLength=function(t){return function(r){if(s(e.required(r)))return null;var o=r.value;return o.length>t?{maxlength:{requiredLength:t,actualLength:o.length}}:null}},e.pattern=function(t){return function(r){if(s(e.required(r)))return null;var o=new RegExp("^"+t+"$"),n=r.value;return o.test(n)?null:{pattern:{requiredPattern:"^"+t+"$",actualValue:n}}}},e.nullValidator=function(){return null},e.compose=function(e){if(p(e))return null;var t=e.filter(s);return 0==t.length?null:function(e){return z(U(e,t))}},e.composeAsync=function(e){if(p(e))return null;var t=e.filter(s);return 0==t.length?null:function(e){var r=B(e,t).map(F);return Promise.all(r).then(z)}},e}(),Ot=function(){function e(){}return Object.defineProperty(e.prototype,"control",{get:function(){return P()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return s(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return s(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return s(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return s(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return s(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return s(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return s(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),At=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(Ot),wt={provide:_t,useExisting:t.forwardRef(function(){return kt}),multi:!0},kt=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=p(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:ue.parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e}();kt.decorators=[{type:t.Directive,args:[{selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[wt]}]}],kt.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var Mt=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e.apply(this,t),this.name=null,this.valueAccessor=null}return __extends(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return P()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return P()},enumerable:!0,configurable:!0}),t}(Ot),It={provide:_t,useExisting:t.forwardRef(function(){return Dt}),multi:!0},Rt=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=-1,r=0;r<this._accessors.length;++r)this._accessors[r][1]===e&&(t=r);xe.removeAt(this._accessors,t)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(r){t._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck()})},e.prototype._isSameGroup=function(e,t){return e[0].control.root===t._control.control.root&&e[1].name===t.name},e}();Rt.decorators=[{type:t.Injectable}];var Nt=function(){return function(e,t){this.checked=e,this.value=t}}(),Dt=function(){function e(e,t,r,o){this._renderer=e,this._elementRef=t,this._registry=r,this._injector=o,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(Mt),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e,s(e)&&e.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(new Nt(!0,t._state.value)),t._registry.select(t)}},e.prototype.fireUncheck=function(){this._fn(new Nt(!1,this._state.value))},e.prototype.registerOnTouched=function(e){this.onTouched=e},e}();Dt.decorators=[{type:t.Directive,args:[{selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[It]}]}],Dt.ctorParameters=[{type:t.Renderer},{type:t.ElementRef},{type:Rt},{type:t.Injector}],Dt.propDecorators={name:[{type:t.Input}]};var Vt={provide:_t,useExisting:t.forwardRef(function(){return Lt}),multi:!0},Lt=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.value=e;var t=W(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(r){t.value=r,e(t._getOptionValue(r))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,r=Ce.keys(this._optionMap),o;t<r.length;t++)if(o=r[t],h(this._optionMap.get(o),e))return o;return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(G(e));return s(t)?t:e},e}();Lt.decorators=[{type:t.Directive,args:[{selector:"select:not([multiple])[ngControl],select:not([multiple])[ngFormControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Vt]}]}],Lt.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var jt=function(){function e(e,t,r){this._element=e,this._renderer=t,this._select=r,s(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(W(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),s(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){s(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();jt.decorators=[{type:t.Directive,args:[{selector:"option"}]}],jt.ctorParameters=[{type:t.ElementRef},{type:t.Renderer},{type:Lt,decorators:[{type:t.Optional},{type:t.Host}]}],jt.propDecorators={ngValue:[{type:t.Input,args:["ngValue"]}],value:[{type:t.Input,args:["value"]}]};var Ft={provide:_t,useExisting:t.forwardRef(function(){return Ut}),multi:!0},Ut=function(){function e(){this._optionMap=new Map,this._idCounter=0,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=this;if(this.value=e,null!=e){var r=e.map(function(e){return t._getOptionId(e)});this._optionMap.forEach(function(e,t){e._setSelected(-1<r.indexOf(t.toString()))})}},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(r){var o=[];if(r.hasOwnProperty("selectedOptions"))for(var n=r.selectedOptions,a=0;a<n.length;a++){var s=n.item(a),p=t._getOptionValue(s.value);o.push(p)}else for(var n=r.options,a=0,s;a<n.length;a++)if(s=n.item(a),s.selected){var p=t._getOptionValue(s.value);o.push(p)}e(o)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){for(var t=0,r=Ce.keys(this._optionMap),o;t<r.length;t++)if(o=r[t],h(this._optionMap.get(o)._value,e))return o;return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(Q(e));return s(t)?t._value:e},e}();Ut.decorators=[{type:t.Directive,args:[{selector:"select[multiple][ngControl],select[multiple][ngFormControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[Ft]}]}],Ut.ctorParameters=[];var Bt=function(){function e(e,t,r){this._element=e,this._renderer=t,this._select=r,s(this._select)&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(K(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){s(this._select)?(this._value=e,this._setElementValue(K(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setElementProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){s(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();Bt.decorators=[{type:t.Directive,args:[{selector:"option"}]}],Bt.ctorParameters=[{type:t.ElementRef},{type:t.Renderer},{type:Ut,decorators:[{type:t.Optional},{type:t.Host}]}],Bt.propDecorators={ngValue:[{type:t.Input,args:["ngValue"]}],value:[{type:t.Input,args:["value"]}]};var zt={provide:At,useExisting:t.forwardRef(function(){return Ht})},Ht=function(e){function t(t,r,o){e.call(this),this._validators=r,this._asyncValidators=o,this._parent=t}return __extends(t,e),t.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return X(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return J(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ee(this._asyncValidators)},enumerable:!0,configurable:!0}),t}(At);Ht.decorators=[{type:t.Directive,args:[{selector:"[ngControlGroup]",providers:[zt],inputs:["name: ngControlGroup"],exportAs:"ngForm"}]}],Ht.ctorParameters=[{type:At,decorators:[{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[xt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[Tt]}]}];var qt=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.next=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,o){var n=function(){return null},a=function(){return null},i;return t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(n=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(n=this.__isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),o&&(a=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()})),e.prototype.subscribe.call(this,i,n,a)},t}(o.Subject),Wt={provide:Mt,useExisting:t.forwardRef(function(){return Gt})},Gt=function(e){function t(t,r,o,n){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=o,this.update=new qt,this._added=!1,this.valueAccessor=re(this,n)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._added||(this.formDirective.addControl(this),this._added=!0),te(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(t.prototype,"path",{get:function(){return X(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return J(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ee(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),t}(Mt);Gt.decorators=[{type:t.Directive,args:[{selector:"[ngControl]",providers:[Wt],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],Gt.ctorParameters=[{type:At,decorators:[{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[xt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[Tt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[_t]}]}];var Kt=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!s(this._cd.control)&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!s(this._cd.control)&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!s(this._cd.control)&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!s(this._cd.control)&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!s(this._cd.control)&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!s(this._cd.control)&&!this._cd.control.valid},enumerable:!0,configurable:!0}),e}();Kt.decorators=[{type:t.Directive,args:[{selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}]}],Kt.ctorParameters=[{type:Mt,decorators:[{type:t.Self}]}];var Qt=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._pristine=!0,this._touched=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._status==="VALID"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this._status=="PENDING"},enumerable:!0,configurable:!0}),e.prototype.markAsTouched=function(){this._touched=!0},e.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;t=_(t),this._pristine=!1,s(this._parent)&&!t&&this._parent.markAsDirty({onlySelf:t})},e.prototype.markAsPending=function(e){var t=(void 0===e?{}:e).onlySelf;t=_(t),this._status="PENDING",s(this._parent)&&!t&&this._parent.markAsPending({onlySelf:t})},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){var t=void 0===e?{}:e,r=t.onlySelf,o=t.emitEvent;r=_(r),o=!s(o)||o,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!="VALID"&&this._status!="PENDING"||this._runAsyncValidator(o),o&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),s(this._parent)&&!r&&this._parent.updateValueAndValidity({onlySelf:r,emitEvent:o})},e.prototype._runValidator=function(){return s(this.validator)?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(s(this.asyncValidator)){this._status="PENDING",this._cancelExistingSubscription();var r=ne(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe({next:function(r){return t.setErrors(r,{emitEvent:e})}})}},e.prototype._cancelExistingSubscription=function(){s(this._asyncValidationSubscription)&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){var r=(void 0===t?{}:t).emitEvent;r=!s(r)||r,this._errors=e,this._status=this._calculateStatus(),r&&this._statusChanges.emit(this._status),s(this._parent)&&this._parent._updateControlsErrors()},e.prototype.find=function(e){return oe(this,e)},e.prototype.getError=function(e,t){void 0===t&&(t=null);var r=s(t)&&!xe.isEmpty(t)?this.find(t):this;return s(r)&&s(r._errors)?Ee.get(r._errors,e):null},e.prototype.hasError=function(e,t){return void 0===t&&(t=null),s(this.getError(e,t))},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;s(e._parent);)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),s(this._parent)&&this._parent._updateControlsErrors()},e.prototype._initObservables=function(){this._valueChanges=new qt,this._statusChanges=new qt},e.prototype._calculateStatus=function(){return s(this._errors)?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e}(),Xt=function(e){function t(t,r,o){void 0===t&&(t=null),void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this._value=t,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(t,e),t.prototype.updateValue=function(e,t){var r=void 0===t?{}:t,o=r.onlySelf,n=r.emitEvent,a=r.emitModelToViewChange;a=!s(a)||a,this._value=e,s(this._onChange)&&a&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:o,emitEvent:n})},t.prototype._updateValue=function(){},t.prototype._anyControlsHaveStatus=function(){return!1},t.prototype.registerOnChange=function(e){this._onChange=e},t}(Qt),Zt=function(e){function t(t,r,o,n){void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n=null),e.call(this,o,n),this.controls=t,this._optionals=s(r)?r:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(t,e),t.prototype.registerControl=function(e,t){this.controls[e]=t,t.setParent(this)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity()},t.prototype.removeControl=function(e){Ee.delete(this.controls,e),this.updateValueAndValidity()},t.prototype.include=function(e){Ee.set(this._optionals,e,!0),this.updateValueAndValidity()},t.prototype.exclude=function(e){Ee.set(this._optionals,e,!1),this.updateValueAndValidity()},t.prototype.contains=function(e){var t=Ee.contains(this.controls,e);return t&&this._included(e)},t.prototype._setParentForControls=function(){var e=this;Ee.forEach(this.controls,function(t){t.setParent(e)})},t.prototype._updateValue=function(){this._value=this._reduceValue()},t.prototype._anyControlsHaveStatus=function(e){var t=this,r=!1;return Ee.forEach(this.controls,function(o,n){r=r||t.contains(n)&&o.status==e}),r},t.prototype._reduceValue=function(){return this._reduceChildren({},function(e,t,r){return e[r]=t.value,e})},t.prototype._reduceChildren=function(e,t){var r=this,o=e;return Ee.forEach(this.controls,function(e,n){r._included(n)&&(o=t(o,e,n))}),o},t.prototype._included=function(e){var t=Ee.contains(this._optionals,e);return!t||Ee.get(this._optionals,e)},t}(Qt),Yt=function(e){function t(t,r,o){void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this.controls=t,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),e.setParent(this),this.updateValueAndValidity()},t.prototype.insert=function(e,t){xe.insert(this.controls,e,t),t.setParent(this),this.updateValueAndValidity()},t.prototype.removeAt=function(e){xe.removeAt(this.controls,e),this.updateValueAndValidity()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype._updateValue=function(){this._value=this.controls.map(function(e){return e.value})},t.prototype._anyControlsHaveStatus=function(e){return this.controls.some(function(t){return t.status==e})},t.prototype._setParentForControls=function(){var e=this;this.controls.forEach(function(t){t.setParent(e)})},t}(Qt),$t={provide:At,useExisting:t.forwardRef(function(){return tr})},Jt=!1,er=Promise.resolve(null),tr=function(e){function t(t,r){e.call(this),this._submitted=!1,this.ngSubmit=new qt,this._displayWarning(),this.form=new Zt({},null,J(t),ee(r))}return __extends(t,e),t.prototype._displayWarning=function(){Jt||(Jt=!0,console.warn("\n      *It looks like you're using the old forms module. This will be opt-in in the next RC, and\n      will eventually be removed in favor of the new forms module. For more information, see:\n      https://docs.google.com/document/d/1RIezQqE4aEhBRmArIAS1mRIZtWFf6JxN_7B4meyWK0Y/preview\n    "))},Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;er.then(function(){var r=t._findContainer(e.path),o=new Xt;Z(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})},t.prototype.getControl=function(e){return this.form.find(e.path)},t.prototype.removeControl=function(e){var t=this;er.then(function(){var r=t._findContainer(e.path);s(r)&&r.removeControl(e.name)})},t.prototype.addControlGroup=function(e){var t=this;er.then(function(){var r=t._findContainer(e.path),o=new Zt({});Y(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeControlGroup=function(e){var t=this;er.then(function(){var r=t._findContainer(e.path);s(r)&&r.removeControl(e.name)})},t.prototype.getControlGroup=function(e){return this.form.find(e.path)},t.prototype.updateModel=function(e,t){var r=this;er.then(function(){var o=r.form.find(e.path);o.updateValue(t)})},t.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},t.prototype._findContainer=function(e){return e.pop(),xe.isEmpty(e)?this.form:this.form.find(e)},t}(At);tr.decorators=[{type:t.Directive,args:[{selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",providers:[$t],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],tr.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[xt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[Tt]}]}];var rr={provide:Mt,useExisting:t.forwardRef(function(){return or})},or=function(e){function t(t,r,o){e.call(this),this._validators=t,this._asyncValidators=r,this.update=new qt,this.valueAccessor=re(this,o)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(Z(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),te(e,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return J(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ee(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._isControlChanged=function(e){return Ee.contains(e,"form")},t}(Mt);or.decorators=[{type:t.Directive,args:[{selector:"[ngFormControl]",providers:[rr],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],or.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[xt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[Tt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[_t]}]}];var nr={provide:At,useExisting:t.forwardRef(function(){return ir})},ar=!1,ir=function(e){function t(t,r){e.call(this),this._validators=t,this._asyncValidators=r,this._submitted=!1,this.form=null,this.directives=[],this.ngSubmit=new qt,this._displayWarning()}return __extends(t,e),t.prototype._displayWarning=function(){ar||(ar=!0,console.warn("\n      *It looks like you're using the old forms module. This will be opt-in in the next RC, and\n      will eventually be removed in favor of the new forms module. For more information, see:\n      https://docs.google.com/document/d/1RIezQqE4aEhBRmArIAS1mRIZtWFf6JxN_7B4meyWK0Y/preview\n    "))},t.prototype.ngOnChanges=function(e){if(this._checkFormPresent(),Ee.contains(e,"form")){var t=J(this._validators);this.form.validator=Pt.compose([this.form.validator,t]);var r=ee(this._asyncValidators);this.form.asyncValidator=Pt.composeAsync([this.form.asyncValidator,r]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this.form.find(e.path);Z(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e)},t.prototype.getControl=function(e){return this.form.find(e.path)},t.prototype.removeControl=function(e){xe.remove(this.directives,e)},t.prototype.addControlGroup=function(e){var t=this.form.find(e.path);Y(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeControlGroup=function(){},t.prototype.getControlGroup=function(e){return this.form.find(e.path)},t.prototype.updateModel=function(e,t){var r=this.form.find(e.path);r.updateValue(t)},t.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},t.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var r=e.form.find(t.path);t.valueAccessor.writeValue(r.value)})},t.prototype._checkFormPresent=function(){if(p(this.form))throw new Pe("ngFormModel expects a form. Please pass one in. Example: <form [ngFormModel]=\"myCoolForm\">")},t}(At);ir.decorators=[{type:t.Directive,args:[{selector:"[ngFormModel]",providers:[nr],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],ir.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[xt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[Tt]}]}];var sr={provide:Mt,useExisting:t.forwardRef(function(){return pr})},pr=function(e){function t(t,r,o){e.call(this),this._validators=t,this._asyncValidators=r,this._control=new Xt,this._added=!1,this.update=new qt,this.valueAccessor=re(this,o)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._added||(Z(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),te(e,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return J(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return ee(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t}(Mt);pr.decorators=[{type:t.Directive,args:[{selector:"[ngModel]:not([ngControl]):not([ngFormControl])",providers:[sr],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],pr.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[xt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[Tt]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[_t]}]}];var lr=Pt.required,dr=function(){return function(){}}();dr.decorators=[{type:t.Directive,args:[{selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[{provide:xt,useValue:lr,multi:!0}]}]}];var cr={provide:xt,useExisting:t.forwardRef(function(){return ur}),multi:!0},ur=function(){function e(e){this._validator=Pt.minLength(ue.parseInt(e,10))}return e.prototype.validate=function(e){return this._validator(e)},e}();ur.decorators=[{type:t.Directive,args:[{selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[cr]}]}],ur.ctorParameters=[{type:void 0,decorators:[{type:t.Attribute,args:["minlength"]}]}];var yr={provide:xt,useExisting:t.forwardRef(function(){return mr}),multi:!0},mr=function(){function e(e){this._validator=Pt.maxLength(ue.parseInt(e,10))}return e.prototype.validate=function(e){return this._validator(e)},e}();mr.decorators=[{type:t.Directive,args:[{selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[yr]}]}],mr.ctorParameters=[{type:void 0,decorators:[{type:t.Attribute,args:["maxlength"]}]}];var gr={provide:xt,useExisting:t.forwardRef(function(){return fr}),multi:!0},fr=function(){function e(e){this._validator=Pt.pattern(e)}return e.prototype.validate=function(e){return this._validator(e)},e}();fr.decorators=[{type:t.Directive,args:[{selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[gr]}]}],fr.ctorParameters=[{type:void 0,decorators:[{type:t.Attribute,args:["pattern"]}]}];var hr=[Gt,Ht,or,pr,ir,tr,jt,Bt,Et,kt,St,Lt,Ut,Dt,Kt,dr,ur,mr,fr],br=function(){function e(){}return e.prototype.group=function(e,t){void 0===t&&(t=null);var r=this._reduceControls(e),o=s(t)?Ee.get(t,"optionals"):null,n=s(t)?Ee.get(t,"validator"):null,a=s(t)?Ee.get(t,"asyncValidator"):null;return new Zt(r,o,n,a)},e.prototype.control=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),new Xt(e,t,r)},e.prototype.array=function(e,t,r){var o=this;void 0===t&&(t=null),void 0===r&&(r=null);var n=e.map(function(e){return o._createControl(e)});return new Yt(n,t,r)},e.prototype._reduceControls=function(e){var t=this,r={};return Ee.forEach(e,function(e,o){r[o]=t._createControl(e)}),r},e.prototype._createControl=function(e){if(e instanceof Xt||e instanceof Zt||e instanceof Yt)return e;if(m(e)){var t=e[0],r=1<e.length?e[1]:null,o=2<e.length?e[2]:null;return this.control(t,r,o)}return this.control(e)},e}();br.decorators=[{type:t.Injectable}];var _r=[br,Rt],vr=function(){return function(){}}();vr.decorators=[{type:t.NgModule,args:[{providers:[_r],declarations:hr,exports:hr}]}];var Sr=function(){function e(){}return Object.defineProperty(e.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),Cr=function(){return function(){}}(),Er=new t.OpaqueToken("appBaseHref"),xr=function(){function e(r){var o=this;this._subject=new t.EventEmitter,this._platformStrategy=r;var n=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(ie(n)),this._platformStrategy.onPopState(function(e){o._subject.emit({url:o.path(!0),pop:!0,type:e.type})})}return e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(t,r){return void 0===r&&(r=""),this.path()==this.normalize(t+e.normalizeQueryParams(r))},e.prototype.normalize=function(t){return e.stripTrailingSlash(ae(this._baseHref,ie(t)))},e.prototype.prepareExternalUrl=function(e){return 0<e.length&&!e.startsWith("/")&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t){void 0===t&&(t=""),this._platformStrategy.pushState(null,"",e,t)},e.prototype.replaceState=function(e,t){void 0===t&&(t=""),this._platformStrategy.replaceState(null,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),this._subject.subscribe({next:e,error:t,complete:r})},e.normalizeQueryParams=function(e){return 0<e.length&&"?"!=e.substring(0,1)?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t},e.stripTrailingSlash=function(e){return /\/$/g.test(e)&&(e=e.substring(0,e.length-1)),e},e}();xr.decorators=[{type:t.Injectable}],xr.ctorParameters=[{type:Cr}];var Tr=function(e){function t(t,r){e.call(this),this._platformLocation=t,this._baseHref="",s(r)&&(this._baseHref=r)}return __extends(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return s(t)||(t="#"),0<t.length?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=xr.joinWithSlash(this._baseHref,e);return 0<t.length?"#"+t:t},t.prototype.pushState=function(e,t,r,o){var n=this.prepareExternalUrl(r+xr.normalizeQueryParams(o));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.pushState(e,t,n)},t.prototype.replaceState=function(e,t,r,o){var n=this.prepareExternalUrl(r+xr.normalizeQueryParams(o));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,n)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(Cr);Tr.decorators=[{type:t.Injectable}],Tr.ctorParameters=[{type:Sr},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[Er]}]}];var Pr=function(e){function t(t,r){if(e.call(this),this._platformLocation=t,p(r)&&(r=this._platformLocation.getBaseHrefFromDOM()),p(r))throw new Pe("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}return __extends(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return xr.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+xr.normalizeQueryParams(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?""+t+r:t},t.prototype.pushState=function(e,t,r,o){var n=this.prepareExternalUrl(r+xr.normalizeQueryParams(o));this._platformLocation.pushState(e,t,n)},t.prototype.replaceState=function(e,t,r,o){var n=this.prepareExternalUrl(r+xr.normalizeQueryParams(o));this._platformLocation.replaceState(e,t,n)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(Cr);Pr.decorators=[{type:t.Injectable}],Pr.ctorParameters=[{type:Sr},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[Er]}]}];var Or=function(){return function(){}}();Or.decorators=[{type:t.NgModule,args:[{declarations:[He,bt],exports:[He,bt]}]}],e.CommonModule=Or,e.NgLocalization=Me,e.AsyncPipe=Xe,e.COMMON_PIPES=bt,e.DatePipe=nt,e.I18nPluralPipe=it,e.I18nSelectPipe=st,e.JsonPipe=pt,e.LowerCasePipe=lt,e.CurrencyPipe=mt,e.DecimalPipe=ut,e.PercentPipe=yt,e.ReplacePipe=gt,e.SlicePipe=ft,e.UpperCasePipe=ht,e.CORE_DIRECTIVES=ze,e.NgClass=Te,e.NgFor=Ae,e.NgIf=ke,e.NgPlural=je,e.NgPluralCase=Fe,e.NgStyle=Ue,e.NgSwitch=De,e.NgSwitchCase=Ve,e.NgSwitchDefault=Le,e.NgTemplateOutlet=Be,e.FORM_PROVIDERS=_r,e.DeprecatedFormsModule=vr,e.FORM_DIRECTIVES=hr,e.RadioButtonState=Nt,e.AbstractControlDirective=Ot,e.CheckboxControlValueAccessor=St,e.ControlContainer=At,e.NG_VALUE_ACCESSOR=_t,e.DefaultValueAccessor=Et,e.NgControl=Mt,e.NgControlGroup=Ht,e.NgControlName=Gt,e.NgControlStatus=Kt,e.NgForm=tr,e.NgFormControl=or,e.NgFormModel=ir,e.NgModel=pr,e.NgSelectOption=jt,e.SelectControlValueAccessor=Lt,e.MaxLengthValidator=mr,e.MinLengthValidator=ur,e.PatternValidator=fr,e.RequiredValidator=dr,e.FormBuilder=br,e.AbstractControl=Qt,e.Control=Xt,e.ControlArray=Yt,e.ControlGroup=Zt,e.NG_ASYNC_VALIDATORS=Tt,e.NG_VALIDATORS=xt,e.Validators=Pt,e.COMMON_DIRECTIVES=He,e.PlatformLocation=Sr,e.LocationStrategy=Cr,e.APP_BASE_HREF=Er,e.HashLocationStrategy=Tr,e.PathLocationStrategy=Pr,e.Location=xr});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],t):t((e.ng=e.ng||{},e.ng.compiler=e.ng.compiler||{}),e.ng.core)}(this,function(e,t){"use strict";function r(e){return o(n(e.nodes).join("")+("["+e.meaning+"]"))}function o(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t.toString(16)}function n(e){return e.map(function(e){return e.visit(vo,null)})}function a(e,t,r){void 0===r&&(r=null);var o=[];return t.forEach(function(t){var n=t.visit(e,r);n&&o.push(n)}),o}function i(e){return e>=Do&&e<=Uo||e==dn}function s(e){return Zo<=e&&e<=Yo}function p(e){return e>=on&&e<=pn||e>=$o&&e<=tn}function l(e){return e>=on&&e<=$e||e>=$o&&e<=en||s(e)}function d(e){return void 0!==e&&null!==e}function c(e){return void 0===e||null===e}function u(e){return"string"==typeof e}function y(e){return"object"==typeof e&&null!==e}function m(e){return y(e)&&Object.getPrototypeOf(e)===gn}function g(e){return Array.isArray(e)}function f(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function h(e,t){return e[t]}function b(e){return c(e)?null:e}function _(e){return!c(e)&&e}function v(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function S(e,t,r,o){var n=[],a=[];for(var i in o)n.push(i),a.push(o[i]);return new(Function.bind.apply(Function,[void 0].concat(n.concat(r+"\nreturn "+t+"\n//# sourceURL="+e))))().apply(void 0,a)}function C(e){return!v(e)}function E(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function x(e,t){return new En(e,vn.Character,t,fn.fromCharCode(t))}function T(e,t){return new En(e,vn.Identifier,0,t)}function P(e,t){return new En(e,vn.Keyword,0,t)}function O(e,t){return new En(e,vn.Operator,0,t)}function A(e,t){return new En(e,vn.String,0,t)}function w(e,t){return new En(e,vn.Number,t,"")}function k(e,t){return new En(e,vn.Error,0,t)}function M(e){return on<=e&&e<=pn||$o<=e&&e<=tn||e==rn||e==zo}function I(e){if(0==e.length)return!1;var t=new Tn(e);if(!M(t.peek))return!1;for(t.advance();t.peek!==No;){if(!R(t.peek))return!1;t.advance()}return!0}function R(e){return p(e)||s(e)||e==rn||e==zo}function N(e){return e==nn||e==Jo}function D(e){return e==Wo||e==qo}function V(e){return e===Ho||e===Bo||e===cn}function L(e){return e===an?Vo:e===$e?jo:e===sn?Fo:e===$r?Do:e===$t?Lo:e}function j(e,r){if(t.isDevMode()&&!c(r)){if(!g(r))throw new Error("Expected '"+e+"' to be an array of strings.");for(var o=0;o<r.length;o+=1)if(!u(r[o]))throw new Error("Expected '"+e+"' to be an array of strings.")}}function F(e,r){if(d(r)&&(!g(r)||2!=r.length))throw new Error("Expected '"+e+"' to be an array, [start, end].");if(t.isDevMode()&&!c(r)){var o=r[0],n=r[1];Pn.forEach(function(e){if(e.test(o)||e.test(n))throw new Error("['"+o+"', '"+n+"'] contains unusable interpolation symbol.")})}}function U(e,t){if(d(e))for(var r=0,o;r<e.length;r++)o=e[r],g(o)?U(o,t):t.push(o);return t}function B(e){var t=E(e.start)+"([\\s\\S]*?)"+E(e.end);return new RegExp(t,"g")}function z(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error("Unsupported format \""+e+"\" expecting \":namespace:name\"");return[e.slice(1,t),e.slice(t+1)]}function H(e){return null===e?null:z(e)[0]}function q(e,t){return e?":"+e+":"+t:t}function W(e){return va[e.toLowerCase()]||Sa}function G(e){var t=new Ta(xa,e);return function(e,r,o){return t.toI18nMessage(e,r,o)}}function K(e){return e.split(Pa)[1]}function Q(e,t,r,o){var n=new La(r,o);return n.extract(e,t)}function X(e){return e instanceof Po&&e.value&&e.value.startsWith("i18n")}function Z(e){return e instanceof Po&&e.value&&"/i18n"===e.value}function Y(e){return e.attrs.find(function(e){return e.name===Ra})||null}function $(e){if(!e)return["",""];var t=e.indexOf("|");return-1==t?["",e]:[e.slice(0,t),e.slice(t+1)]}function J(e){return e.map(function(e){return e.visit(Ua)}).join("")}function ee(e){return Wa.reduce(function(e,t){return e.replace(t[0],t[1])},e)}function te(e,t,r,o,n){return void 0===o&&(o=!1),void 0===n&&(n=An),new ei(new Aa(e,t),r,o,n).tokenize()}function re(e){var t=e===No?"EOF":String.fromCharCode(e);return"Unexpected character \""+t+"\""}function oe(e){return"Unknown entity \""+e+"\" - use the \"&#<decimal>;\" or  \"&#x<hex>;\" syntax"}function ne(e){return!i(e)||e===No}function ae(e){return i(e)||e===Xo||e===Go||e===Ho||e===Bo||e===Qo}function ie(e){return(e<on||pn<e)&&(e<$o||tn<e)&&(e<Zo||e>Yo)}function se(e){return e==Ko||e==No||!l(e)}function pe(e){return e==Ko||e==No||!p(e)}function le(e,t,r){var o=!!r&&e.indexOf(r.start,t)==t;return e.charCodeAt(t)==ln&&!o}function de(e){return e===Qo||p(e)}function ce(e,t){return ue(e)==ue(t)}function ue(e){return e>=on&&e<=pn?e-on+$o:e}function ye(e){for(var t=[],r=0,o,n;r<e.length;r++)n=e[r],o&&o.type==Qa.TEXT&&n.type==Qa.TEXT?(o.parts[0]+=n.parts[0],o.sourceSpan.end=n.sourceSpan.end):(o=n,t.push(o));return t}function me(e,t){return 0<e.length&&e[e.length-1]===t}function ge(){return ii}function fe(e,t,r){void 0===r&&(r=null);var o=[];return t.forEach(function(t){var n=t.visit(e,r);d(n)&&o.push(n)}),o}function he(){throw new Ts("unimplemented")}function be(e){var t=ve(e);return t&&t[Ns.Scheme]||""}function _e(e,t,r,o,n,a,i){var s=[];return d(e)&&s.push(e+":"),d(r)&&(s.push("//"),d(t)&&s.push(t+"@"),s.push(r),d(o)&&s.push(":"+o)),d(n)&&s.push(n),d(a)&&s.push("?"+a),d(i)&&s.push("#"+i),s.join("")}function ve(e){return e.match(Rs)}function Se(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",r="/"===e[e.length-1]?"/":"",o=e.split("/"),n=[],a=0,i=0,s;i<o.length;i++)switch(s=o[i],s){case"":case".":break;case"..":0<n.length?n.pop():a++;break;default:n.push(s);}if(""==t){for(;0<a--;)n.unshift("..");0===n.length&&n.push(".")}return t+n.join("/")+r}function Ce(e){var t=e[Ns.Path];return t=c(t)?"":Se(t),e[Ns.Path]=t,_e(e[Ns.Scheme],e[Ns.UserInfo],e[Ns.Domain],e[Ns.Port],t,e[Ns.QueryData],e[Ns.Fragment])}function Ee(e,t){var r=ve(encodeURI(t)),o=ve(e);if(d(r[Ns.Scheme]))return Ce(r);r[Ns.Scheme]=o[Ns.Scheme];for(var n=Ns.Scheme;n<=Ns.Port;n++)c(r[n])&&(r[n]=o[n]);if("/"==r[Ns.Path][0])return Ce(r);var a=o[Ns.Path];c(a)&&(a="/");var s=a.lastIndexOf("/");return a=a.substring(0,s+1)+r[Ns.Path],r[Ns.Path]=a,Ce(r)}function xe(e,t,r){var o=new Dp(e,t);return r.visitExpression(o,null)}function Te(e){var t=new Vp;return t.visitAllStatements(e,null),t.varNames}function Pe(e,t){return void 0===t&&(t=null),new Zs(e,t)}function Oe(e,t){return void 0===t&&(t=null),new ap(e,null,t)}function Ae(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),d(e)?new Fs(e,t,r):null}function we(e,t){return void 0===t&&(t=null),new mp(e,t)}function ke(e,t){return void 0===t&&(t=null),new gp(e,t)}function Me(e){return new sp(e)}function Ie(e,t,r){return void 0===r&&(r=null),new dp(e,t,r)}function Re(e,t){return void 0===t&&(t=null),new np(e,t)}function Ne(e){return fn.replaceAllMapped(e,jp,function(e){return"-"+e[1].toLowerCase()})}function De(e,t){var r=e.indexOf(":");return-1==r?t:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function Ve(e){return fn.replaceAll(e,/\W/g,"_")}function Le(e,t,r){return g(e)?t.visitArray(e,r):m(e)?t.visitStringMap(e,r):c(e)||C(e)?t.visitPrimitive(e,r):t.visitOther(e,r)}function je(e,t,r){return void 0===t&&(t=null),void 0===r&&(r="src"),null==t?"asset:@angular/lib/"+e+"/index":"asset:@angular/lib/"+e+"/src/"+t}function Fe(e){return d(e.value)?Re(e.value):e.identifierIsInstance?Oe(e.identifier).instantiate([],Ae(e.identifier,[],[Ds.Const])):Oe(e.identifier)}function Ue(e){var r=Os.parse(e.selector)[0].getMatchingElementTemplate();return cl.create({type:new sl({runtime:Object,name:e.type.name+"_Host",moduleUrl:e.type.moduleUrl,isHost:!0}),template:new dl({template:r,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[]}),changeDetection:t.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function Be(e){var t=new il;return e.forEach(function(e){t.get(e)||t.add(e,e)}),t.keys()}function ze(e){return d(e)?e:[]}function He(e){return y(e)&&d(e.name)&&d(e.filePath)}function qe(e){return new al({identifier:e})}function We(e){var t=new Dl;return new Rl(a(t,e),t.isExpanded,t.errors)}function Ge(e,t){var r=e.cases.map(function(e){-1!=Il.indexOf(e.value)||e.value.match(/^=\d+$/)||t.push(new Nl(e.valueSourceSpan,"Plural cases should be \"=<number>\" or one of "+Il.join(", ")));var r=We(e.expression);return t.push.apply(t,r.errors),new To("template",[new xo("ngPluralCase",""+e.value,e.valueSourceSpan)],r.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),o=new xo("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new To("ng-container",[o],r,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function Ke(e,t){var r=e.cases.map(function(e){var r=We(e.expression);return t.push.apply(t,r.errors),new To("template",[new xo("ngSwitchCase",""+e.value,e.valueSourceSpan)],r.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),o=new xo("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new To("ng-container",[o],r,e.sourceSpan,e.sourceSpan,e.sourceSpan)}function Qe(e,t){var r=t.useExisting,o=t.useValue,n=t.deps;return new ol({token:e.token,useClass:e.useClass,useExisting:r,useFactory:e.useFactory,useValue:o,deps:n,multi:e.multi})}function Xe(e,t){var r=t.eager,o=t.providers;return new Ci(e.token,e.multiProvider,e.eager||r,o,e.providerType,e.lifecycleHooks,e.sourceSpan)}function Ze(e,t,r,o){return void 0===o&&(o=null),c(o)&&(o=[]),d(e)&&e.forEach(function(e){if(g(e))Ze(e,t,r,o);else{var n;e instanceof ol?n=e:e instanceof sl?n=new ol({token:new al({identifier:e}),useClass:e}):r.push(new Vl("Unknown provider type "+e,t)),d(n)&&o.push(n)}}),o}function Ye(t,r,o){var n=new il;t.forEach(function(t){var a=new ol({token:new al({identifier:t.type}),useClass:t.type});Je([a],t.isComponent?e.ProviderAstType.Component:e.ProviderAstType.Directive,!0,r,o,n)});var a=t.filter(function(e){return e.isComponent}).concat(t.filter(function(e){return!e.isComponent}));return a.forEach(function(t){Je(Ze(t.providers,r,o),e.ProviderAstType.PublicService,!1,r,o,n),Je(Ze(t.viewProviders,r,o),e.ProviderAstType.PrivateService,!1,r,o,n)}),n}function Je(e,t,r,o,n,a){e.forEach(function(e){var i=a.get(e.token);if(d(i)&&i.multiProvider!==e.multi&&n.push(new Vl("Mixing multi and non multi provider is not possible for token "+i.token.name,o)),c(i)){var s=e.token.identifier&&e.token.identifier instanceof sl?e.token.identifier.lifecycleHooks:[];i=new Ci(e.token,e.multi,r||0<s.length,[e],t,s,o),a.add(e.token,i)}else e.multi||Ln.clear(i.providers),i.providers.push(e)})}function et(e){var t=new il;return d(e.viewQueries)&&e.viewQueries.forEach(function(e){return rt(t,e)}),e.type.diDeps.forEach(function(e){d(e.viewQuery)&&rt(t,e.viewQuery)}),t}function tt(e){var t=new il;return e.forEach(function(e){d(e.queries)&&e.queries.forEach(function(e){return rt(t,e)}),e.type.diDeps.forEach(function(e){d(e.query)&&rt(t,e.query)})}),t}function rt(e,t){t.selectors.forEach(function(r){var o=e.get(r);c(o)&&(o=[],e.add(r,o)),o.push(t)})}function ot(e){if(c(e)||0===e.length||"/"==e[0])return!1;var t=e.match(Hl);return null===t||"package"==t[1]||"asset"==t[1]}function nt(e,t,r){var o=[],n=fn.replaceAllMapped(r,zl,function(r){var n=d(r[1])?r[1]:r[2];return ot(n)?(o.push(e.resolve(t,n)),""):r[0]});return new Bl(n,o)}function at(e){var t=null,r=null,o=null,n=!1,a=null;e.attrs.forEach(function(e){var i=e.name.toLowerCase();i==ql?t=e.value:i==Ql?r=e.value:i==Kl?o=e.value:e.name==$l?n=!0:e.name==Jl&&0<e.value.length&&(a=e.value)}),t=it(t);var i=e.name.toLowerCase(),s=ed.OTHER;return z(i)[1]==Wl?s=ed.NG_CONTENT:i==Zl?s=ed.STYLE:i==Yl?s=ed.SCRIPT:i==Gl&&o==Xl&&(s=ed.STYLESHEET),new td(s,t,r,n,a)}function it(e){return null===e||0===e.length?"*":e}function st(e){return e.trim().split(/\s+/g)}function pt(e,t){var r=new Os,o=z(e)[1];r.setElement(o);for(var n=0;n<t.length;n++){var a=t[n][0],s=z(a)[1],p=t[n][1];if(r.addAttribute(s,p),a.toLowerCase()==od){var l=st(p);l.forEach(function(e){return r.addClassName(e)})}}return r}function lt(e){var t=[],r={},o=[],n=[];e.definitions.forEach(function(e){e instanceof Gp?dt(e,t).forEach(function(e){n.push(e),r[e.stateName]=e.styles}):o.push(e)});var a=o.map(function(e){return ct(e,r,t)}),i=new Ed(e.name,n,a);return new Ud(i,t)}function dt(e,t){var r=[];e.styles.styles.forEach(function(e){y(e)?r.push(e):t.push(new Fd("State based animations cannot contain references to other states"))});var o=new Ad(r),n=e.stateNameExpr.split(/\s*,\s*/);return n.map(function(e){return new xd(e,o)})}function ct(e,t,r){var o=new Dd,n=[],a=e.stateChangeExpr.split(/\s*,\s*/);a.forEach(function(e){ut(e,r).forEach(function(e){n.push(e)})});var i=yt(e.steps),s=gt(i,t,r),p=vt(s,0,o,t,r);0==r.length&&St(p,o,r);var l=p instanceof Id?p:new Id([p]);return new Pd(n,l)}function ut(e,t){var r=[],o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(!d(o)||4>o.length)return t.push(new Fd("the provided "+e+" is not of a supported format")),r;var n=o[1],a=o[2],i=o[3];r.push(new Td(n,i));return"<"!=a[0]||n==fs&&i==fs||r.push(new Td(i,n)),r}function yt(e){return g(e)?new Jp(e):e}function mt(e,t,r){var o=[];return e.styles.forEach(function(e){u(e)?Ln.addAll(o,bt(e,t,r)):o.push(e)}),o}function gt(e,t,r){var o=ht(e,t,r);return new Jp(o)}function ft(e,t){if(y(t)&&0<e.length){var r=e.length-1,o=e[r];if(y(o))return void(e[r]=Vn.merge(o,t))}e.push(t)}function ht(e,t,r){var o;if(!(e instanceof $p))return[e];o=e.steps;var n=[],a;return o.forEach(function(e){if(e instanceof Zp)d(a)||(a=[]),mt(e,t,r).forEach(function(e){ft(a,e)});else{if(d(a)&&(n.push(new Zp(0,a)),a=null),e instanceof Yp){var o=e.styles;o instanceof Zp?o.styles=mt(o,t,r):o instanceof Xp&&o.steps.forEach(function(e){e.styles=mt(e,t,r)})}else if(e instanceof $p){var i=ht(e,t,r);e=e instanceof el?new el(i):new Jp(i)}n.push(e)}}),d(a)&&n.push(new Zp(0,a)),n}function bt(e,t,r){var o=[];if(":"!=e[0])r.push(new Fd("Animation states via styles must be prefixed with a \":\""));else{var n=e.substring(1),a=t[n];d(a)?a.styles.forEach(function(e){y(e)&&o.push(e)}):r.push(new Fd("Unable to apply styles due to missing a state: \""+n+"\""))}return o}function _t(e,t,r,o,n){var a=e.steps.length,s=0;e.steps.forEach(function(e){return s+=d(e.offset)?1:0}),0<s&&s<a&&(n.push(new Fd("Not all style() entries contain an offset for the provided keyframe()")),s=a);var p=a-1,l=0==s?1/p:0,c=[],u=0,y=!1,m=0;e.steps.forEach(function(e){var t=e.offset,r={};e.styles.forEach(function(e){Vn.forEach(e,function(e,t){"offset"!=t&&(r[t]=e)})}),d(t)?y=y||t<m:t=u==p?Ld:l*u,c.push([t,r]),m=t,u++}),y&&Ln.sort(c,function(e,t){return e[0]<=t[0]?-1:1});var g=c[0],f;g[0]!=Vd&&Ln.insert(c,0,g=[Vd,{}]);var h=g[1];p=c.length-1;var b=c[p];b[0]!=Ld&&(c.push(b=[Ld,{}]),p++);var _=b[1];for(f=1;f<=p;f++){var v=c[f],S=v[1];Vn.forEach(S,function(e,t){d(h[t])||(h[t]=_s)})}for(f=p-1;0<=f;f--){var v=c[f],S=v[1];Vn.forEach(S,function(e,t){d(_[t])||(_[t]=e)})}return c.map(function(e){return new wd(e[0],new Ad([e[1]]))})}function vt(e,t,r,o,n){var a=0,i=t,s;if(e instanceof $p){var p=0,l=[],c=e instanceof el,u;if(e.steps.forEach(function(e){var s=c?i:t;if(e instanceof Zp)return e.styles.forEach(function(e){Vn.forEach(e,function(e,t){r.insertAtTime(t,s,e)})}),void(u=e.styles);var y=vt(e,s,r,o,n);if(d(u)){if(e instanceof $p){var m=new Ad(u);l.push(new Od(m,[],0,0,""))}else{Ln.addAll(y.startingStyles.styles,u)}u=null}var g=y.playTime;t+=g,a+=g,p=Rd.max(g,p),l.push(y)}),d(u)){var y=new Ad(u);l.push(new Od(y,[],0,0,""))}c?(s=new Md(l),a=p,t=i+a):s=new Id(l)}else if(e instanceof Yp){var m=Ct(e.timings,n),g=e.styles,f;if(g instanceof Xp)f=_t(g,t,r,o,n);else{var h=new Ad(g.styles),b=new wd(1,h);f=[b]}s=new Od(new Ad([]),f,m.duration,m.delay,m.easing),a=m.duration+m.delay,t+=a,f.forEach(function(e){return e.styles.styles.forEach(function(e){return Vn.forEach(e,function(e,o){return r.insertAtTime(o,t,e)})})})}else s=new Od(null,[],0,0,"");return s.playTime=a,s.startTime=i,s}function St(e,t,r){if(e instanceof Od&&0<e.keyframes.length){var o=e.keyframes;if(1==o.length){var n=o[0],a=Et(n,e.startTime,e.playTime,t,r);e.keyframes=[a,n]}}else e instanceof kd&&e.steps.forEach(function(e){return St(e,t,r)})}function Ct(e,t){var r=/^([\.\d]+)(m?s)(?:\s+([\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?/i,o=0,n=null,a;if(u(e)){var i=e.match(r);if(null===i)return t.push(new Fd("The provided timing value \""+e+"\" is invalid.")),new Bd(0,0,null);var s=_n.parseFloat(i[1]),p=i[2];"s"==p&&(s*=jd),a=Rd.floor(s);var l=i[3],y=i[4];if(d(l)){var m=_n.parseFloat(l);d(y)&&"s"==y&&(m*=jd),o=Rd.floor(m)}var g=i[5];c(g)||(n=g)}else a=e;return new Bd(a,o,n)}function Et(e,t,r,o,n){var a={},i=t+r;return e.styles.styles.forEach(function(e){Vn.forEach(e,function(e,r){if("offset"!=r){var s=o.indexOfAtOrBeforeTime(r,t),p,l,c;d(s)?(p=o.getByIndex(r,s),c=p.value,l=o.getByIndex(r,s+1)):c=_s,d(l)&&!l.matches(i,e)&&n.push(new Fd("The animated CSS property \""+r+"\" unexpectedly changes between steps \""+p.time+"ms\" and \""+i+"ms\" at \""+l.time+"ms\"")),a[r]=c}})}),new wd(Vd,new Ad([a]))}function xt(e,t){var r=Re(bs);return t===bs?e.equals(r):t===fs?Re(!0):e.equals(Re(t))}function Tt(e){if(e instanceof Od&&0<e.duration&&2==e.keyframes.length){var t=Pt(e.keyframes[0])[0],r=Pt(e.keyframes[1])[0];return Vn.isEmpty(t)&&Vn.isEmpty(r)}return!1}function Pt(e){return e.styles.styles}function Ot(e,t){var r=new nc(e);return fe(r,t),r.errors}function At(e,t){return void 0===t&&(t=null),Le(e,new ac,t)}function wt(e,t,r){if(t===r)return e;for(var o=fp,n=t;n!==r&&d(n.declarationElement.view);)n=n.declarationElement.view,o=o.prop("parent");if(n!==r)throw new Ts("Internal error: Could not calculate a property in a parent view: "+e);if(e instanceof up){var a=e;(r.fields.some(function(e){return e.name==a.name})||r.getters.some(function(e){return e.name==a.name}))&&(o=o.cast(r.classType))}return xe(fp.name,o,e)}function kt(e,t){var r=[Fe(e)];return t&&r.push(bp),fp.prop("parentInjector").callMethod("get",r)}function Mt(e,t){return"viewFactory_"+e.type.name+t}function It(e){for(var t=[],r=we([]),o=0,n;o<e.length;o++)n=e[o],n.type instanceof Us?(0<t.length&&(r=r.callMethod(ep.ConcatArray,[we(t)]),t=[]),r=r.callMethod(ep.ConcatArray,[n])):t.push(n);return 0<t.length&&(r=r.callMethod(ep.ConcatArray,[we(t)])),r}function Rt(e,t,r,o){o.fields.push(new Pp(r.name,null));var n=t<kl.pureProxies.length?kl.pureProxies[t]:null;if(c(n))throw new Ts("Unsupported number of argument for pure functions: "+t);o.createMethod.addStmt(fp.prop(r.name).set(Oe(n).callFn([e])).toStmt())}function Nt(e){return Ln.flatten(e.values.map(function(e){return e instanceof lc?Dt(e.view.declarationElement.appElement,e.view,Nt(e)):e}))}function Dt(e,t,r){var o=r.map(function(e){return xe(fp.name,Pe("nestedView"),e)});return e.callMethod("mapNestedViews",[Pe(t.className),Ie([new lp("nestedView",t.classType)],[new xp(we(o))],zs)])}function Vt(e,t,r,o){o.fields.push(new Pp(r,Ae(kl.QueryList,[zs])));var n=fp.prop(r);return o.createMethod.addStmt(fp.prop(r).set(Oe(kl.QueryList,[zs]).instantiate([])).toStmt()),n}function Lt(e,t){t.meta.selectors.forEach(function(r){var o=e.get(r);c(o)&&(o=[],e.add(r,o)),o.push(t)})}function jt(e,t){if(c(t))return bp;var r=h(e.runtime,t);return Oe(new tl({name:e.name+"."+r,moduleUrl:e.moduleUrl,runtime:t}))}function Ft(e,t,r,o){var n;return n=0<t?Re(e).lowerEquals(bc.requestNodeIndex).and(bc.requestNodeIndex.lowerEquals(Re(e+t))):Re(e).identical(bc.requestNodeIndex),new kp(bc.token.identical(Fe(r.token)).and(n),[new xp(o)])}function Ut(e,t,r,o,n,a){var i=a.view,s,p;if(o?(s=we(r),p=new Us(zs)):(s=r[0],p=r[0].type),c(p)&&(p=zs),n)i.fields.push(new Pp(e,p)),i.createMethod.addStmt(fp.prop(e).set(s).toStmt());else{var l="_"+e;i.fields.push(new Pp(l,p));var d=new pc(i);d.resetDebugInfo(a.nodeIndex,a.sourceAst),d.addStmt(new kp(fp.prop(l).isBlank(),[fp.prop(l).set(s).toStmt()])),d.addStmt(new xp(fp.prop(l))),i.getters.push(new Ap(e,d.finish(),p))}return fp.prop(e)}function Bt(e,t){for(var r=null,o=e.pipeMetas.length-1,n;0<=o;o--)if(n=e.pipeMetas[o],n.name==t){r=n;break}if(c(r))throw new Ts("Illegal state: Could not find pipe "+t+" although the parser should have detected this error!");return r}function zt(e,t){return 0<t?Ni.EMBEDDED:e.type.isHost?Ni.HOST:Ni.COMPONENT}function Ht(e,t,r,o){var n=new Ac(e,t,o),a=r.visit(n,Oc.Expression);return new Pc(a,n.needsValueUnwrapper)}function qt(e,t,r){var o=new Ac(e,t,null),n=[];return Qt(r.visit(o,Oc.Statement),n),n}function Wt(e,t){if(e!==Oc.Statement)throw new Ts("Expected a statement, but saw "+t)}function Gt(e,t){if(e!==Oc.Expression)throw new Ts("Expected an expression, but saw "+t)}function Kt(e,t){return e===Oc.Statement?t.toStmt():t}function Qt(e,t){g(e)?e.forEach(function(e){return Qt(e,t)}):t.push(e)}function Xt(e,t,r){var o=[];return e.forEach(function(e){r.view.bindings.push(new Tc(r,e));var t=wc.getOrCreate(r,e.target,e.name,o);t.addAction(e,null,null)}),t.forEach(function(e){var t=r.instances.get(qe(e.directive.type));e.hostEvents.forEach(function(n){r.view.bindings.push(new Tc(r,n));var a=wc.getOrCreate(r,n.target,n.name,o);a.addAction(n,e.directive,t)})}),o.forEach(function(e){return e.finishMethod()}),o}function Zt(e,t,r){Vn.forEach(e.directive.outputs,function(e,o){r.filter(function(t){return t.eventName==e}).forEach(function(e){e.listenToDirective(t,o)})})}function Yt(e){e.forEach(function(e){return e.listenToRenderer()})}function Jt(e){return e instanceof Ep?e.expr:e instanceof xp?e.value:null}function er(e){return fn.replaceAll(e,/[^a-zA-Z_]/g,"_")}function tr(e,t,r){var o=r.view,n=o.detectChangesInInputsMethod,a=e.directive.type.lifecycleHooks;-1!==a.indexOf(Pi.OnChanges)&&0<e.inputs.length&&n.addStmt(new kp(_c.changes.notIdentical(bp),[t.callMethod("ngOnChanges",[_c.changes]).toStmt()])),-1!==a.indexOf(Pi.OnInit)&&n.addStmt(new kp(kc.and(Mc),[t.callMethod("ngOnInit",[]).toStmt()])),-1!==a.indexOf(Pi.DoCheck)&&n.addStmt(new kp(Mc,[t.callMethod("ngDoCheck",[]).toStmt()]))}function rr(e,t,r){var o=r.view,n=e.type.lifecycleHooks,a=o.afterContentLifecycleCallbacksMethod;a.resetDebugInfo(r.nodeIndex,r.sourceAst),-1!==n.indexOf(Pi.AfterContentInit)&&a.addStmt(new kp(kc,[t.callMethod("ngAfterContentInit",[]).toStmt()])),-1!==n.indexOf(Pi.AfterContentChecked)&&a.addStmt(t.callMethod("ngAfterContentChecked",[]).toStmt())}function or(e,t,r){var o=r.view,n=e.type.lifecycleHooks,a=o.afterViewLifecycleCallbacksMethod;a.resetDebugInfo(r.nodeIndex,r.sourceAst),-1!==n.indexOf(Pi.AfterViewInit)&&a.addStmt(new kp(kc,[t.callMethod("ngAfterViewInit",[]).toStmt()])),-1!==n.indexOf(Pi.AfterViewChecked)&&a.addStmt(t.callMethod("ngAfterViewChecked",[]).toStmt())}function nr(e,t,r){var o=r.view.destroyMethod;o.resetDebugInfo(r.nodeIndex,r.sourceAst),-1!==e.lifecycleHooks.indexOf(Pi.OnDestroy)&&o.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function ar(e,t,r){var o=r.destroyMethod;-1!==e.type.lifecycleHooks.indexOf(Pi.OnDestroy)&&o.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function ir(e){return fp.prop("_expr_"+e)}function sr(e){return Pe("currVal_"+e)}function pr(e,t,r,o,n,a,i){var s=Ht(e,n,o,_c.valUnwrapper);if(!c(s.expression)){if(e.fields.push(new Pp(r.name,null,[_p.Private])),e.createMethod.addStmt(fp.prop(r.name).set(Oe(kl.UNINITIALIZED)).toStmt()),s.needsValueUnwrapper){var p=_c.valUnwrapper.callMethod("reset",[]).toStmt();i.addStmt(p)}i.addStmt(t.set(s.expression).toDeclStmt(null,[_p.Final]));var l=Oe(kl.checkBinding).callFn([_c.throwOnChange,r,t]);s.needsValueUnwrapper&&(l=_c.valUnwrapper.prop("hasWrappedValue").or(l)),i.addStmt(new kp(l,a.concat([fp.prop(r.name).set(t).toStmt()])))}}function lr(e,t,r){var o=r.bindings.length;r.bindings.push(new Tc(t,e));var n=sr(o),a=ir(o);r.detectChangesRenderPropertiesMethod.resetDebugInfo(t.nodeIndex,e),pr(r,n,a,e.value,r.componentContext,[fp.prop("renderer").callMethod("setText",[t.renderNode,n]).toStmt()],r.detectChangesRenderPropertiesMethod)}function dr(t,r,o,n){var a=o.view,i=o.renderNode;t.forEach(function(t){var s=a.bindings.length;a.bindings.push(new Tc(o,t)),a.detectChangesRenderPropertiesMethod.resetDebugInfo(o.nodeIndex,t);var p=ir(s),l=sr(s),c=cr(t,p),u=cr(t,l),y=[];switch(t.type){case e.PropertyBindingType.Property:a.genConfig.logBindingUpdate&&y.push(gr(i,t.name,u)),y.push(fp.prop("renderer").callMethod("setElementProperty",[i,Re(t.name),u]).toStmt());break;case e.PropertyBindingType.Attribute:u=u.isBlank().conditional(bp,u.callMethod("toString",[])),y.push(fp.prop("renderer").callMethod("setElementAttribute",[i,Re(t.name),u]).toStmt());break;case e.PropertyBindingType.Class:y.push(fp.prop("renderer").callMethod("setElementClass",[i,Re(t.name),u]).toStmt());break;case e.PropertyBindingType.Style:var m=u.callMethod("toString",[]);d(t.unit)&&(m=m.plus(Re(t.unit))),u=u.isBlank().conditional(bp,m),y.push(fp.prop("renderer").callMethod("setElementStyle",[i,Re(t.name),u]).toStmt());break;case e.PropertyBindingType.Animation:var g=t.name,f=fp;n&&(f=o.appElement.prop("componentView"));var h=f.prop("componentType").prop("animations").key(Re(g)),b=Re(bs),_=Pe("oldRenderVar");y.push(_.set(c).toDeclStmt()),y.push(new kp(_.equals(Oe(kl.UNINITIALIZED)),[_.set(b).toStmt()]));var v=Pe("newRenderVar");if(y.push(v.set(u).toDeclStmt()),y.push(new kp(v.equals(Oe(kl.UNINITIALIZED)),[v.set(b).toStmt()])),y.push(h.callFn([fp,i,_,v]).toStmt()),a.detachMethod.addStmt(h.callFn([fp,i,c,b]).toStmt()),!Ic.get(a)){Ic.set(a,!0);var S=fp.callMethod("triggerQueuedAnimations",[]).toStmt();a.afterViewLifecycleCallbacksMethod.addStmt(S),a.detachMethod.addStmt(S)}}pr(a,l,p,t.value,r,y,a.detectChangesRenderPropertiesMethod)})}function cr(e,r){var o;switch(e.securityContext){case t.SecurityContext.NONE:return r;case t.SecurityContext.HTML:o="HTML";break;case t.SecurityContext.STYLE:o="STYLE";break;case t.SecurityContext.SCRIPT:o="SCRIPT";break;case t.SecurityContext.URL:o="URL";break;case t.SecurityContext.RESOURCE_URL:o="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+e.securityContext+".");}var n=fc.viewUtils.prop("sanitizer"),a=[Oe(kl.SecurityContext).prop(o),r];return n.callMethod("sanitize",a)}function ur(e,t){dr(e,t.view.componentContext,t,!1)}function yr(e,t,r){dr(e.hostProperties,t,r,!0)}function mr(e,t,r){if(0!==e.inputs.length){var o=r.view,n=o.detectChangesInInputsMethod;n.resetDebugInfo(r.nodeIndex,r.sourceAst);var a=e.directive.type.lifecycleHooks,i=-1!==a.indexOf(Pi.OnChanges),s=e.directive.isComponent&&!xi(e.directive.changeDetection);i&&n.addStmt(_c.changes.set(bp).toStmt()),s&&n.addStmt(_c.changed.set(Re(!1)).toStmt()),e.inputs.forEach(function(e){var a=o.bindings.length;o.bindings.push(new Tc(r,e)),n.resetDebugInfo(r.nodeIndex,e);var p=ir(a),l=sr(a),d=[t.prop(e.directiveName).set(l).toStmt()];i&&(d.push(new kp(_c.changes.identical(bp),[_c.changes.set(ke([],new Bs(Ae(kl.SimpleChange)))).toStmt()])),d.push(_c.changes.key(Re(e.directiveName)).set(Oe(kl.SimpleChange).instantiate([p,l])).toStmt())),s&&d.push(_c.changed.set(Re(!0)).toStmt()),o.genConfig.logBindingUpdate&&d.push(gr(r.renderNode,e.directiveName,l)),pr(o,l,p,e.value,o.componentContext,d,n)}),s&&n.addStmt(new kp(_c.changed,[r.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]))}}function gr(e,t,r){var o=fp.prop("renderer").callMethod("setBindingDebugInfo",[e,Re("ng-reflect-"+Ne(t)),r.isBlank().conditional(bp,r.callMethod("toString",[]))]).toStmt(),n=fp.prop("renderer").callMethod("setBindingDebugInfo",[e,Re("ng-reflect-"+Ne(t)),Re("[ERROR] Exception while trying to serialize the value")]).toStmt();return new Mp([o],[n])}function fr(e,t){var r=new Rc(e);fe(r,t),e.pipes.forEach(function(e){ar(e.meta,e.instance,e.view)})}function hr(e,t,r){var o=new Bc(e,r);return fe(o,t,e.declarationElement.isNull()?e.declarationElement:e.declarationElement.parent),o.nestedViewCount}function br(e,t){e.afterNodes(),Pr(e,t),e.nodes.forEach(function(e){e instanceof Sc&&e.hasEmbeddedView&&br(e.embeddedView,t)})}function _r(e){for(var t=e.view;Sr(e.parent,t);)e=e.parent;return e}function vr(e){for(var t=e.view;Sr(e,t);)e=e.parent;return e}function Sr(e,t){return!e.isNull()&&e.sourceAst.name===Vc&&e.view===t}function Cr(e,t){var r={};return Vn.forEach(e,function(e,t){r[t]=e}),t.forEach(function(e){Vn.forEach(e.hostAttributes,function(e,t){var o=r[t];r[t]=d(o)?xr(t,o,e):e})}),Tr(r)}function Er(e){var t={};return e.forEach(function(e){t[e.name]=e.value}),t}function xr(e,t,r){return e==Nc||e==Dc?t+" "+r:r}function Tr(e){var t=[];return Vn.forEach(e,function(e,r){t.push([r,e])}),Ln.sort(t,function(e,t){return fn.compare(e[0],t[0])}),t}function Pr(e,t){var r=bp;e.genConfig.genDebugInfo&&(r=Pe("nodeDebugInfos_"+e.component.type.name+e.viewIndex),t.push(r.set(we(e.nodes.map(Or),new Us(new Fs(kl.StaticNodeDebugInfo),[Ds.Const]))).toDeclStmt(null,[_p.Final])));var o=Pe("renderType_"+e.component.type.name);0===e.viewIndex&&t.push(o.set(bp).toDeclStmt(Ae(kl.RenderComponentType)));var n=Ar(e,o,r);t.push(n),t.push(wr(e,n,o))}function Or(e){var t=e instanceof Sc?e:null,r=[],o=bp,n=[];return d(t)&&(r=t.getProviderTokens(),d(t.component)&&(o=Fe(qe(t.component.type))),Vn.forEach(t.referenceTokens,function(e,t){n.push([t,d(e)?Fe(e):bp])})),Oe(kl.StaticNodeDebugInfo).instantiate([we(r,new Us(zs,[Ds.Const])),o,ke(n,new Bs(zs,[Ds.Const]))],Ae(kl.StaticNodeDebugInfo,null,[Ds.Const]))}function Ar(e,t,r){var o=[new lp(gc.viewUtils.name,Ae(kl.ViewUtils)),new lp(gc.parentInjector.name,Ae(kl.Injector)),new lp(gc.declarationEl.name,Ae(kl.AppElement))],n=[Pe(e.className),t,cc.fromValue(e.viewType),gc.viewUtils,gc.parentInjector,gc.declarationEl,mc.fromValue(Nr(e))];e.genConfig.genDebugInfo&&n.push(r);var a=new Op(null,o,[hp.callFn(n).toStmt()]),i=[new Op("createInternal",[new lp(jc.name,Ws)],kr(e),Ae(kl.AppElement)),new Op("injectorGetInternal",[new lp(bc.token.name,zs),new lp(bc.requestNodeIndex.name,qs),new lp(bc.notFoundResult.name,zs)],Ir(e.injectorGetMethod.finish(),bc.notFoundResult),zs),new Op("detectChangesInternal",[new lp(_c.throwOnChange.name,Hs)],Mr(e)),new Op("dirtyParentQueriesInternal",[],e.dirtyParentQueriesMethod.finish()),new Op("destroyInternal",[],e.destroyMethod.finish()),new Op("detachInternal",[],e.detachMethod.finish())].concat(e.eventHandlerMethods),s=e.genConfig.genDebugInfo?kl.DebugAppView:kl.AppView,p=new wp(e.className,Oe(s,[Rr(e)]),e.fields,e.getters,a,i.filter(function(e){return 0<e.body.length}));return p}function wr(e,t,r){var o=[new lp(gc.viewUtils.name,Ae(kl.ViewUtils)),new lp(gc.parentInjector.name,Ae(kl.Injector)),new lp(gc.declarationEl.name,Ae(kl.AppElement))],n=[],a;if(a=e.component.template.templateUrl==e.component.type.moduleUrl?e.component.type.moduleUrl+" class "+e.component.type.name+" - inline template":e.component.template.templateUrl,0===e.viewIndex){var i=ke(e.animations.map(function(e){return[e.name,e.fnVariable]}));n=[new kp(r.identical(bp),[r.set(gc.viewUtils.callMethod("createRenderComponentType",[Re(a),Re(e.component.template.ngContentSelectors.length),uc.fromValue(e.component.template.encapsulation),e.styles,i])).toStmt()])]}return Ie(o,n.concat([new xp(Pe(t.name).instantiate(t.constructorMethod.params.map(function(e){return Pe(e.name)})))]),Ae(kl.AppView,[Rr(e)])).toDeclStmt(e.viewFactory.name,[_p.Final])}function kr(e){var t=bp,r=[];e.viewType===Ni.COMPONENT&&(t=fc.renderer.callMethod("createViewRoot",[fp.prop("declarationAppElement").prop("nativeElement")]),r=[Lc.set(t).toDeclStmt(Ae(e.genConfig.renderTypes.renderNode),[_p.Final])]);var o;return o=e.viewType===Ni.HOST?e.nodes[0].appElement:bp,r.concat(e.createMethod.finish(),[fp.callMethod("init",[It(e.rootNodesOrAppElements),we(e.nodes.map(function(e){return e.renderNode})),we(e.disposables),we(e.subscriptions)]).toStmt(),new xp(o)])}function Mr(e){var t=[];if(e.detectChangesInInputsMethod.isEmpty()&&e.updateContentQueriesMethod.isEmpty()&&e.afterContentLifecycleCallbacksMethod.isEmpty()&&e.detectChangesRenderPropertiesMethod.isEmpty()&&e.updateViewQueriesMethod.isEmpty()&&e.afterViewLifecycleCallbacksMethod.isEmpty())return t;Ln.addAll(t,e.detectChangesInInputsMethod.finish()),t.push(fp.callMethod("detectContentChildrenChanges",[_c.throwOnChange]).toStmt());var r=e.updateContentQueriesMethod.finish().concat(e.afterContentLifecycleCallbacksMethod.finish());0<r.length&&t.push(new kp(Me(_c.throwOnChange),r)),Ln.addAll(t,e.detectChangesRenderPropertiesMethod.finish()),t.push(fp.callMethod("detectViewChildrenChanges",[_c.throwOnChange]).toStmt());var o=e.updateViewQueriesMethod.finish().concat(e.afterViewLifecycleCallbacksMethod.finish());0<o.length&&t.push(new kp(Me(_c.throwOnChange),o));var n=[],a=Te(t);return Fn.has(a,_c.changed.name)&&n.push(_c.changed.set(Re(!0)).toDeclStmt(Hs)),Fn.has(a,_c.changes.name)&&n.push(_c.changes.set(bp).toDeclStmt(new Bs(Ae(kl.SimpleChange)))),Fn.has(a,_c.valUnwrapper.name)&&n.push(_c.valUnwrapper.set(Oe(kl.ValueUnwrapper).instantiate([])).toDeclStmt(null,[_p.Final])),n.concat(t)}function Ir(e,t){return 0<e.length?e.concat([new xp(t)]):e}function Rr(e){return e.viewType===Ni.COMPONENT?Ae(e.component.type):zs}function Nr(e){var t;return t=e.viewType===Ni.COMPONENT?xi(e.component.changeDetection)?Ti.CheckAlways:Ti.CheckOnce:Ti.CheckAlways}function Dr(e){return e.dependencies.forEach(function(e){if(e instanceof Fc){var t=e;t.placeholder.moduleUrl=Lr(t.comp.moduleUrl)}else if(e instanceof Uc){var r=e;r.placeholder.name=jr(r.comp),r.placeholder.moduleUrl=Lr(r.comp.moduleUrl)}}),e.statements}function Vr(e,t){return e.dependencies.forEach(function(e){e.valuePlaceholder.moduleUrl=Fr(e.moduleUrl,e.isShimmed,t)}),e.statements}function Lr(e){var t=Br(e);return t[0]+".ngfactory"+t[1]}function jr(e){return e.name+"NgFactory"}function Fr(e,t,r){return t?e+".shim"+r:""+e+r}function Ur(e){if(!e.isComponent)throw new Ts("Could not compile '"+e.type.name+"' because it is not a component.")}function Br(e){var t=e.lastIndexOf(".");return-1===t?[e,""]:[e.substring(0,t),e.substring(t)]}function zr(e,t){return new cl({type:e.type,isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,entryComponents:e.entryComponents,template:t})}function Hr(e){return e instanceof t.DirectiveMetadata}function qr(e,t){var r=Yc.get(e),o=$c.get(e);return ps.hasLifecycleHook(t,r,o)}function Wr(e){return e instanceof t.NgModuleMetadata}function Gr(e){return e instanceof t.PipeMetadata}function Kr(e,t,r,o){return void 0===r&&(r=[]),void 0===o&&(o=new Set),e.forEach(function(e){if(!o.has(e.type.runtime)){o.add(e.type.runtime);var n=t?e.importedModules.concat(e.exportedModules):e.exportedModules;Kr(n,t,r,o),r.push(e)}}),r}function Qr(e,r){if(void 0===r&&(r=[]),e)for(var o=0,n;o<e.length;o++)n=t.resolveForwardRef(e[o]),g(n)?Qr(n,r):r.push(n);return r}function Xr(e,t,r){var o=[],n;Qr(t,o);for(var a=0;a<o.length;a++)if(c(o[a]))throw n=o.map(function(e){return c(e)?"?":f(e)}).join(", "),new Ts("One or more of "+r+" for \""+f(e)+"\" were not defined: ["+n+"].");return t}function Zr(e){return He(e)||e instanceof mn}function Yr(e){return He(e)?e.filePath:null}function Jr(e,t,r){if(He(t))return Yr(t);if(d(r.moduleId)){var o=r.moduleId,n=be(o);return d(n)&&0<n.length?o:"package:"+o+Lp}return e.importUri(t)}function eo(e,t){return Le(e,new ru,t)}function to(e,t){if(c(e))return null;var r=fn.replaceAllMapped(e,lu,function(e){return"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]});return"'"+r+"'"}function ro(e){for(var t="",r=0;r<e;r++)t+="  ";return t}function oo(e){var t=new hu(gu),r=yu.createRoot([]),o;return o=g(e)?e:[e],o.forEach(function(e){if(e instanceof vp)e.visitStatement(t,r);else if(e instanceof Qs)e.visitExpression(t,r);else{if(!(e instanceof Vs))throw new Ts("Don't know how to print debug info for "+e);e.visitType(t,r)}}),r.toSource()}function no(e,t){var r=e.concat([new xp(Pe(t))]),o=new bu(null,null,null,new Map()),n=new vu,a=n.visitAllStatements(r,o);return d(a)?a.value:null}function ao(e,t,r,o,n){for(var a=o.createChildWihtLocalVars(),s=0;s<e.length;s++)a.vars.set(e[s],t[s]);var p=n.visitAllStatements(r,a);return d(p)?p.value:null}function io(e,t,r){var o={};e.getters.forEach(function(n){o[n.name]={configurable:!1,get:function(){var o=new bu(t,this,e.name,t.vars);return ao([],[],n.body,o,r)}}}),e.methods.forEach(function(n){var a=n.params.map(function(e){return e.name});o[n.name]={writable:!1,configurable:!1,value:function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];var s=new bu(t,this,e.name,t.vars);return ao(a,o,n.body,s,r)}}});var n=e.constructorMethod.params.map(function(e){return e.name}),a=function(){for(var o=this,a=[],i=0;i<arguments.length;i++)a[i-0]=arguments[i];var s=new bu(t,this,e.name,t.vars);e.fields.forEach(function(e){o[e.name]=void 0}),ao(n,a,e.constructorMethod.body,s,r)},i=e.parent.visitExpression(r,t);return a.prototype=Object.create(i.prototype,o),a}function so(e,t,r,o){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a-0]=arguments[a];return ao(e,n,t,r,o)}}function po(e,t,r){var o=new xu,n=yu.createRoot([r]);return o.visitAllStatements(t,n),S(e,r,n.toSource(),o.getArgs())}function lo(e){return fn.replaceAllMapped(e,ju,function(){return""})}function co(e,t){var r=uo(e),o=0;return fn.replaceAllMapped(r.escapedString,Fu,function(e){var n=e[2],a="",i=e[4],s="";d(e[4])&&e[4].startsWith("{"+Hu)&&(a=r.blocks[o++],i=e[4].substring(Hu.length+1),s="{");var p=t(new qu(n,a));return""+e[1]+p.selector+e[3]+s+p.content+i})}function uo(e){for(var t=fn.split(e,Uu),r=[],o=[],n=0,a=[],i=0,s;i<t.length;i++)s=t[i],s==zu&&n--,0<n?a.push(s):(0<a.length&&(o.push(a.join("")),r.push(Hu),a=[]),r.push(s)),s==Bu&&n++;return 0<a.length&&(o.push(a.join("")),r.push(Hu)),new Wu(r.join(""),o)}function yo(e){var t="styles";return e&&(t+="_"+e.type.name),t}function mo(e){if(!e.isComponent)throw new Ts("Could not compile '"+e.type.name+"' because it is not a component.")}function go(e,t){for(var r=0,o=t,n;r<o.length;r++)n=o[r],Ju[n.toLowerCase()]=e}function fo(e){return{useDebug:ho(e.map(function(e){return e.useDebug})),useJit:ho(e.map(function(e){return e.useJit})),defaultEncapsulation:ho(e.map(function(e){return e.defaultEncapsulation})),providers:bo(e.map(function(e){return e.providers}))}}function ho(e){for(var t=e.length-1;0<=t;t--)if(void 0!==e[t])return e[t]}function bo(e){var t=[];return e.forEach(function(e){return e&&t.push.apply(t,e)}),t}var _o=function(){function e(){}return e.prototype.visitText=function(e){return e.value},e.prototype.visitContainer=function(e){var t=this;return"["+e.children.map(function(e){return e.visit(t)}).join(", ")+"]"},e.prototype.visitIcu=function(e){var t=this,r=Object.keys(e.cases).map(function(r){return r+" {"+e.cases[r].visit(t)+"}"});return"{"+e.expression+", "+e.type+", "+r.join(", ")+"}"},e.prototype.visitTagPlaceholder=function(e){var t=this;return e.isVoid?"<ph tag name=\""+e.startName+"\"/>":"<ph tag name=\""+e.startName+"\">"+e.children.map(function(e){return e.visit(t)}).join(", ")+"</ph name=\""+e.closeName+"\">"},e.prototype.visitPlaceholder=function(e){return"<ph name=\""+e.name+"\">"+e.value+"</ph>"},e.prototype.visitIcuPlaceholder=function(e){return"<ph icu name=\""+e.name+"\">"+e.value.visit(this)+"</ph>"},e}(),vo=new _o,So=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),Co=function(){function e(e,t,r,o,n){this.switchValue=e,this.type=t,this.cases=r,this.sourceSpan=o,this.switchValueSourceSpan=n}return e.prototype.visit=function(e,t){return e.visitExpansion(this,t)},e}(),Eo=function(){function e(e,t,r,o,n){this.value=e,this.expression=t,this.sourceSpan=r,this.valueSourceSpan=o,this.expSourceSpan=n}return e.prototype.visit=function(e,t){return e.visitExpansionCase(this,t)},e}(),xo=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitAttribute(this,t)},e}(),To=function(){function e(e,t,r,o,n,a){this.name=e,this.attrs=t,this.children=r,this.sourceSpan=o,this.startSourceSpan=n,this.endSourceSpan=a}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),Po=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitComment(this,t)},e}(),Oo=function(){return function(e,t,r,o){this.nodes=e,this.placeholders=t,this.meaning=r,this.description=o}}(),Ao=function(){function e(e,t){this.value=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),wo=function(){function e(e,t){this.children=e,this.sourceSpan=t}return e.prototype.visit=function(e,t){return e.visitContainer(this,t)},e}(),ko=function(){function e(e,t,r,o){this.expression=e,this.type=t,this.cases=r,this.sourceSpan=o}return e.prototype.visit=function(e,t){return e.visitIcu(this,t)},e}(),Mo=function(){function e(e,t,r,o,n,a,i){this.tag=e,this.attrs=t,this.startName=r,this.closeName=o,this.children=n,this.isVoid=a,this.sourceSpan=i}return e.prototype.visit=function(e,t){return e.visitTagPlaceholder(this,t)},e}(),Io=function(){function e(e,t,r){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitPlaceholder(this,t)},e}(),Ro=function(){function e(e,t,r){void 0===t&&(t=""),this.value=e,this.name=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitIcuPlaceholder(this,t)},e}(),No=0,Do=9,Vo=10,Lo=11,jo=12,Fo=13,Uo=32,Bo=34,zo=36,Ho=39,qo=43,Wo=45,Go=47,Ko=59,Qo=61,Xo=62,Zo=48,Yo=57,$o=65,Jo=69,en=70,tn=90,rn=95,on=97,nn=101,$e=102,an=110,sn=114,$r=116,$t=118,pn=122,ln=123,dn=160,cn=96,un;un="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var yn=un,mn=Function;yn.assert=function(){};var gn=Object.getPrototypeOf({}),fn=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,o=0;o<e.length&&e[o]==t;o++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,o=e.length-1;0<=o&&e[o]==t;o--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return-1!=e.indexOf(t)},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),hn=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}(),bn=function(e){function t(t){e.call(this),this.message=t}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),_n=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new bn("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t);}else if(!(16==t)){var r=parseInt(e,t);if(!isNaN(r))return r}else if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t);throw new bn("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),vn;!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(vn||(vn={}));var Sn=["var","let","null","undefined","true","false","if","else","this"],Cn=function(){function e(){}return e.prototype.tokenize=function(e){for(var t=new Tn(e),r=[],o=t.scanToken();null!=o;)r.push(o),o=t.scanToken();return r},e}();Cn.decorators=[{type:t.Injectable}];var En=function(){function e(e,t,r,o){this.index=e,this.type=t,this.numValue=r,this.strValue=o}return e.prototype.isCharacter=function(e){return this.type==vn.Character&&this.numValue==e},e.prototype.isNumber=function(){return this.type==vn.Number},e.prototype.isString=function(){return this.type==vn.String},e.prototype.isOperator=function(e){return this.type==vn.Operator&&this.strValue==e},e.prototype.isIdentifier=function(){return this.type==vn.Identifier},e.prototype.isKeyword=function(){return this.type==vn.Keyword},e.prototype.isKeywordDeprecatedVar=function(){return this.type==vn.Keyword&&"var"==this.strValue},e.prototype.isKeywordLet=function(){return this.type==vn.Keyword&&"let"==this.strValue},e.prototype.isKeywordNull=function(){return this.type==vn.Keyword&&"null"==this.strValue},e.prototype.isKeywordUndefined=function(){return this.type==vn.Keyword&&"undefined"==this.strValue},e.prototype.isKeywordTrue=function(){return this.type==vn.Keyword&&"true"==this.strValue},e.prototype.isKeywordFalse=function(){return this.type==vn.Keyword&&"false"==this.strValue},e.prototype.isKeywordThis=function(){return this.type==vn.Keyword&&"this"==this.strValue},e.prototype.isError=function(){return this.type==vn.Error},e.prototype.toNumber=function(){return this.type==vn.Number?this.numValue:-1},e.prototype.toString=function(){switch(this.type){case vn.Character:case vn.Identifier:case vn.Keyword:case vn.Operator:case vn.String:case vn.Error:return this.strValue;case vn.Number:return this.numValue.toString();default:return null;}},e}(),xn=new En(-1,vn.Character,0,""),Tn=function(){function e(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return e.prototype.advance=function(){this.peek=++this.index>=this.length?0:fn.charCodeAt(this.input,this.index)},e.prototype.scanToken=function(){for(var e=this.input,t=this.length,r=this.peek,o=this.index;r<=32;){if(++o>=t){r=0;break}r=fn.charCodeAt(e,o)}if(this.peek=r,this.index=o,o>=t)return null;if(M(r))return this.scanIdentifier();if(s(r))return this.scanNumber(o);var n=o;switch(r){case 46:return this.advance(),s(this.peek)?this.scanNumber(n):x(n,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(n,r);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(n,fn.fromCharCode(r));case 63:return this.scanComplexOperator(n,"?",46,".");case 60:case 62:return this.scanComplexOperator(n,fn.fromCharCode(r),61,"=");case 33:case 61:return this.scanComplexOperator(n,fn.fromCharCode(r),61,"=",61,"=");case 38:return this.scanComplexOperator(n,"&",38,"&");case 124:return this.scanComplexOperator(n,"|",124,"|");case 160:for(;i(this.peek);)this.advance();return this.scanToken();}return this.advance(),this.error("Unexpected character ["+fn.fromCharCode(r)+"]",0)},e.prototype.scanCharacter=function(e,t){return this.advance(),x(e,t)},e.prototype.scanOperator=function(e,t){return this.advance(),O(e,t)},e.prototype.scanComplexOperator=function(e,t,r,o,n,a){this.advance();var i=t;return this.peek==r&&(this.advance(),i+=o),d(n)&&this.peek==n&&(this.advance(),i+=a),O(e,i)},e.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();R(this.peek);)this.advance();var t=this.input.substring(e,this.index);return-1<Sn.indexOf(t)?P(e,t):T(e,t)},e.prototype.scanNumber=function(e){var t=this.index===e;for(this.advance();;){if(s(this.peek));else if(this.peek==46)t=!1;else{if(!N(this.peek))break;if(this.advance(),D(this.peek)&&this.advance(),!s(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var r=this.input.substring(e,this.index),o=t?_n.parseIntAutoRadix(r):_n.parseFloat(r);return w(e,o)},e.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var r=this.index,o=this.input,n;this.peek!=t;)if(this.peek==92){null==n&&(n=new hn),n.add(o.substring(r,this.index)),this.advance();var a;if(this.peek==117){var s=o.substring(this.index+1,this.index+5);try{a=_n.parseInt(s,16)}catch(t){return this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var p=0;5>p;p++)this.advance()}else a=L(this.peek),this.advance();n.add(fn.fromCharCode(a)),r=this.index}else{if(this.peek==0)return this.error("Unterminated quote",0);this.advance()}var l=o.substring(r,this.index);this.advance();var d=l;return null!=n&&(n.add(l),d=n.toString()),A(e,d)},e.prototype.error=function(e,t){var r=this.index+t;return k(r,"Lexer Error: "+e+" at column "+r+" in expression ["+this.input+"]")},e}(),Pn=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],On=function(){function e(e,t){this.start=e,this.end=t}return e.fromArray=function(t){return t?(F("interpolation",t),new e(t[0],t[1])):An},e}(),An=new On("{{","}}"),wn=yn.Map,kn=yn.Set,Mn=function(){try{if(1===new wn([[1,2]]).size)return function(e){return new wn(e)}}catch(t){}return function(e){for(var t=new wn,r=0,o;r<e.length;r++)o=e[r],t.set(o[0],o[1]);return t}}(),In=function(){try{if(new wn(new wn()))return function(e){return new wn(e)}}catch(t){}return function(e){var t=new wn;return e.forEach(function(e,r){t.set(r,e)}),t}}(),Rn=function(){return new wn().keys().next?function(e){for(var t=e.keys(),r;!(r=t.next()).done;)e.set(r.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),Nn=function(){try{if(new wn().values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(t){}return function(e,t){var r=Ln.createFixedSize(e.size),o=0;return e.forEach(function(e,n){r[o]=t?e:n,o++}),r}}(),Dn=function(){function e(){}return e.clone=function(e){return In(e)},e.createFromStringMap=function(e){var t=new wn;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return Mn(e)},e.clearValues=function(e){Rn(e)},e.iterable=function(e){return e},e.keys=function(e){return Nn(e,!1)},e.values=function(e){return Nn(e,!0)},e}(),Vn=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,o=Object.keys(e),n;r<o.length;r++)n=o[r],t(e[n],n)},e.merge=function(e,t){for(var r={},o=0,n=Object.keys(e),a;o<n.length;o++)a=n[o],r[a]=e[a];for(var i=0,s=Object.keys(t),a;i<s.length;i++)a=s[i],r[a]=t[a];return r},e.equals=function(e,t){var r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var n=0,a;n<r.length;n++)if(a=r[n],e[a]!==t[a])return!1;return!0},e}(),Ln=function(){function e(){}return e.createFixedSize=function(e){return Array(e)},e.createGrowableSize=function(e){return Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0,o;r<t.length;++r)o=e.indexOf(t[r]),e.splice(o,1)},e.remove=function(e,t){var r=e.indexOf(t);return-1<r&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=null),e.fill(t,r,null===o?e.length:o)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){d(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,o=-(1/0),n=0,a;n<e.length;n++)if(a=e[n],!c(a)){var i=t(a);i>o&&(r=a,o=i)}return r},e.flatten=function(e){var t=[];return U(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),jn=function(){var e=new kn([1,2,3]);return 3===e.size?function(e){return new kn(e)}:function(e){var t=new kn(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),Fn=function(){function e(){}return e.createFromList=function(e){return jn(e)},e.has=function(e,t){return e.has(t)},e.delete=function(e,t){e.delete(t)},e}(),Un=function(){return function(e,t,r,o){this.input=t,this.errLocation=r,this.ctxLocation=o,this.message="Parser Error: "+e+" "+r+" ["+t+"] in "+o}}(),Bn=function(){return function(e,t){this.start=e,this.end=t}}(),zn=function(){function e(e){this.span=e}return e.prototype.visit=function(e,t){return void 0===t&&(t=null),null},e.prototype.toString=function(){return"AST"},e}(),Hn=function(e){function t(t,r,o,n){e.call(this,t),this.prefix=r,this.uninterpretedExpression=o,this.location=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitQuote(this,t)},t.prototype.toString=function(){return"Quote"},t}(zn),qn=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visit=function(e,t){void 0===t&&(t=null)},t}(zn),Wn=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitImplicitReceiver(this,t)},t}(zn),Gn=function(e){function t(t,r){e.call(this,t),this.expressions=r}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitChain(this,t)},t}(zn),Kn=function(e){function t(t,r,o,n){e.call(this,t),this.condition=r,this.trueExp=o,this.falseExp=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitConditional(this,t)},t}(zn),Qn=function(e){function t(t,r,o){e.call(this,t),this.receiver=r,this.name=o}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyRead(this,t)},t}(zn),Xn=function(e){function t(t,r,o,n){e.call(this,t),this.receiver=r,this.name=o,this.value=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPropertyWrite(this,t)},t}(zn),Zn=function(e){function t(t,r,o){e.call(this,t),this.receiver=r,this.name=o}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafePropertyRead(this,t)},t}(zn),Yn=function(e){function t(t,r,o){e.call(this,t),this.obj=r,this.key=o}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedRead(this,t)},t}(zn),$n=function(e){function t(t,r,o,n){e.call(this,t),this.obj=r,this.key=o,this.value=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitKeyedWrite(this,t)},t}(zn),Jn=function(e){function t(t,r,o,n){e.call(this,t),this.exp=r,this.name=o,this.args=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPipe(this,t)},t}(zn),ea=function(e){function t(t,r){e.call(this,t),this.value=r}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralPrimitive(this,t)},t}(zn),ta=function(e){function t(t,r){e.call(this,t),this.expressions=r}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralArray(this,t)},t}(zn),ra=function(e){function t(t,r,o){e.call(this,t),this.keys=r,this.values=o}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitLiteralMap(this,t)},t}(zn),oa=function(e){function t(t,r,o){e.call(this,t),this.strings=r,this.expressions=o}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitInterpolation(this,t)},t}(zn),na=function(e){function t(t,r,o,n){e.call(this,t),this.operation=r,this.left=o,this.right=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitBinary(this,t)},t}(zn),aa=function(e){function t(t,r){e.call(this,t),this.expression=r}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitPrefixNot(this,t)},t}(zn),ia=function(e){function t(t,r,o,n){e.call(this,t),this.receiver=r,this.name=o,this.args=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitMethodCall(this,t)},t}(zn),sa=function(e){function t(t,r,o,n){e.call(this,t),this.receiver=r,this.name=o,this.args=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitSafeMethodCall(this,t)},t}(zn),pa=function(e){function t(t,r,o){e.call(this,t),this.target=r,this.args=o}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),e.visitFunctionCall(this,t)},t}(zn),la=function(e){function t(t,r,o,n){e.call(this,new Bn(0,c(r)?0:r.length)),this.ast=t,this.source=r,this.location=o,this.errors=n}return __extends(t,e),t.prototype.visit=function(e,t){return void 0===t&&(t=null),this.ast.visit(e,t)},t.prototype.toString=function(){return this.source+" in "+this.location},t}(zn),da=function(){return function(e,t,r,o){this.key=e,this.keyIsVar=t,this.name=r,this.expression=o}}(),ca=function(){function e(){}return e.prototype.visitBinary=function(e){return e.left.visit(this),e.right.visit(this),null},e.prototype.visitChain=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},e.prototype.visitPipe=function(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null},e.prototype.visitFunctionCall=function(e,t){return e.target.visit(this),this.visitAll(e.args,t),null},e.prototype.visitImplicitReceiver=function(){return null},e.prototype.visitInterpolation=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitKeyedRead=function(e){return e.obj.visit(this),e.key.visit(this),null},e.prototype.visitKeyedWrite=function(e){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},e.prototype.visitLiteralArray=function(e,t){return this.visitAll(e.expressions,t)},e.prototype.visitLiteralMap=function(e,t){return this.visitAll(e.values,t)},e.prototype.visitLiteralPrimitive=function(){return null},e.prototype.visitMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitPrefixNot=function(e){return e.expression.visit(this),null},e.prototype.visitPropertyRead=function(e){return e.receiver.visit(this),null},e.prototype.visitPropertyWrite=function(e){return e.receiver.visit(this),e.value.visit(this),null},e.prototype.visitSafePropertyRead=function(e){return e.receiver.visit(this),null},e.prototype.visitSafeMethodCall=function(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)},e.prototype.visitAll=function(e,t){var r=this;return e.forEach(function(e){return e.visit(r,t)}),null},e.prototype.visitQuote=function(){return null},e}(),ua=function(){return function(e,t){this.strings=e,this.expressions=t}}(),ya=function(){return function(e,t,r){this.templateBindings=e,this.warnings=t,this.errors=r}}(),ma=function(){function e(e){this._lexer=e,this.errors=[]}return e.prototype.parseAction=function(e,t,r){void 0===r&&(r=An),this._checkNoInterpolation(e,t,r);var o=this._lexer.tokenize(this._stripComments(e)),n=new ga(e,t,o,!0,this.errors).parseChain();return new la(n,e,t,this.errors)},e.prototype.parseBinding=function(e,t,r){void 0===r&&(r=An);var o=this._parseBindingAst(e,t,r);return new la(o,e,t,this.errors)},e.prototype.parseSimpleBinding=function(e,t,r){void 0===r&&(r=An);var o=this._parseBindingAst(e,t,r);return fa.check(o)||this._reportError("Host binding expression can only contain field access and constants",e,t),new la(o,e,t,this.errors)},e.prototype._reportError=function(e,t,r,o){this.errors.push(new Un(e,t,r,o))},e.prototype._parseBindingAst=function(e,t,r){var o=this._parseQuote(e,t);if(d(o))return o;this._checkNoInterpolation(e,t,r);var n=this._lexer.tokenize(this._stripComments(e));return new ga(e,t,n,!1,this.errors).parseChain()},e.prototype._parseQuote=function(e,t){if(c(e))return null;var r=e.indexOf(":");if(-1==r)return null;var o=e.substring(0,r).trim();if(!I(o))return null;var n=e.substring(r+1);return new Hn(new Bn(0,e.length),o,n,t)},e.prototype.parseTemplateBindings=function(e,t){var r=this._lexer.tokenize(e);return new ga(e,t,r,!1,this.errors).parseTemplateBindings()},e.prototype.parseInterpolation=function(e,t,r){void 0===r&&(r=An);var o=this.splitInterpolation(e,t,r);if(null==o)return null;for(var n=[],a=0;a<o.expressions.length;++a){var s=this._lexer.tokenize(this._stripComments(o.expressions[a])),p=new ga(e,t,s,!1,this.errors).parseChain();n.push(p)}return new la(new oa(new Bn(0,c(e)?0:e.length),o.strings,n),e,t,this.errors)},e.prototype.splitInterpolation=function(e,t,r){void 0===r&&(r=An);var o=B(r),n=fn.split(e,o);if(1>=n.length)return null;for(var a=[],s=[],p=0,l;p<n.length;p++)l=n[p],0==p%2?a.push(l):0<l.trim().length?s.push(l):this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(n,p,r)+" in",t);return new ua(a,s)},e.prototype.wrapLiteralPrimitive=function(e,t){return new la(new ea(new Bn(0,c(e)?0:e.length),e),e,t,this.errors)},e.prototype._stripComments=function(e){var t=this._commentStart(e);return d(t)?e.substring(0,t).trim():e},e.prototype._commentStart=function(e){for(var t=null,r=0;r<e.length-1;r++){var o=fn.charCodeAt(e,r),n=fn.charCodeAt(e,r+1);if(o===47&&n==47&&c(t))return r;t===o?t=null:c(t)&&V(o)&&(t=o)}return null},e.prototype._checkNoInterpolation=function(e,t,r){var o=B(r),n=fn.split(e,o);1<n.length&&this._reportError("Got interpolation ("+r.start+r.end+") where expression was expected",e,"at column "+this._findInterpolationErrorColumn(n,1,r)+" in",t)},e.prototype._findInterpolationErrorColumn=function(e,t,r){for(var o="",n=0;n<t;n++)o+=0==n%2?e[n]:""+r.start+e[n]+r.end;return o.length},e}();ma.decorators=[{type:t.Injectable}],ma.ctorParameters=[{type:Cn}];var ga=function(){function e(e,t,r,o,n){this.input=e,this.location=t,this.tokens=r,this.parseAction=o,this.errors=n,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return e.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:xn},Object.defineProperty(e.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),e.prototype.span=function(e){return new Bn(e,this.inputIndex)},e.prototype.advance=function(){this.index++},e.prototype.optionalCharacter=function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)},e.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},e.prototype.peekDeprecatedKeywordVar=function(){return this.next.isKeywordDeprecatedVar()},e.prototype.peekDeprecatedOperatorHash=function(){return this.next.isOperator("#")},e.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+fn.fromCharCode(e))},e.prototype.optionalOperator=function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)},e.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},e.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier or keyword"),"")},e.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token "+e+", expected identifier, keyword, or string"),"")},e.prototype.parseChain=function(){for(var e=[],t=this.inputIndex,r;this.index<this.tokens.length;)if(r=this.parsePipe(),e.push(r),this.optionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'");return 0==e.length?new qn(this.span(t)):1==e.length?e[0]:new Gn(this.span(t),e)},e.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),r=[];this.optionalCharacter(58);)r.push(this.parseExpression());e=new Jn(this.span(e.span.start),e,t,r)}while(this.optionalOperator("|"))}return e},e.prototype.parseExpression=function(){return this.parseConditional()},e.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var r=this.parsePipe(),o;if(this.optionalCharacter(58))o=this.parsePipe();else{var n=this.inputIndex,a=this.input.substring(e,n);this.error("Conditional expression "+a+" requires all 3 expressions"),o=new qn(this.span(e))}return new Kn(this.span(e),t,r,o)}return t},e.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd(),t;this.optionalOperator("||");)t=this.parseLogicalAnd(),e=new na(this.span(e.span.start),"||",e,t);return e},e.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality(),t;this.optionalOperator("&&");)t=this.parseEquality(),e=new na(this.span(e.span.start),"&&",e,t);return e},e.prototype.parseEquality=function(){for(var e=this.parseRelational(),t;this.next.type==vn.Operator;){switch(t=this.next.strValue,t){case"==":case"===":case"!=":case"!==":this.advance();var r=this.parseRelational();e=new na(this.span(e.span.start),t,e,r);continue;}break}return e},e.prototype.parseRelational=function(){for(var e=this.parseAdditive(),t;this.next.type==vn.Operator;){switch(t=this.next.strValue,t){case"<":case">":case"<=":case">=":this.advance();var r=this.parseAdditive();e=new na(this.span(e.span.start),t,e,r);continue;}break}return e},e.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative(),t;this.next.type==vn.Operator;){switch(t=this.next.strValue,t){case"+":case"-":this.advance();var r=this.parseMultiplicative();e=new na(this.span(e.span.start),t,e,r);continue;}break}return e},e.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix(),t;this.next.type==vn.Operator;){switch(t=this.next.strValue,t){case"*":case"%":case"/":this.advance();var r=this.parsePrefix();e=new na(this.span(e.span.start),t,e,r);continue;}break}return e},e.prototype.parsePrefix=function(){if(this.next.type==vn.Operator){var e=this.inputIndex,t=this.next.strValue,r;switch(t){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),r=this.parsePrefix(),new na(this.span(e),t,new ea(new Bn(e,e),0),r);case"!":return this.advance(),r=this.parsePrefix(),new aa(this.span(e),r);}}return this.parseCallChain()},e.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(46))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var r=this.parseConditional();e=new $n(this.span(e.span.start),e,t,r)}else e=new Yn(this.span(e.span.start),e,t)}else{if(!this.optionalCharacter(40))return e;this.rparensExpected++;var o=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),e=new pa(this.span(e.span.start),e,o)}},e.prototype.parsePrimary=function(){var e=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}if(this.next.isKeywordNull())return this.advance(),new ea(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new ea(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new ea(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new ea(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new Wn(this.span(e));if(this.optionalCharacter(91)){this.rbracketsExpected++;var r=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new ta(this.span(e),r)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Wn(this.span(e)),!1);if(this.next.isNumber()){var o=this.next.toNumber();return this.advance(),new ea(this.span(e),o)}if(this.next.isString()){var n=this.next.toString();return this.advance(),new ea(this.span(e),n)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new qn(this.span(e))):(this.error("Unexpected token "+this.next),new qn(this.span(e)))},e.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter(44));return t},e.prototype.parseLiteralMap=function(){var e=[],t=[],r=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{var o=this.expectIdentifierOrKeywordOrString();e.push(o),this.expectCharacter(58),t.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new ra(this.span(r),e,t)},e.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var r=e.span.start,o=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var n=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var a=this.span(r);return t?new sa(a,e,o,n):new ia(a,e,o,n)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new qn(this.span(r))):new Zn(this.span(r),e,o);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new qn(this.span(r));var i=this.parseConditional();return new Xn(this.span(r),e,o,i)}return new Qn(this.span(r),e,o)},e.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter(44));return e},e.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},e.prototype.parseTemplateBindings=function(){for(var e=[],t=null,r=[],o;this.index<this.tokens.length;){o=this.peekKeywordLet(),!o&&this.peekDeprecatedKeywordVar()&&(o=!0,r.push("\"var\" inside of expressions is deprecated. Use \"let\" instead!")),!o&&this.peekDeprecatedOperatorHash()&&(o=!0,r.push("\"#\" inside of expressions is deprecated. Use \"let\" instead!")),o&&this.advance();var n=this.expectTemplateBindingKey();o||(null==t?t=n:n=t+n[0].toUpperCase()+n.substring(1)),this.optionalCharacter(58);var a=null,i=null;if(o)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==xn&&!this.peekKeywordLet()&&!this.peekDeprecatedKeywordVar()&&!this.peekDeprecatedOperatorHash()){var s=this.inputIndex,p=this.parsePipe(),l=this.input.substring(s,this.inputIndex);i=new la(p,l,this.location,this.errors)}e.push(new da(n,o,a,i)),this.optionalCharacter(59)||this.optionalCharacter(44)}return new ya(e,r,this.errors)},e.prototype.error=function(e,t){void 0===t&&(t=null),this.errors.push(new Un(e,this.input,this.locationText(t),this.location)),this.skip()},e.prototype.locationText=function(e){return void 0===e&&(e=null),c(e)&&(e=this.index),e<this.tokens.length?"at column "+(this.tokens[e].index+1)+" in":"at the end of the expression"},e.prototype.skip=function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter(59)&&(0>=this.rparensExpected||!e.isCharacter(41))&&(0>=this.rbracesExpected||!e.isCharacter(125))&&(0>=this.rbracketsExpected||!e.isCharacter(93));)this.next.isError()&&this.errors.push(new Un(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next},e}(),fa=function(){function e(){this.simple=!0}return e.check=function(t){var r=new e;return t.visit(r),r.simple},e.prototype.visitImplicitReceiver=function(){},e.prototype.visitInterpolation=function(){this.simple=!1},e.prototype.visitLiteralPrimitive=function(){},e.prototype.visitPropertyRead=function(){},e.prototype.visitPropertyWrite=function(){this.simple=!1},e.prototype.visitSafePropertyRead=function(){this.simple=!1},e.prototype.visitMethodCall=function(){this.simple=!1},e.prototype.visitSafeMethodCall=function(){this.simple=!1},e.prototype.visitFunctionCall=function(){this.simple=!1},e.prototype.visitLiteralArray=function(e){this.visitAll(e.expressions)},e.prototype.visitLiteralMap=function(e){this.visitAll(e.values)},e.prototype.visitBinary=function(){this.simple=!1},e.prototype.visitPrefixNot=function(){this.simple=!1},e.prototype.visitConditional=function(){this.simple=!1},e.prototype.visitPipe=function(){this.simple=!1},e.prototype.visitKeyedRead=function(){this.simple=!1},e.prototype.visitKeyedWrite=function(){this.simple=!1},e.prototype.visitAll=function(e){var t=this;return e.map(function(e){return e.visit(t)})},e.prototype.visitChain=function(){this.simple=!1},e.prototype.visitQuote=function(){this.simple=!1},e}(),ha;!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(ha||(ha={}));var ba={Aacute:"\xC1",aacute:"\xE1",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",AElig:"\xC6",aelig:"\xE6",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03B1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xC5",aring:"\xE5",asymp:"\u2248",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",bdquo:"\u201E",Beta:"\u0392",beta:"\u03B2",brvbar:"\xA6",bull:"\u2022",cap:"\u2229",Ccedil:"\xC7",ccedil:"\xE7",cedil:"\xB8",cent:"\xA2",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",clubs:"\u2663",cong:"\u2245",copy:"\xA9",crarr:"\u21B5",cup:"\u222A",curren:"\xA4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21D3",deg:"\xB0",Delta:"\u0394",delta:"\u03B4",diams:"\u2666",divide:"\xF7",Eacute:"\xC9",eacute:"\xE9",Ecirc:"\xCA",ecirc:"\xEA",Egrave:"\xC8",egrave:"\xE8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03B5",equiv:"\u2261",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03B3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21D4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xCD",iacute:"\xED",Icirc:"\xCE",icirc:"\xEE",iexcl:"\xA1",Igrave:"\xCC",igrave:"\xEC",image:"\u2111",infin:"\u221E",int:"\u222B",Iota:"\u0399",iota:"\u03B9",iquest:"\xBF",isin:"\u2208",Iuml:"\xCF",iuml:"\xEF",Kappa:"\u039A",kappa:"\u03BA",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",laquo:"\xAB",larr:"\u2190",lArr:"\u21D0",lceil:"\u2308",ldquo:"\u201C",le:"\u2264",lfloor:"\u230A",lowast:"\u2217",loz:"\u25CA",lrm:"\u200E",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xAF",mdash:"\u2014",micro:"\xB5",middot:"\xB7",minus:"\u2212",Mu:"\u039C",mu:"\u03BC",nabla:"\u2207",nbsp:"\xA0",ndash:"\u2013",ne:"\u2260",ni:"\u220B",not:"\xAC",notin:"\u2209",nsub:"\u2284",Ntilde:"\xD1",ntilde:"\xF1",Nu:"\u039D",nu:"\u03BD",Oacute:"\xD3",oacute:"\xF3",Ocirc:"\xD4",ocirc:"\xF4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xD2",ograve:"\xF2",oline:"\u203E",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",oplus:"\u2295",or:"\u2228",ordf:"\xAA",ordm:"\xBA",Oslash:"\xD8",oslash:"\xF8",Otilde:"\xD5",otilde:"\xF5",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",para:"\xB6",permil:"\u2030",perp:"\u22A5",Phi:"\u03A6",phi:"\u03C6",Pi:"\u03A0",pi:"\u03C0",piv:"\u03D6",plusmn:"\xB1",pound:"\xA3",prime:"\u2032",Prime:"\u2033",prod:"\u220F",prop:"\u221D",Psi:"\u03A8",psi:"\u03C8",quot:"\"",radic:"\u221A",rang:"\u27E9",raquo:"\xBB",rarr:"\u2192",rArr:"\u21D2",rceil:"\u2309",rdquo:"\u201D",real:"\u211C",reg:"\xAE",rfloor:"\u230B",Rho:"\u03A1",rho:"\u03C1",rlm:"\u200F",rsaquo:"\u203A",rsquo:"\u2019",sbquo:"\u201A",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22C5",sect:"\xA7",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sim:"\u223C",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supe:"\u2287",szlig:"\xDF",Tau:"\u03A4",tau:"\u03C4",there4:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thinsp:"\u2009",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",times:"\xD7",trade:"\u2122",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",uArr:"\u21D1",Ucirc:"\xDB",ucirc:"\xFB",Ugrave:"\xD9",ugrave:"\xF9",uml:"\xA8",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",Uuml:"\xDC",uuml:"\xFC",weierp:"\u2118",Xi:"\u039E",xi:"\u03BE",Yacute:"\xDD",yacute:"\xFD",yen:"\xA5",yuml:"\xFF",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03B6",zwj:"\u200D",zwnj:"\u200C"},_a=function(){function e(e){var t=this,r=void 0===e?{}:e,o=r.closedByChildren,n=r.requiredParents,a=r.implicitNamespacePrefix,i=r.contentType,s=void 0===i?ha.PARSABLE_DATA:i,p=r.closedByParent,l=r.isVoid,d=void 0!==l&&l,c=r.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,o&&0<o.length&&o.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=d,this.closedByParent=void 0!==p&&p||d,n&&0<n.length&&(this.requiredParents={},this.parentToAdd=n[0],n.forEach(function(e){return t.requiredParents[e]=!0})),this.implicitNamespacePrefix=a,this.contentType=s,this.ignoreFirstLf=void 0!==c&&c}return e.prototype.requireExtraParent=function(e){if(!this.requiredParents)return!1;if(!e)return!0;var t=e.toLowerCase();return 1!=this.requiredParents[t]&&"template"!=t},e.prototype.isClosedByChild=function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren},e}(),va={base:new _a({isVoid:!0}),meta:new _a({isVoid:!0}),area:new _a({isVoid:!0}),embed:new _a({isVoid:!0}),link:new _a({isVoid:!0}),img:new _a({isVoid:!0}),input:new _a({isVoid:!0}),param:new _a({isVoid:!0}),hr:new _a({isVoid:!0}),br:new _a({isVoid:!0}),source:new _a({isVoid:!0}),track:new _a({isVoid:!0}),wbr:new _a({isVoid:!0}),p:new _a({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new _a({closedByChildren:["tbody","tfoot"]}),tbody:new _a({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new _a({closedByChildren:["tbody"],closedByParent:!0}),tr:new _a({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new _a({closedByChildren:["td","th"],closedByParent:!0}),th:new _a({closedByChildren:["td","th"],closedByParent:!0}),col:new _a({requiredParents:["colgroup"],isVoid:!0}),svg:new _a({implicitNamespacePrefix:"svg"}),math:new _a({implicitNamespacePrefix:"math"}),li:new _a({closedByChildren:["li"],closedByParent:!0}),dt:new _a({closedByChildren:["dt","dd"]}),dd:new _a({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new _a({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new _a({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new _a({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new _a({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new _a({closedByChildren:["optgroup"],closedByParent:!0}),option:new _a({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new _a({ignoreFirstLf:!0}),listing:new _a({ignoreFirstLf:!0}),style:new _a({contentType:ha.RAW_TEXT}),script:new _a({contentType:ha.RAW_TEXT}),title:new _a({contentType:ha.ESCAPABLE_RAW_TEXT}),textarea:new _a({contentType:ha.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},Sa=new _a,Ca={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Ea=function(){function e(){this._placeHolderNameCounts={},this._signatureToName={}}return e.prototype.getStartTagPlaceholderName=function(e,t,r){var o=this._hashTag(e,t,r);if(this._signatureToName[o])return this._signatureToName[o];var n=e.toUpperCase(),a=Ca[n]||"TAG_"+n,i=this._generateUniqueName(r?a:"START_"+a);return this._signatureToName[o]=i,i},e.prototype.getCloseTagPlaceholderName=function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var r=e.toUpperCase(),o=Ca[r]||"TAG_"+r,n=this._generateUniqueName("CLOSE_"+o);return this._signatureToName[t]=n,n},e.prototype.getPlaceholderName=function(e,t){var r=e.toUpperCase(),o="PH: "+r+"="+t;if(this._signatureToName[o])return this._signatureToName[o];var n=this._generateUniqueName(r);return this._signatureToName[o]=n,n},e.prototype._hashTag=function(e,t,r){var o=Object.keys(t).sort().map(function(e){return" "+e+"="+t[e]}).join(""),n=r?"/>":"></"+e+">";return"<"+e+o+n},e.prototype._hashClosingTag=function(e){return this._hashTag("/"+e,{},!1)},e.prototype._generateUniqueName=function(e){var t=e,r=this._placeHolderNameCounts[t];return r?(t+="_"+r,r++):r=1,this._placeHolderNameCounts[e]=r,t},e}(),xa=new ma(new Cn()),Ta=function(){function e(e,t){this._expressionParser=e,this._interpolationConfig=t}return e.prototype.toI18nMessage=function(e,t,r){this._isIcu=1==e.length&&e[0]instanceof Co,this._icuDepth=0,this._placeholderRegistry=new Ea,this._placeholderToContent={};var o=a(this,e,{});return new Oo(o,this._placeholderToContent,t,r)},e.prototype.visitElement=function(e){var t=a(this,e.children),r={};e.attrs.forEach(function(e){r[e.name]=e.value});var o=W(e.name).isVoid,n=this._placeholderRegistry.getStartTagPlaceholderName(e.name,r,o);this._placeholderToContent[n]=e.sourceSpan.toString();var i="";return o||(i=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[i]="</"+e.name+">"),new Mo(e.name,r,n,i,t,o,e.sourceSpan)},e.prototype.visitAttribute=function(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitText=function(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan)},e.prototype.visitComment=function(){return null},e.prototype.visitExpansion=function(e){var t=this;this._icuDepth++;var r={},o=new ko(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(function(e){r[e.value]=new wo(e.expression.map(function(e){return e.visit(t,{})}),e.expSourceSpan)}),this._icuDepth--,this._isIcu||0<this._icuDepth)return o;var n=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());return this._placeholderToContent[n]=e.sourceSpan.toString(),new Ro(o,n,e.sourceSpan)},e.prototype.visitExpansionCase=function(){throw new Error("Unreachable code")},e.prototype._visitTextWithInterpolation=function(e,t){var r=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!r)return new Ao(e,t);for(var o=[],n=new wo(o,t),a=this._interpolationConfig,s=a.start,p=a.end,l=0;l<r.strings.length-1;l++){var d=r.expressions[l],c=K(d)||"INTERPOLATION",u=this._placeholderRegistry.getPlaceholderName(c,d);r.strings[l].length&&o.push(new Ao(r.strings[l],t)),o.push(new Io(d,u,t)),this._placeholderToContent[u]=s+d+p}var y=r.strings.length-1;return r.strings[y].length&&o.push(new Ao(r.strings[y],t)),n},e}(),Pa=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*"([\s\S]*?)"[\s\S]*\)/g,Oa=function(){function e(e,t,r,o){this.file=e,this.offset=t,this.line=r,this.col=o}return e.prototype.toString=function(){return d(this.offset)?this.file.url+"@"+this.line+":"+this.col:this.file.url},e}(),Aa=function(){return function(e,t){this.content=e,this.url=t}}(),wa=function(){function e(e,t,r){void 0===r&&(r=null),this.start=e,this.end=t,this.details=r}return e.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},e}(),ka;!function(e){e[e.WARNING=0]="WARNING",e[e.FATAL=1]="FATAL"}(ka||(ka={}));var Ma=function(){function e(e,t,r){void 0===r&&(r=ka.FATAL),this.span=e,this.msg=t,this.level=r}return e.prototype.toString=function(){var e=this.span.start.file.content,t=this.span.start.offset,r="",o="";if(d(t)){t>e.length-1&&(t=e.length-1);for(var n=t,a=0,i=0;100>a&&0<t&&(t--,a++,"\n"!=e[t]||3!=++i););for(a=0,i=0;100>a&&n<e.length-1&&(n++,a++,"\n"!=e[n]||3!=++i););var s=e.substring(t,this.span.start.offset)+"[ERROR ->]"+e.substring(this.span.start.offset,n+1);r=" (\""+s+"\")"}return this.span.details&&(o=", "+this.span.details),""+this.msg+r+": "+this.span.start+o},e}(),Ia=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(Ma),Ra="i18n",Na=/^i18n:?/,Da=function(){return function(e,t){this.messages=e,this.errors=t}}(),Va;!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(Va||(Va={}));var La=function(){function e(e,t){this._implicitTags=e,this._implicitAttrs=t,this._inI18nNode=!1,this._depth=0,this._inIcu=!1}return e.prototype.extract=function(e,t){var r=this;return this._init(Va.Extract,t),e.forEach(function(e){return e.visit(r,null)}),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Da(this._messages,this._errors)},e.prototype.merge=function(e,t,r){this._init(Va.Merge,r),this._translations=t;var o=new To("wrapper",[],e,null,null,null),n=o.visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),n.children},e.prototype.visitExpansionCase=function(e,t){var r=a(this,e.expression,t);if(this._mode===Va.Merge)return new Eo(e.value,r,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)},e.prototype.visitExpansion=function(e,t){this._mayBeAddBlockChildren(e);var r=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var o=a(this,e.cases,t);return this._mode===Va.Merge&&(e=new Co(e.switchValue,e.type,o,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=r,e},e.prototype.visitComment=function(e){var t=X(e);if(t&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");var r=Z(e);if(r&&!this._inI18nBlock)return void this._reportError(e,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(!this._inI18nBlock)t&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(Na,"").trim(),this._openTranslatableSection(e));else if(r){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var o=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return this._translateMessage(e,o)}return void this._reportError(e,"I18N blocks should not cross element boundaries")}},e.prototype.visitText=function(e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e},e.prototype.visitElement=function(e,t){var r=this;this._mayBeAddBlockChildren(e),this._depth++;var o=this._inI18nNode,n=Y(e),i=this._implicitTags.some(function(t){return e.name===t}),s;if(this._isInTranslatableSection||this._inIcu)(n||i)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==Va.Extract&&a(this,e.children),this._mode==Va.Merge&&(s=[],e.children.forEach(function(e){var o=e.visit(r,t);o&&!r._isInTranslatableSection&&(s=s.concat(o))}));else{if(n){this._inI18nNode=!0;var p=this._addMessage(e.children,n.value);s=this._translateMessage(e,p)}else if(i){this._inI18nNode=!0;var p=this._addMessage(e.children);s=this._translateMessage(e,p)}if(this._mode==Va.Extract){var l=n||i;l&&this._openTranslatableSection(e),a(this,e.children),l&&this._closeTranslatableSection(e,e.children)}this._mode!==Va.Merge||n||i||(s=[],e.children.forEach(function(e){var o=e.visit(r,t);o&&!r._isInTranslatableSection&&(s=s.concat(o))}))}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=o,this._mode===Va.Merge){var d=this._translateAttributes(e);return new To(e.name,d,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},e.prototype.visitAttribute=function(){throw new Error("unreachable code")},e.prototype._init=function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._createI18nMessage=G(t)},e.prototype._visitAttributesOf=function(e){var t=this,r={},o=this._implicitAttrs[e.name]||[];e.attrs.filter(function(e){return e.name.startsWith("i18n-")}).forEach(function(e){return r[e.name.slice("i18n-".length)]=e.value}),e.attrs.forEach(function(e){e.name in r?t._addMessage([e],r[e.name]):o.some(function(t){return e.name===t})&&t._addMessage([e])})},e.prototype._addMessage=function(e,t){if(0!=e.length&&(1!=e.length||!(e[0]instanceof xo)||e[0].value)){var r=$(t),o=r[0],n=r[1],a=this._createI18nMessage(e,o,n);return this._messages.push(a),a}},e.prototype._translateMessage=function(e,t){if(t&&this._mode===Va.Merge){var o=r(t),n=this._translations.get(o);if(n)return n;this._reportError(e,"Translation unavailable for message id=\""+o+"\"")}return[]},e.prototype._translateAttributes=function(e){var t=this,o=e.attrs,n={};o.forEach(function(e){e.name.startsWith("i18n-")&&(n[e.name.slice("i18n-".length)]=$(e.value)[0])});var a=[];return o.forEach(function(o){if(o.name!=="i18n"&&!o.name.startsWith("i18n-"))if(n.hasOwnProperty(o.name)){var i=n[o.name],s=t._createI18nMessage([o],i,""),p=r(s),l=t._translations.get(p);if(!l)t._reportError(e,"Translation unavailable for attribute \""+o.name+"\" (id=\""+p+"\")");else if(l[0]instanceof So){var d=l[0].value;a.push(new xo(o.name,d,o.sourceSpan))}else t._reportError(e,"Unexpected translation for attribute \""+o.name+"\" (id=\""+p+"\")")}else a.push(o)}),a},e.prototype._mayBeAddBlockChildren=function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)},e.prototype._openTranslatableSection=function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(e.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),e.prototype._closeTranslatableSection=function(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");var r=this._msgCountAtSectionStart,o=t.reduce(function(e,t){return e+(t instanceof Po?0:1)},0);if(1==o)for(var n=this._messages.length-1,a;n>=r;n--)if(a=this._messages[n].nodes,!(1==a.length&&a[0]instanceof Ao)){this._messages.splice(n,1);break}this._msgCountAtSectionStart=void 0},e.prototype._reportError=function(e,t){this._errors.push(new Ia(e.sourceSpan,t))},e}(),ja=function(){function e(e,t,r){this._htmlParser=e,this._implicitTags=t,this._implicitAttrs=r,this._messageMap={}}return e.prototype.updateFromTemplate=function(e,t,o){var n=this,a=this._htmlParser.parse(e,t,!0,o);if(a.errors.length)return a.errors;var i=Q(a.rootNodes,o,this._implicitTags,this._implicitAttrs);return i.errors.length?i.errors:void i.messages.forEach(function(e){n._messageMap[r(e)]=e})},e.prototype.write=function(e){return e.write(this._messageMap)},e}(),Fa=function(){function e(){}return e.prototype.visitTag=function(e){var t=this,r=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<"+e.name+r+"/>";var o=e.children.map(function(e){return e.visit(t)});return"<"+e.name+r+">"+o.join("")+"</"+e.name+">"},e.prototype.visitText=function(e){return e.value},e.prototype.visitDeclaration=function(e){return"<? xml"+this._serializeAttributes(e.attrs)+" ?>"},e.prototype._serializeAttributes=function(e){var t=Object.keys(e).map(function(t){return t+"=\""+e[t]+"\""}).join(" ");return 0<t.length?" "+t:""},e.prototype.visitDoctype=function(e){return"<!DOCTYPE "+e.rootTag+" [\n"+e.dtd+"\n]>"},e}(),Ua=new Fa,Ba=function(){function e(e){var t=this;this.attrs={},Object.keys(e).forEach(function(r){t.attrs[r]=ee(e[r])})}return e.prototype.visit=function(e){return e.visitDeclaration(this)},e}(),za=function(){function e(e,t){this.rootTag=e,this.dtd=t}return e.prototype.visit=function(e){return e.visitDoctype(this)},e}(),Ha=function(){function e(e,t,r){var o=this;void 0===t&&(t={}),void 0===r&&(r=[]),this.name=e,this.children=r,this.attrs={},Object.keys(t).forEach(function(e){o.attrs[e]=ee(t[e])})}return e.prototype.visit=function(e){return e.visitTag(this)},e}(),qa=function(){function e(e){this.value=ee(e)}return e.prototype.visit=function(e){return e.visitText(this)},e}(),Wa=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],Ga=function(){function e(){}return e.prototype.write=function(e){var t=new Ka,r=new Ha("messagebundle");return r.children.push(new qa("\n")),Object.keys(e).forEach(function(o){var n=e[o],a={id:o};n.description&&(a.desc=n.description),n.meaning&&(a.meaning=n.meaning),r.children.push(new qa("  "),new Ha("msg",a,t.serialize(n.nodes)),new qa("\n"))}),J([new Ba({version:"1.0",encoding:"UTF-8"}),new qa("\n"),new za("messagebundle","<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) \"default\">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>"),new qa("\n"),r])},e.prototype.load=function(){throw new Error("Unsupported")},e}(),Ka=function(){function e(){}return e.prototype.visitText=function(e){return[new qa(e.value)]},e.prototype.visitContainer=function(e){var t=this,r=[];return e.children.forEach(function(e){return r.push.apply(r,e.visit(t))}),r},e.prototype.visitIcu=function(e){var t=this,r=[new qa("{"+e.expression+", "+e.type+", ")];return Object.keys(e.cases).forEach(function(o){r.push.apply(r,[new qa(o+" {")].concat(e.cases[o].visit(t),[new qa("}")]))}),r.push(new qa("}")),r},e.prototype.visitTagPlaceholder=function(e){var t=new Ha("ex",{},[new qa("<"+e.tag+">")]),r=new Ha("ph",{name:e.startName},[t]);if(e.isVoid)return[r];var o=new Ha("ex",{},[new qa("</"+e.tag+">")]),n=new Ha("ph",{name:e.closeName},[o]);return[r].concat(this.serialize(e.children),[n])},e.prototype.visitPlaceholder=function(e){return[new Ha("ph",{name:e.name})]},e.prototype.visitIcuPlaceholder=function(e){return[new Ha("ph",{name:e.name})]},e.prototype.serialize=function(e){var t=this;return Ln.flatten(e.map(function(e){return e.visit(t)}))},e}(),Qa;!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",e[e.EOF=19]="EOF"}(Qa||(Qa={}));var Xa=function(){return function(e,t,r){this.type=e,this.parts=t,this.sourceSpan=r}}(),Za=function(e){function t(t,r,o){e.call(this,o,t),this.tokenType=r}return __extends(t,e),t}(Ma),Ya=function(){return function(e,t){this.tokens=e,this.errors=t}}(),$a=/\r\n?/g,Ja=function(){return function(e){this.error=e}}(),ei=function(){function e(e,t,r,o){void 0===o&&(o=An),this._file=e,this._getTagDefinition=t,this._tokenizeIcu=r,this._interpolationConfig=o,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=e.content,this._length=e.content.length,this._advance()}return e.prototype._processCarriageReturns=function(e){return e.replace($a,"\n")},e.prototype.tokenize=function(){for(;this._peek!==0;){var e=this._getLocation();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(45)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(47)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof Ja))throw t;this.errors.push(t.error)}}return this._beginToken(Qa.EOF),this._endToken([]),new Ya(ye(this.tokens),this.errors)},e.prototype._tokenizeExpansionForm=function(){if(le(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(de(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._peek){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},e.prototype._getLocation=function(){return new Oa(this._file,this._index,this._line,this._column)},e.prototype._getSpan=function(e,t){return void 0===e&&(e=this._getLocation()),void 0===t&&(t=this._getLocation()),new wa(e,t)},e.prototype._beginToken=function(e,t){void 0===t&&(t=this._getLocation()),this._currentTokenStart=t,this._currentTokenType=e},e.prototype._endToken=function(e,t){void 0===t&&(t=this._getLocation());var r=new Xa(this._currentTokenType,e,new wa(this._currentTokenStart,t));return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r},e.prototype._createError=function(e,t){this._isInExpansionForm()&&(e+=" (Do you have an unescaped \"{\" in your template? Use \"{{ '{' }}\") to escape it.)");var r=new Za(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Ja(r)},e.prototype._advance=function(){if(this._index>=this._length)throw this._createError(re(0),this._getSpan());this._peek===10?(this._line++,this._column=0):this._peek!==10&&this._peek!==13&&this._column++,this._index++,this._peek=this._index>=this._length?0:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?0:this._input.charCodeAt(this._index+1)},e.prototype._attemptCharCode=function(e){return this._peek===e&&(this._advance(),!0)},e.prototype._attemptCharCodeCaseInsensitive=function(e){return!!ce(this._peek,e)&&(this._advance(),!0)},e.prototype._requireCharCode=function(e){var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(re(this._peek),this._getSpan(t,t))},e.prototype._attemptStr=function(e){var t=e.length;if(this._index+t>this._length)return!1;for(var r=this._savePosition(),o=0;o<t;o++)if(!this._attemptCharCode(e.charCodeAt(o)))return this._restorePosition(r),!1;return!0},e.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0},e.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(re(this._peek),this._getSpan(t))},e.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this._peek);)this._advance()},e.prototype._requireCharCodeUntilFn=function(e,t){var r=this._getLocation();if(this._attemptCharCodeUntilFn(e),this._index-r.offset<t)throw this._createError(re(this._peek),this._getSpan(r,r))},e.prototype._attemptUntilChar=function(e){for(;this._peek!==e;)this._advance()},e.prototype._readChar=function(e){if(e&&this._peek===38)return this._decodeEntity();var t=this._index;return this._advance(),this._input[t]},e.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode(35)){var r=this._savePosition();if(this._attemptCharCodeUntilFn(pe),this._peek!=59)return this._restorePosition(r),"&";this._advance();var o=this._input.substring(t.offset+1,this._index-1),n=ba[o];if(!n)throw this._createError(oe(o),this._getSpan(t));return n}var a=this._attemptCharCode(120)||this._attemptCharCode(88),i=this._getLocation().offset;if(this._attemptCharCodeUntilFn(se),this._peek!=59)throw this._createError(re(this._peek),this._getSpan());this._advance();var s=this._input.substring(i,this._index-1);try{var p=parseInt(s,a?16:10);return String.fromCharCode(p)}catch(r){var l=this._input.substring(t.offset+1,this._index-1);throw this._createError(oe(l),this._getSpan(t))}},e.prototype._consumeRawText=function(e,t,r){var o=this._getLocation(),n;this._beginToken(e?Qa.ESCAPABLE_RAW_TEXT:Qa.RAW_TEXT,o);for(var a=[];;){if(n=this._getLocation(),this._attemptCharCode(t)&&r())break;for(this._index>n.offset&&a.push(this._input.substring(n.offset,this._index));this._peek!==t;)a.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(a.join(""))],n)},e.prototype._consumeComment=function(e){var t=this;this._beginToken(Qa.COMMENT_START,e),this._requireCharCode(45),this._endToken([]);var r=this._consumeRawText(!1,45,function(){return t._attemptStr("->")});this._beginToken(Qa.COMMENT_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeCdata=function(e){var t=this;this._beginToken(Qa.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var r=this._consumeRawText(!1,93,function(){return t._attemptStr("]>")});this._beginToken(Qa.CDATA_END,r.sourceSpan.end),this._endToken([])},e.prototype._consumeDocType=function(e){this._beginToken(Qa.DOC_TYPE,e),this._attemptUntilChar(62),this._advance(),this._endToken([this._input.substring(e.offset+2,this._index-1)])},e.prototype._consumePrefixAndName=function(){for(var e=this._index,t=null;this._peek!==58&&!ie(this._peek);)this._advance();var r;this._peek===58?(this._advance(),t=this._input.substring(e,this._index-1),r=this._index):r=e,this._requireCharCodeUntilFn(ae,this._index===r?1:0);var o=this._input.substring(r,this._index);return[t,o]},e.prototype._consumeTagOpen=function(t){var r=this._savePosition(),o,n;try{if(!p(this._peek))throw this._createError(re(this._peek),this._getSpan());var a=this._index;for(this._consumeTagOpenStart(t),o=this._input.substring(a,this._index),n=o.toLowerCase(),this._attemptCharCodeUntilFn(ne);this._peek!==47&&this._peek!==62;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(ne),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(ne),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(ne);this._consumeTagOpenEnd()}catch(o){if(o instanceof Ja)return this._restorePosition(r),this._beginToken(Qa.TEXT,t),void this._endToken(["<"]);throw o}var i=this._getTagDefinition(o).contentType;i===ha.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):i===ha.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},e.prototype._consumeRawTextWithTagClose=function(e,t){var r=this,o=this._consumeRawText(t,60,function(){return!!r._attemptCharCode(47)&&(r._attemptCharCodeUntilFn(ne),!!r._attemptStrCaseInsensitive(e)&&(r._attemptCharCodeUntilFn(ne),r._attemptCharCode(62)))});this._beginToken(Qa.TAG_CLOSE,o.sourceSpan.end),this._endToken([null,e])},e.prototype._consumeTagOpenStart=function(e){this._beginToken(Qa.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},e.prototype._consumeAttributeName=function(){this._beginToken(Qa.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},e.prototype._consumeAttributeValue=function(){this._beginToken(Qa.ATTR_VALUE);var e;if(this._peek===39||this._peek===34){var t=this._peek;this._advance();for(var r=[];this._peek!==t;)r.push(this._readChar(!0));e=r.join(""),this._advance()}else{var o=this._index;this._requireCharCodeUntilFn(ae,1),e=this._input.substring(o,this._index)}this._endToken([this._processCarriageReturns(e)])},e.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(47)?Qa.TAG_OPEN_END_VOID:Qa.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(62),this._endToken([])},e.prototype._consumeTagClose=function(e){this._beginToken(Qa.TAG_CLOSE,e),this._attemptCharCodeUntilFn(ne);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(ne),this._requireCharCode(62),this._endToken(t)},e.prototype._consumeExpansionFormStart=function(){this._beginToken(Qa.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(Qa.EXPANSION_FORM_START),this._beginToken(Qa.RAW_TEXT,this._getLocation());var e=this._readUntil(44);this._endToken([e],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ne),this._beginToken(Qa.RAW_TEXT,this._getLocation());var t=this._readUntil(44);this._endToken([t],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ne)},e.prototype._consumeExpansionCaseStart=function(){this._beginToken(Qa.EXPANSION_CASE_VALUE,this._getLocation());var e=this._readUntil(123).trim();this._endToken([e],this._getLocation()),this._attemptCharCodeUntilFn(ne),this._beginToken(Qa.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(123),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ne),this._expansionCaseStack.push(Qa.EXPANSION_CASE_EXP_START)},e.prototype._consumeExpansionCaseEnd=function(){this._beginToken(Qa.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(125),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ne),this._expansionCaseStack.pop()},e.prototype._consumeExpansionFormEnd=function(){this._beginToken(Qa.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()},e.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(Qa.TEXT,e);var t=[];do this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._attemptStr(this._interpolationConfig.end)&&this._inInterpolation?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0));while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])},e.prototype._isTextEnd=function(){if(this._peek===60||this._peek===0)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(le(this._input,this._index,this._interpolationConfig))return!0;if(125===this._peek&&this._isInExpansionCase())return!0}return!1},e.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},e.prototype._readUntil=function(e){var t=this._index;return this._attemptUntilChar(e),this._input.substring(t,this._index)},e.prototype._restorePosition=function(e){this._peek=e[0],this._index=e[1],this._column=e[2],this._line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=this.tokens.slice(0,t))},e.prototype._isInExpansionCase=function(){return 0<this._expansionCaseStack.length&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Qa.EXPANSION_CASE_EXP_START},e.prototype._isInExpansionForm=function(){return 0<this._expansionCaseStack.length&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Qa.EXPANSION_FORM_START},e}(),ti=function(e){function t(t,r,o){e.call(this,r,o),this.elementName=t}return __extends(t,e),t.create=function(e,r,o){return new t(e,r,o)},t}(Ma),ri=function(){return function(e,t){this.rootNodes=e,this.errors=t}}(),oi=function(){function e(e){this._getTagDefinition=e}return e.prototype.parse=function(e,t,r,o){void 0===r&&(r=!1),void 0===o&&(o=An);var n=te(e,t,this._getTagDefinition,r,o),a=new ni(n.tokens,this._getTagDefinition).build();return new ri(a.rootNodes,n.errors.concat(a.errors))},e}(),ni=function(){function e(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return e.prototype.build=function(){for(;this._peek.type!==Qa.EOF;)this._peek.type===Qa.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Qa.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Qa.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Qa.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Qa.TEXT||this._peek.type===Qa.RAW_TEXT||this._peek.type===Qa.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Qa.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new ri(this._rootNodes,this._errors)},e.prototype._advance=function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e},e.prototype._advanceIf=function(e){return this._peek.type===e?this._advance():null},e.prototype._consumeCdata=function(){this._consumeText(this._advance()),this._advanceIf(Qa.CDATA_END)},e.prototype._consumeComment=function(e){var t=this._advanceIf(Qa.RAW_TEXT);this._advanceIf(Qa.COMMENT_END);var r=d(t)?t.parts[0].trim():null;this._addToParent(new Po(r,e.sourceSpan))},e.prototype._consumeExpansion=function(e){for(var t=this._advance(),r=this._advance(),o=[],n;this._peek.type===Qa.EXPANSION_CASE_VALUE;){if(n=this._parseExpansionCase(),c(n))return;o.push(n)}if(this._peek.type!==Qa.EXPANSION_FORM_END)return void this._errors.push(ti.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var a=new wa(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Co(t.parts[0],r.parts[0],o,a,t.sourceSpan)),this._advance()},e.prototype._parseExpansionCase=function(){var t=this._advance();if(this._peek.type!==Qa.EXPANSION_CASE_EXP_START)return this._errors.push(ti.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var r=this._advance(),o=this._collectExpansionExpTokens(r);if(c(o))return null;var n=this._advance();o.push(new Xa(Qa.EOF,[],n.sourceSpan));var a=new e(o,this.getTagDefinition).build();if(0<a.errors.length)return this._errors=this._errors.concat(a.errors),null;var i=new wa(t.sourceSpan.start,n.sourceSpan.end),s=new wa(r.sourceSpan.start,n.sourceSpan.end);return new Eo(t.parts[0],a.rootNodes,i,t.sourceSpan,s)},e.prototype._collectExpansionExpTokens=function(e){for(var t=[],r=[Qa.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==Qa.EXPANSION_FORM_START&&this._peek.type!==Qa.EXPANSION_CASE_EXP_START||r.push(this._peek.type),this._peek.type===Qa.EXPANSION_CASE_EXP_END){if(!me(r,Qa.EXPANSION_CASE_EXP_START))return this._errors.push(ti.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(r.pop(),0==r.length)return t}if(this._peek.type===Qa.EXPANSION_FORM_END){if(!me(r,Qa.EXPANSION_FORM_START))return this._errors.push(ti.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;r.pop()}if(this._peek.type===Qa.EOF)return this._errors.push(ti.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}},e.prototype._consumeText=function(e){var t=e.parts[0];if(0<t.length&&"\n"==t[0]){var r=this._getParentElement();d(r)&&0==r.children.length&&this.getTagDefinition(r.name).ignoreFirstLf&&(t=t.substring(1))}0<t.length&&this._addToParent(new So(t,e.sourceSpan))},e.prototype._closeVoidElement=function(){if(0<this._elementStack.length){var e=Ln.last(this._elementStack);this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}},e.prototype._consumeStartTag=function(e){for(var t=e.parts[0],r=e.parts[1],o=[];this._peek.type===Qa.ATTR_NAME;)o.push(this._consumeAttr(this._advance()));var n=this._getElementFullName(t,r,this._getParentElement()),a=!1;if(this._peek.type===Qa.TAG_OPEN_END_VOID){this._advance(),a=!0;var i=this.getTagDefinition(n);i.canSelfClose||null!==H(n)||i.isVoid||this._errors.push(ti.create(n,e.sourceSpan,"Only void and foreign elements can be self closed \""+e.parts[1]+"\""))}else this._peek.type===Qa.TAG_OPEN_END&&(this._advance(),a=!1);var s=this._peek.sourceSpan.start,p=new wa(e.sourceSpan.start,s),l=new To(n,o,[],p,p,null);this._pushElement(l),a&&(this._popElement(n),l.endSourceSpan=p)},e.prototype._pushElement=function(e){if(0<this._elementStack.length){var t=Ln.last(this._elementStack);this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop()}var r=this.getTagDefinition(e.name),o=this._getParentElementSkippingContainers(),n=o.parent,a=o.container;if(d(n)&&r.requireExtraParent(n.name)){var i=new To(r.parentToAdd,[],[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._insertBeforeContainer(n,a,i)}this._addToParent(e),this._elementStack.push(e)},e.prototype._consumeEndTag=function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid?this._errors.push(ti.create(t,e.sourceSpan,"Void elements do not have end tags \""+e.parts[1]+"\"")):this._popElement(t)||this._errors.push(ti.create(t,e.sourceSpan,"Unexpected closing tag \""+e.parts[1]+"\""))},e.prototype._popElement=function(e){for(var t=this._elementStack.length-1,r;0<=t;t--){if(r=this._elementStack[t],r.name==e)return Ln.splice(this._elementStack,t,this._elementStack.length-t),!0;if(!this.getTagDefinition(r.name).closedByParent)return!1}return!1},e.prototype._consumeAttr=function(e){var t=q(e.parts[0],e.parts[1]),r=e.sourceSpan.end,o="";if(this._peek.type===Qa.ATTR_VALUE){var n=this._advance();o=n.parts[0],r=n.sourceSpan.end}return new xo(t,o,new wa(e.sourceSpan.start,r))},e.prototype._getParentElement=function(){return 0<this._elementStack.length?Ln.last(this._elementStack):null},e.prototype._getParentElementSkippingContainers=function(){for(var e=null,t=this._elementStack.length-1;0<=t;t--){if("ng-container"!==this._elementStack[t].name)return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:Ln.last(this._elementStack),container:e}},e.prototype._addToParent=function(e){var t=this._getParentElement();d(t)?t.children.push(e):this._rootNodes.push(e)},e.prototype._insertBeforeContainer=function(e,t,r){if(t){if(e){var o=e.children.indexOf(t);e.children[o]=r}else this._rootNodes.push(r);r.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,r)}else this._addToParent(r),this._elementStack.push(r)},e.prototype._getElementFullName=function(e,t,r){return c(e)&&(e=this.getTagDefinition(t).implicitNamespacePrefix,c(e)&&d(r)&&(e=H(r.name))),q(e,t)},e}(),ai=function(){function e(){this.closedByParent=!1,this.contentType=ha.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return e.prototype.requireExtraParent=function(){return!1},e.prototype.isClosedByChild=function(){return!1},e}(),ii=new ai,si=function(e){function t(){e.call(this,ge)}return __extends(t,e),t.prototype.parse=function(t,r,o){return void 0===o&&(o=!1),e.prototype.parse.call(this,t,r,o,null)},t}(oi),pi=function(){function e(e,t){this._htmlParser=e,this._interpolationConfig=t}return e.prototype.write=function(){throw new Error("Unsupported")},e.prototype.load=function(e,t,r){var o=this,n=new si().parse(e,t);if(n.errors.length)throw new Error("xtb parse errors:\n"+n.errors.join("\n"));var a=new li().parse(n.rootNodes,r),i=a.messages,s=a.errors;if(s.length)throw new Error("xtb parse errors:\n"+s.join("\n"));var p={},l=[];if(Object.keys(i).forEach(function(e){var r=o._htmlParser.parse(i[e],t,!0,o._interpolationConfig);l.push.apply(l,r.errors),p[e]=r.rootNodes}),l.length)throw new Error("xtb parse errors:\n"+l.join("\n"));return p},e}(),li=function(){function e(){}return e.prototype.parse=function(e,t){return this._messages={},this._bundleDepth=0,this._translationDepth=0,this._errors=[],this._placeholders=t,a(this,e,null),{messages:this._messages,errors:this._errors}},e.prototype.visitElement=function(e){switch(e.name){case"translationbundle":this._bundleDepth++,1<this._bundleDepth&&this._addError(e,"<translationbundle> elements can not be nested"),a(this,e.children,null),this._bundleDepth--;break;case"translation":this._translationDepth++,1<this._translationDepth&&this._addError(e,"<translation> elements can not be nested");var t=e.attrs.find(function(e){return"id"===e.name});t?(this._currentPlaceholders=this._placeholders[t.value]||{},this._messages[t.value]=a(this,e.children).join("")):this._addError(e,"<translation> misses the \"id\" attribute"),this._translationDepth--;break;case"ph":var r=e.attrs.find(function(e){return"name"===e.name});if(r){if(this._currentPlaceholders.hasOwnProperty(r.value))return this._currentPlaceholders[r.value];this._addError(e,"The placeholder \""+r.value+"\" does not exists in the source message")}else this._addError(e,"<ph> misses the \"name\" attribute");break;default:this._addError(e,"Unexpected tag");}},e.prototype.visitAttribute=function(){throw new Error("unreachable code")},e.prototype.visitText=function(e){return e.value},e.prototype.visitComment=function(){return""},e.prototype.visitExpansion=function(e){var t=this;return e.cases.map(function(e){return e.visit(t,null)}),"{"+e.switchValue+", "+e.type+", strCases.join(' ')}"},e.prototype.visitExpansionCase=function(e){return e.value+" {"+a(this,e.expression,null)+"}"},e.prototype._addError=function(e,t){this._errors.push(new Ia(e.sourceSpan,t))},e}(),di=Object.freeze({MessageBundle:ja,Xmb:Ga,Xtb:pi}),ci=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitText(this,t)},e}(),ui=function(){function e(e,t,r){this.value=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitBoundText(this,t)},e}(),yi=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitAttr(this,t)},e}(),mi=function(){function e(e,t,r,o,n,a){this.name=e,this.type=t,this.securityContext=r,this.value=o,this.unit=n,this.sourceSpan=a}return e.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},e}(),gi=function(){function e(e,t,r,o){this.name=e,this.target=t,this.handler=r,this.sourceSpan=o}return e.prototype.visit=function(e,t){return e.visitEvent(this,t)},Object.defineProperty(e.prototype,"fullName",{get:function(){return d(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),e}(),fi=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitReference(this,t)},e}(),hi=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitVariable(this,t)},e}(),bi=function(){function e(e,t,r,o,n,a,i,s,p,l,d){this.name=e,this.attrs=t,this.inputs=r,this.outputs=o,this.references=n,this.directives=a,this.providers=i,this.hasViewContainer=s,this.children=p,this.ngContentIndex=l,this.sourceSpan=d}return e.prototype.visit=function(e,t){return e.visitElement(this,t)},e}(),_i=function(){function e(e,t,r,o,n,a,i,s,p,l){this.attrs=e,this.outputs=t,this.references=r,this.variables=o,this.directives=n,this.providers=a,this.hasViewContainer=i,this.children=s,this.ngContentIndex=p,this.sourceSpan=l}return e.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},e}(),vi=function(){function e(e,t,r,o){this.directiveName=e,this.templateName=t,this.value=r,this.sourceSpan=o}return e.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},e}(),Si=function(){function e(e,t,r,o,n){this.directive=e,this.inputs=t,this.hostProperties=r,this.hostEvents=o,this.sourceSpan=n}return e.prototype.visit=function(e,t){return e.visitDirective(this,t)},e}(),Ci=function(){function e(e,t,r,o,n,a,i){this.token=e,this.multiProvider=t,this.eager=r,this.providers=o,this.providerType=n,this.lifecycleHooks=a,this.sourceSpan=i}return e.prototype.visit=function(){return null},e}();e.ProviderAstType,function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(e.ProviderAstType||(e.ProviderAstType={}));var Ei=function(){function e(e,t,r){this.index=e,this.ngContentIndex=t,this.sourceSpan=r}return e.prototype.visit=function(e,t){return e.visitNgContent(this,t)},e}();e.PropertyBindingType,function(e){e[e.Property=0]="Property",e[e.Attribute=1]="Attribute",e[e.Class=2]="Class",e[e.Style=3]="Style",e[e.Animation=4]="Animation"}(e.PropertyBindingType||(e.PropertyBindingType={}));var xi=t.__core_private__.isDefaultChangeDetectionStrategy,Ti=t.__core_private__.ChangeDetectorStatus,Pi=t.__core_private__.LifecycleHooks,Oi=t.__core_private__.LIFECYCLE_HOOKS_VALUES,Ai=t.__core_private__.ReflectorReader,wi=t.__core_private__.AppElement,ki=t.__core_private__.CodegenComponentFactoryResolver,Mi=t.__core_private__.AppView,Ii=t.__core_private__.DebugAppView,Ri=t.__core_private__.NgModuleInjector,Ni=t.__core_private__.ViewType,Di=t.__core_private__.MAX_INTERPOLATION_VALUES,Vi=t.__core_private__.checkBinding,Li=t.__core_private__.flattenNestedViewRenderNodes,ji=t.__core_private__.interpolate,Fi=t.__core_private__.ViewUtils,Ui=t.__core_private__.DebugContext,Bi=t.__core_private__.StaticNodeDebugInfo,zi=t.__core_private__.devModeEqual,Hi=t.__core_private__.UNINITIALIZED,qi=t.__core_private__.ValueUnwrapper,Wi=t.__core_private__.TemplateRef_,Gi=t.__core_private__.createProvider,Ki=t.__core_private__.isProviderLiteral,Qi=t.__core_private__.EMPTY_ARRAY,Xi=t.__core_private__.EMPTY_MAP,Zi=t.__core_private__.pureProxy1,Yi=t.__core_private__.pureProxy2,$i=t.__core_private__.pureProxy3,Ji=t.__core_private__.pureProxy4,es=t.__core_private__.pureProxy5,ts=t.__core_private__.pureProxy6,rs=t.__core_private__.pureProxy7,os=t.__core_private__.pureProxy8,ns=t.__core_private__.pureProxy9,as=t.__core_private__.pureProxy10,is=t.__core_private__.castByValue,ss=t.__core_private__.Console,ps=t.__core_private__.reflector,ls=t.__core_private__.Reflector,ds=t.__core_private__.ReflectionCapabilities,cs=t.__core_private__.NoOpAnimationPlayer,us=t.__core_private__.AnimationSequencePlayer,ys=t.__core_private__.AnimationGroupPlayer,ms=t.__core_private__.AnimationKeyframe,gs=t.__core_private__.AnimationStyles,fs=t.__core_private__.ANY_STATE,hs=t.__core_private__.DEFAULT_STATE,bs=t.__core_private__.EMPTY_STATE,_s=t.__core_private__.FILL_STYLE_FLAG,vs=t.__core_private__.prepareFinalAnimationStyles,Ss=t.__core_private__.balanceAnimationKeyframes,Cs=t.__core_private__.clearStyles,Es=t.__core_private__.collectAndResolveStyles,xs=t.__core_private__.renderStyles,Ts=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),Ps=/(\:not\()|([-\w]+)|(?:\.([-\w]+))|(?:\[([-\w*]+)(?:=([^\]]*))?\])|(\))|(\s*,\s*)/g,Os=function(){function e(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return e.parse=function(t){var r=[],o=function(e,t){0<t.notSelectors.length&&c(t.element)&&Ln.isEmpty(t.classNames)&&Ln.isEmpty(t.attrs)&&(t.element="*"),e.push(t)},n=new e,a=n,i=!1,s;for(Ps.lastIndex=0;d(s=Ps.exec(t));){if(d(s[1])){if(i)throw new Ts("Nesting :not is not allowed in a selector");i=!0,a=new e,n.notSelectors.push(a)}if(d(s[2])&&a.setElement(s[2]),d(s[3])&&a.addClassName(s[3]),d(s[4])&&a.addAttribute(s[4],s[5]),d(s[6])&&(i=!1,a=n),d(s[7])){if(i)throw new Ts("Multiple selectors in :not are not supported");o(r,n),n=a=new e}}return o(r,n),r},e.prototype.isElementSelector=function(){return d(this.element)&&Ln.isEmpty(this.classNames)&&Ln.isEmpty(this.attrs)&&0===this.notSelectors.length},e.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},e.prototype.getMatchingElementTemplate=function(){for(var e=d(this.element)?this.element:"div",t=0<this.classNames.length?" class=\""+this.classNames.join(" ")+"\"":"",r="",o=0;o<this.attrs.length;o+=2){var n=this.attrs[o],a=""===this.attrs[o+1]?"":"=\""+this.attrs[o+1]+"\"";r+=" "+n+a}return"<"+e+t+r+"></"+e+">"},e.prototype.addAttribute=function(e,t){void 0===t&&(t=""),this.attrs.push(e),t=d(t)?t.toLowerCase():"",this.attrs.push(t)},e.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},e.prototype.toString=function(){var e="";if(d(this.element)&&(e+=this.element),d(this.classNames))for(var t=0;t<this.classNames.length;t++)e+="."+this.classNames[t];if(d(this.attrs))for(var t=0;t<this.attrs.length;){var r=this.attrs[t++],o=this.attrs[t++];e+="["+r,0<o.length&&(e+="="+o),e+="]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},e}(),As=function(){function e(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return e.createNotMatcher=function(t){var r=new e;return r.addSelectables(t,null),r},e.prototype.addSelectables=function(e,t){var r=null;1<e.length&&(r=new ws(e),this._listContexts.push(r));for(var o=0;o<e.length;o++)this._addSelectable(e[o],t,r)},e.prototype._addSelectable=function(e,t,r){var o=this,n=e.element,a=e.classNames,i=e.attrs,s=new ks(e,t,r);if(d(n)){var p=0===i.length&&0===a.length;p?this._addTerminal(o._elementMap,n,s):o=this._addPartial(o._elementPartialMap,n)}if(d(a))for(var l=0;l<a.length;l++){var p=0===i.length&&l===a.length-1,u=a[l];p?this._addTerminal(o._classMap,u,s):o=this._addPartial(o._classPartialMap,u)}if(d(i))for(var l=0;l<i.length;){var p=l==i.length-2,y=i[l++],m=i[l++];if(p){var g=o._attrValueMap,f=g.get(y);c(f)&&(f=new Map,g.set(y,f)),this._addTerminal(f,m,s)}else{var h=o._attrValuePartialMap,b=h.get(y);c(b)&&(b=new Map,h.set(y,b)),o=this._addPartial(b,m)}}},e.prototype._addTerminal=function(e,t,r){var o=e.get(t);c(o)&&(o=[],e.set(t,o)),o.push(r)},e.prototype._addPartial=function(t,r){var o=t.get(r);return c(o)&&(o=new e,t.set(r,o)),o},e.prototype.match=function(e,t){for(var r=!1,o=e.element,n=e.classNames,a=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,o,e,t)||r,r=this._matchPartial(this._elementPartialMap,o,e,t)||r,d(n))for(var p=0,l;p<n.length;p++)l=n[p],r=this._matchTerminal(this._classMap,l,e,t)||r,r=this._matchPartial(this._classPartialMap,l,e,t)||r;if(d(a))for(var p=0;p<a.length;){var c=a[p++],u=a[p++],y=this._attrValueMap.get(c);fn.equals(u,"")||(r=this._matchTerminal(y,"",e,t)||r),r=this._matchTerminal(y,u,e,t)||r;var m=this._attrValuePartialMap.get(c);fn.equals(u,"")||(r=this._matchPartial(m,"",e,t)||r),r=this._matchPartial(m,u,e,t)||r}return r},e.prototype._matchTerminal=function(e,t,r,o){if(c(e)||c(t))return!1;var n=e.get(t),a=e.get("*");if(d(a)&&(n=n.concat(a)),c(n))return!1;for(var i=!1,s=0,p;s<n.length;s++)p=n[s],i=p.finalize(r,o)||i;return i},e.prototype._matchPartial=function(e,t,r,o){if(c(e)||c(t))return!1;var n=e.get(t);return!c(n)&&n.match(r,o)},e}(),ws=function(){return function(e){this.selectors=e,this.alreadyMatched=!1}}(),ks=function(){function e(e,t,r){this.selector=e,this.cbContext=t,this.listContext=r,this.notSelectors=e.notSelectors}return e.prototype.finalize=function(e,t){var r=!0;if(0<this.notSelectors.length&&(c(this.listContext)||!this.listContext.alreadyMatched)){var o=As.createNotMatcher(this.notSelectors);r=!o.match(e,null)}return r&&d(t)&&(c(this.listContext)||!this.listContext.alreadyMatched)&&(d(this.listContext)&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),r},e}(),Ms={provide:t.PACKAGE_ROOT_URL,useValue:"/"},Is=function(){function e(e){void 0===e&&(e=null),this._packagePrefix=e}return e.prototype.resolve=function(e,t){var r=t;d(e)&&0<e.length&&(r=Ee(e,r));var o=ve(r),n=this._packagePrefix;if(d(n)&&d(o)&&"package"==o[Ns.Scheme]){var a=o[Ns.Path];if(this._packagePrefix!=="asset:")return n=fn.stripRight(n,"/"),a=fn.stripLeft(a,"/"),n+"/"+a;var i=a.split(/\//);r="asset:"+i[0]+"/lib/"+i.slice(1).join("/")}return r},e}();Is.decorators=[{type:t.Injectable}],Is.ctorParameters=[{type:void 0,decorators:[{type:t.Inject,args:[t.PACKAGE_ROOT_URL]}]}];var Rs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([\w\d\-\u0100-\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Ns;!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(Ns||(Ns={}));var Ds;!function(e){e[e.Const=0]="Const"}(Ds||(Ds={}));var Vs=function(){function e(e){void 0===e&&(e=null),this.modifiers=e,c(e)&&(this.modifiers=[])}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),Ls;!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function"}(Ls||(Ls={}));var js=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.name=t}return __extends(t,e),t.prototype.visitType=function(e,t){return e.visitBuiltintType(this,t)},t}(Vs),Fs=function(e){function t(t,r,o){void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,o),this.value=t,this.typeParams=r}return __extends(t,e),t.prototype.visitType=function(e,t){return e.visitExternalType(this,t)},t}(Vs),Us=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.of=t}return __extends(t,e),t.prototype.visitType=function(e,t){return e.visitArrayType(this,t)},t}(Vs),Bs=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.valueType=t}return __extends(t,e),t.prototype.visitType=function(e,t){return e.visitMapType(this,t)},t}(Vs),zs=new js(Ls.Dynamic),Hs=new js(Ls.Bool),qs=(new js(Ls.Int),new js(Ls.Number)),Ws=new js(Ls.String),Gs=new js(Ls.Function),Ks;!function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.Lower=11]="Lower",e[e.LowerEquals=12]="LowerEquals",e[e.Bigger=13]="Bigger",e[e.BiggerEquals=14]="BiggerEquals"}(Ks||(Ks={}));var Qs=function(){function e(e){this.type=e}return e.prototype.prop=function(e){return new up(this,e)},e.prototype.key=function(e,t){return void 0===t&&(t=null),new yp(this,e,t)},e.prototype.callMethod=function(e,t){return new tp(this,e,t)},e.prototype.callFn=function(e){return new rp(this,e)},e.prototype.instantiate=function(e,t){return void 0===t&&(t=null),new op(this,e,t)},e.prototype.conditional=function(e,t){return void 0===t&&(t=null),new ip(this,e,t)},e.prototype.equals=function(e){return new cp(Ks.Equals,this,e)},e.prototype.notEquals=function(e){return new cp(Ks.NotEquals,this,e)},e.prototype.identical=function(e){return new cp(Ks.Identical,this,e)},e.prototype.notIdentical=function(e){return new cp(Ks.NotIdentical,this,e)},e.prototype.minus=function(e){return new cp(Ks.Minus,this,e)},e.prototype.plus=function(e){return new cp(Ks.Plus,this,e)},e.prototype.divide=function(e){return new cp(Ks.Divide,this,e)},e.prototype.multiply=function(e){return new cp(Ks.Multiply,this,e)},e.prototype.modulo=function(e){return new cp(Ks.Modulo,this,e)},e.prototype.and=function(e){return new cp(Ks.And,this,e)},e.prototype.or=function(e){return new cp(Ks.Or,this,e)},e.prototype.lower=function(e){return new cp(Ks.Lower,this,e)},e.prototype.lowerEquals=function(e){return new cp(Ks.LowerEquals,this,e)},e.prototype.bigger=function(e){return new cp(Ks.Bigger,this,e)},e.prototype.biggerEquals=function(e){return new cp(Ks.BiggerEquals,this,e)},e.prototype.isBlank=function(){return this.equals(bp)},e.prototype.cast=function(e){return new pp(this,e)},e.prototype.toStmt=function(){return new Ep(this)},e}(),Xs;!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(Xs||(Xs={}));var Zs=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),u(t)?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadVarExpr(this,t)},t.prototype.set=function(e){return new Ys(this.name,e)},t}(Qs),Ys=function(e){function t(t,r,o){void 0===o&&(o=null),e.call(this,d(o)?o:r.type),this.name=t,this.value=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitWriteVarExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),new Sp(this.name,this.value,e,t)},t}(Qs),$s=function(e){function t(t,r,o,n){void 0===n&&(n=null),e.call(this,d(n)?n:o.type),this.receiver=t,this.index=r,this.value=o}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitWriteKeyExpr(this,t)},t}(Qs),Js=function(e){function t(t,r,o,n){void 0===n&&(n=null),e.call(this,d(n)?n:o.type),this.receiver=t,this.name=r,this.value=o}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitWritePropExpr(this,t)},t}(Qs),ep;!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.bind=2]="bind"}(ep||(ep={}));var tp=function(e){function t(t,r,o,n){void 0===n&&(n=null),e.call(this,n),this.receiver=t,this.args=o,u(r)?(this.name=r,this.builtin=null):(this.name=null,this.builtin=r)}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitInvokeMethodExpr(this,t)},t}(Qs),rp=function(e){function t(t,r,o){void 0===o&&(o=null),e.call(this,o),this.fn=t,this.args=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitInvokeFunctionExpr(this,t)},t}(Qs),op=function(e){function t(t,r,o){e.call(this,o),this.classExpr=t,this.args=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitInstantiateExpr(this,t)},t}(Qs),np=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.value=t}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralExpr(this,t)},t}(Qs),ap=function(e){function t(t,r,o){void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r),this.value=t,this.typeParams=o}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitExternalExpr(this,t)},t}(Qs),ip=function(e){function t(t,r,o,n){void 0===o&&(o=null),void 0===n&&(n=null),e.call(this,d(n)?n:r.type),this.condition=t,this.falseCase=o,this.trueCase=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitConditionalExpr(this,t)},t}(Qs),sp=function(e){function t(t){e.call(this,Hs),this.condition=t}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitNotExpr(this,t)},t}(Qs),pp=function(e){function t(t,r){e.call(this,r),this.value=t}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitCastExpr(this,t)},t}(Qs),lp=function(){return function(e,t){void 0===t&&(t=null),this.name=e,this.type=t}}(),dp=function(e){function t(t,r,o){void 0===o&&(o=null),e.call(this,o),this.params=t,this.statements=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitFunctionExpr(this,t)},t.prototype.toDeclStmt=function(e,t){return void 0===t&&(t=null),new Cp(e,this.params,this.statements,this.type,t)},t}(Qs),cp=function(e){function t(t,r,o,n){void 0===n&&(n=null),e.call(this,d(n)?n:r.type),this.operator=t,this.rhs=o,this.lhs=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitBinaryOperatorExpr(this,t)},t}(Qs),up=function(e){function t(t,r,o){void 0===o&&(o=null),e.call(this,o),this.receiver=t,this.name=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadPropExpr(this,t)},t.prototype.set=function(e){return new Js(this.receiver,this.name,e)},t}(Qs),yp=function(e){function t(t,r,o){void 0===o&&(o=null),e.call(this,o),this.receiver=t,this.index=r}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitReadKeyExpr(this,t)},t.prototype.set=function(e){return new $s(this.receiver,this.index,e)},t}(Qs),mp=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.entries=t}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralArrayExpr(this,t)},t}(Qs),gp=function(e){function t(t,r){void 0===r&&(r=null),e.call(this,r),this.entries=t,this.valueType=null,d(r)&&(this.valueType=r.valueType)}return __extends(t,e),t.prototype.visitExpression=function(e,t){return e.visitLiteralMapExpr(this,t)},t}(Qs),fp=new Zs(Xs.This),hp=new Zs(Xs.Super),bp=(new Zs(Xs.CatchError),new Zs(Xs.CatchStack),new np(null,null)),_p;!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private"}(_p||(_p={}));var vp=function(){function e(e){void 0===e&&(e=null),this.modifiers=e,c(e)&&(this.modifiers=[])}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),Sp=function(e){function t(t,r,o,n){void 0===o&&(o=null),void 0===n&&(n=null),e.call(this,n),this.name=t,this.value=r,this.type=d(o)?o:r.type}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareVarStmt(this,t)},t}(vp),Cp=function(e){function t(t,r,o,n,a){void 0===n&&(n=null),void 0===a&&(a=null),e.call(this,a),this.name=t,this.params=r,this.statements=o,this.type=n}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareFunctionStmt(this,t)},t}(vp),Ep=function(e){function t(t){e.call(this),this.expr=t}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitExpressionStmt(this,t)},t}(vp),xp=function(e){function t(t){e.call(this),this.value=t}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitReturnStmt(this,t)},t}(vp),Tp=function(){function e(e,t){void 0===e&&(e=null),this.type=e,this.modifiers=t,c(t)&&(this.modifiers=[])}return e.prototype.hasModifier=function(e){return-1!==this.modifiers.indexOf(e)},e}(),Pp=function(e){function t(t,r,o){void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this.name=t}return __extends(t,e),t}(Tp),Op=function(e){function t(t,r,o,n,a){void 0===n&&(n=null),void 0===a&&(a=null),e.call(this,n,a),this.name=t,this.params=r,this.body=o}return __extends(t,e),t}(Tp),Ap=function(e){function t(t,r,o,n){void 0===o&&(o=null),void 0===n&&(n=null),e.call(this,o,n),this.name=t,this.body=r}return __extends(t,e),t}(Tp),wp=function(e){function t(t,r,o,n,a,i,s){void 0===s&&(s=null),e.call(this,s),this.name=t,this.parent=r,this.fields=o,this.getters=n,this.constructorMethod=a,this.methods=i}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitDeclareClassStmt(this,t)},t}(vp),kp=function(e){function t(t,r,o){void 0===o&&(o=[]),e.call(this),this.condition=t,this.trueCase=r,this.falseCase=o}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitIfStmt(this,t)},t}(vp),Mp=function(e){function t(t,r){e.call(this),this.bodyStmts=t,this.catchStmts=r}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitTryCatchStmt(this,t)},t}(vp),Ip=function(e){function t(t){e.call(this),this.error=t}return __extends(t,e),t.prototype.visitStatement=function(e,t){return e.visitThrowStmt(this,t)},t}(vp),Rp=function(){function e(){}return e.prototype.visitReadVarExpr=function(e){return e},e.prototype.visitWriteVarExpr=function(e,t){return new Ys(e.name,e.value.visitExpression(this,t))},e.prototype.visitWriteKeyExpr=function(e,t){return new $s(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t))},e.prototype.visitWritePropExpr=function(e,t){return new Js(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t))},e.prototype.visitInvokeMethodExpr=function(e,t){var r=d(e.builtin)?e.builtin:e.name;return new tp(e.receiver.visitExpression(this,t),r,this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitInvokeFunctionExpr=function(e,t){return new rp(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitInstantiateExpr=function(e,t){return new op(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type)},e.prototype.visitLiteralExpr=function(e){return e},e.prototype.visitExternalExpr=function(e){return e},e.prototype.visitConditionalExpr=function(e,t){return new ip(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t))},e.prototype.visitNotExpr=function(e,t){return new sp(e.condition.visitExpression(this,t))},e.prototype.visitCastExpr=function(e,t){return new pp(e.value.visitExpression(this,t),t)},e.prototype.visitFunctionExpr=function(e){return e},e.prototype.visitBinaryOperatorExpr=function(e,t){return new cp(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type)},e.prototype.visitReadPropExpr=function(e,t){return new up(e.receiver.visitExpression(this,t),e.name,e.type)},e.prototype.visitReadKeyExpr=function(e,t){return new yp(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type)},e.prototype.visitLiteralArrayExpr=function(e,t){return new mp(this.visitAllExpressions(e.entries,t))},e.prototype.visitLiteralMapExpr=function(e,t){var r=this;return new gp(e.entries.map(function(e){return[e[0],e[1].visitExpression(r,t)]}))},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return new Sp(e.name,e.value.visitExpression(this,t),e.type,e.modifiers)},e.prototype.visitDeclareFunctionStmt=function(e){return e},e.prototype.visitExpressionStmt=function(e,t){return new Ep(e.expr.visitExpression(this,t))},e.prototype.visitReturnStmt=function(e,t){return new xp(e.value.visitExpression(this,t))},e.prototype.visitDeclareClassStmt=function(e){return e},e.prototype.visitIfStmt=function(e,t){return new kp(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t))},e.prototype.visitTryCatchStmt=function(e,t){return new Mp(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t))},e.prototype.visitThrowStmt=function(e,t){return new Ip(e.error.visitExpression(this,t))},e.prototype.visitCommentStmt=function(e){return e},e.prototype.visitAllStatements=function(e,t){var r=this;return e.map(function(e){return e.visitStatement(r,t)})},e}(),Np=function(){function e(){}return e.prototype.visitReadVarExpr=function(e){return e},e.prototype.visitWriteVarExpr=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitWriteKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e},e.prototype.visitWritePropExpr=function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),e},e.prototype.visitInvokeMethodExpr=function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitInstantiateExpr=function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e},e.prototype.visitLiteralExpr=function(e){return e},e.prototype.visitExternalExpr=function(e){return e},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e},e.prototype.visitNotExpr=function(e,t){return e.condition.visitExpression(this,t),e},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitFunctionExpr=function(e){return e},e.prototype.visitBinaryOperatorExpr=function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),e},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t),e},e.prototype.visitLiteralMapExpr=function(e,t){var r=this;return e.entries.forEach(function(e){return e[1].visitExpression(r,t)}),e},e.prototype.visitAllExpressions=function(e,t){var r=this;e.forEach(function(e){return e.visitExpression(r,t)})},e.prototype.visitDeclareVarStmt=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitDeclareFunctionStmt=function(e){return e},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),e},e.prototype.visitReturnStmt=function(e,t){return e.value.visitExpression(this,t),e},e.prototype.visitDeclareClassStmt=function(e){return e},e.prototype.visitIfStmt=function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e},e.prototype.visitTryCatchStmt=function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e},e.prototype.visitThrowStmt=function(e,t){return e.error.visitExpression(this,t),e},e.prototype.visitCommentStmt=function(e){return e},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}(),Dp=function(e){function t(t,r){e.call(this),this._varName=t,this._newValue=r}return __extends(t,e),t.prototype.visitReadVarExpr=function(e){return e.name==this._varName?this._newValue:e},t}(Rp),Vp=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e.apply(this,t),this.varNames=new Set}return __extends(t,e),t.prototype.visitReadVarExpr=function(e){return this.varNames.add(e.name),null},t}(Np),Lp="",jp=/([A-Z])/g,Fp=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return e.map(function(e){return Le(e,r,t)})},e.prototype.visitStringMap=function(e,t){var r=this,o={};return Vn.forEach(e,function(e,n){o[n]=Le(e,r,t)}),o},e.prototype.visitPrimitive=function(e){return e},e.prototype.visitOther=function(e){return e},e}(),Up=function(){return function(e,t){void 0===t&&(t=null),this.syncResult=e,this.asyncResult=t,t||(this.asyncResult=Promise.resolve(e))}}(),Bp=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,zp={},Hp=function(){function e(){}return Object.defineProperty(e.prototype,"identifier",{get:function(){return he()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runtimeCacheKey",{get:function(){return he()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetCacheKey",{get:function(){return he()},enumerable:!0,configurable:!0}),e.prototype.equalsTo=function(){return he()},e}(),qp=function(){return function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.name=e,this.definitions=t}}(),Wp=function(){return function(){}}(),Gp=function(e){function t(t,r){e.call(this),this.stateNameExpr=t,this.styles=r}return __extends(t,e),t}(Wp),Kp=function(e){function t(t,r){e.call(this),this.stateChangeExpr=t,this.steps=r}return __extends(t,e),t}(Wp),Qp=function(){return function(){}}(),Xp=function(e){function t(t){void 0===t&&(t=[]),e.call(this),this.steps=t}return __extends(t,e),t}(Qp),Zp=function(e){function t(t,r){void 0===r&&(r=null),e.call(this),this.offset=t,this.styles=r}return __extends(t,e),t}(Qp),Yp=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=null),e.call(this),this.timings=t,this.styles=r}return __extends(t,e),t}(Qp),$p=function(e){function t(t){void 0===t&&(t=null),e.call(this),this.steps=t}return __extends(t,e),t}(Qp),Jp=function(e){function t(t){void 0===t&&(t=null),e.call(this,t)}return __extends(t,e),t}($p),el=function(e){function t(t){void 0===t&&(t=null),e.call(this,t)}return __extends(t,e),t}($p),tl=function(){function e(e){var t=void 0===e?{}:e,r=t.runtime,o=t.name,n=t.moduleUrl,a=t.prefix,i=t.value;this._assetCacheKey=zp,this.runtime=r,this.name=o,this.prefix=a,this.moduleUrl=n,this.value=i}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runtimeCacheKey",{get:function(){return this.identifier.runtime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetCacheKey",{get:function(){if(this._assetCacheKey===zp)if(d(this.moduleUrl)&&d(be(this.moduleUrl))){var e=ps.importUri({filePath:this.moduleUrl,name:this.name});this._assetCacheKey=this.name+"|"+e}else this._assetCacheKey=null;return this._assetCacheKey},enumerable:!0,configurable:!0}),e.prototype.equalsTo=function(e){var t=this.runtimeCacheKey,r=this.assetCacheKey;return d(t)&&t==e.runtimeCacheKey||d(r)&&r==e.assetCacheKey},e}(),rl=function(){return function(e){var t=void 0===e?{}:e,r=t.isAttribute,o=t.isSelf,n=t.isHost,a=t.isSkipSelf,i=t.isOptional,s=t.isValue,p=t.query,l=t.viewQuery,d=t.token,c=t.value;this.isAttribute=_(r),this.isSelf=_(o),this.isHost=_(n),this.isSkipSelf=_(a),this.isOptional=_(i),this.isValue=_(s),this.query=p,this.viewQuery=l,this.token=d,this.value=c}}(),ol=function(){return function(e){var t=e.token,r=e.useClass,o=e.useValue,n=e.useExisting,a=e.useFactory,i=e.deps,s=e.multi;this.token=t,this.useClass=r,this.useValue=o,this.useExisting=n,this.useFactory=a,this.deps=b(i),this.multi=_(s)}}(),nl=function(e){function t(t){var r=t.runtime,o=t.name,n=t.moduleUrl,a=t.prefix,i=t.diDeps,s=t.value;e.call(this,{runtime:r,name:o,prefix:a,moduleUrl:n,value:s}),this.diDeps=ze(i)}return __extends(t,e),t}(tl),al=function(){function e(e){var t=e.value,r=e.identifier,o=e.identifierIsInstance;this.value=t,this.identifier=r,this.identifierIsInstance=_(o)}return Object.defineProperty(e.prototype,"runtimeCacheKey",{get:function(){return d(this.identifier)?this.identifier.runtimeCacheKey:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetCacheKey",{get:function(){return d(this.identifier)?this.identifier.assetCacheKey:this.value},enumerable:!0,configurable:!0}),e.prototype.equalsTo=function(e){var t=this.runtimeCacheKey,r=this.assetCacheKey;return d(t)&&t==e.runtimeCacheKey||d(r)&&r==e.assetCacheKey},Object.defineProperty(e.prototype,"name",{get:function(){return d(this.value)?Ve(this.value):this.identifier.name},enumerable:!0,configurable:!0}),e}(),il=function(){function e(){this._valueMap=new Map,this._values=[],this._tokens=[]}return e.prototype.add=function(e,t){var r=this.get(e);if(d(r))throw new Ts("Cannot overwrite in a CompileIdentifierMap! Token: "+e.identifier.name);this._tokens.push(e),this._values.push(t);var o=e.runtimeCacheKey;d(o)&&this._valueMap.set(o,t);var n=e.assetCacheKey;d(n)&&this._valueMap.set(n,t)},e.prototype.get=function(e){var t=e.runtimeCacheKey,r=e.assetCacheKey,o;return d(t)&&(o=this._valueMap.get(t)),c(o)&&d(r)&&(o=this._valueMap.get(r)),o},e.prototype.keys=function(){return this._tokens},e.prototype.values=function(){return this._values},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e}(),sl=function(e){function t(t){var r=void 0===t?{}:t,o=r.runtime,n=r.name,a=r.moduleUrl,i=r.prefix,s=r.isHost,p=r.value,l=r.diDeps,d=r.lifecycleHooks;e.call(this,{runtime:o,name:n,moduleUrl:a,prefix:i,value:p}),this.isHost=_(s),this.diDeps=ze(l),this.lifecycleHooks=ze(d)}return __extends(t,e),t}(tl),pl=function(){return function(e){var t=void 0===e?{}:e,r=t.selectors,o=t.descendants,n=t.first,a=t.propertyName,i=t.read;this.selectors=r,this.descendants=_(o),this.first=_(n),this.propertyName=a,this.read=i}}(),ll=function(){return function(e){var t=void 0===e?{}:e,r=t.moduleUrl,o=t.styles,n=t.styleUrls;this.moduleUrl=r,this.styles=ze(o),this.styleUrls=ze(n)}}(),dl=function(){return function(e){var t=void 0===e?{}:e,r=t.encapsulation,o=t.template,n=t.templateUrl,a=t.styles,i=t.styleUrls,s=t.externalStylesheets,p=t.animations,l=t.ngContentSelectors,c=t.interpolation;if(this.encapsulation=r,this.template=o,this.templateUrl=n,this.styles=ze(a),this.styleUrls=ze(i),this.externalStylesheets=ze(s),this.animations=d(p)?Ln.flatten(p):[],this.ngContentSelectors=d(l)?l:[],d(c)&&2!=c.length)throw new Ts("'interpolation' should have a start and an end symbol.");this.interpolation=c}}(),cl=function(){function e(e){var t=void 0===e?{}:e,r=t.type,o=t.isComponent,n=t.selector,a=t.exportAs,i=t.changeDetection,s=t.inputs,p=t.outputs,l=t.hostListeners,d=t.hostProperties,c=t.hostAttributes,u=t.providers,y=t.viewProviders,m=t.queries,g=t.viewQueries,f=t.entryComponents,h=t.viewDirectives,b=t.viewPipes,_=t.template;this.type=r,this.isComponent=o,this.selector=n,this.exportAs=a,this.changeDetection=i,this.inputs=s,this.outputs=p,this.hostListeners=l,this.hostProperties=d,this.hostAttributes=c,this.providers=ze(u),this.viewProviders=ze(y),this.queries=ze(m),this.viewQueries=ze(g),this.entryComponents=ze(f),this.viewDirectives=ze(h),this.viewPipes=ze(b),this.template=_}return e.create=function(t){var r=void 0===t?{}:t,o=r.type,n=r.isComponent,a=r.selector,i=r.exportAs,s=r.changeDetection,p=r.inputs,l=r.outputs,c=r.host,u=r.providers,y=r.viewProviders,m=r.queries,g=r.viewQueries,f=r.entryComponents,h=r.viewDirectives,b=r.viewPipes,v=r.template,S={},C={},E={};d(c)&&Vn.forEach(c,function(e,t){var r=t.match(Bp);null===r?E[t]=e:d(r[1])?C[r[1]]=e:d(r[2])?S[r[2]]=e:d(r[3])&&(C["@"+r[3]]=e)});var x={};d(p)&&p.forEach(function(e){var t=De(e,[e,e]);x[t[0]]=t[1]});var T={};return d(l)&&l.forEach(function(e){var t=De(e,[e,e]);T[t[0]]=t[1]}),new e({type:o,isComponent:_(n),selector:a,exportAs:i,changeDetection:s,inputs:x,outputs:T,hostListeners:S,hostProperties:C,hostAttributes:E,providers:u,viewProviders:y,queries:m,viewQueries:g,entryComponents:f,viewDirectives:h,viewPipes:b,template:v})},Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runtimeCacheKey",{get:function(){return this.type.runtimeCacheKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetCacheKey",{get:function(){return this.type.assetCacheKey},enumerable:!0,configurable:!0}),e.prototype.equalsTo=function(e){return this.type.equalsTo(e.identifier)},e}(),ul=function(){function e(e){var t=void 0===e?{}:e,r=t.type,o=t.name,n=t.pure;this.type=r,this.name=o,this.pure=_(n)}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runtimeCacheKey",{get:function(){return this.type.runtimeCacheKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetCacheKey",{get:function(){return this.type.assetCacheKey},enumerable:!0,configurable:!0}),e.prototype.equalsTo=function(e){return this.type.equalsTo(e.identifier)},e}(),yl=function(){function e(e){var t=void 0===e?{}:e,r=t.type,o=t.providers,n=t.declaredDirectives,a=t.exportedDirectives,i=t.declaredPipes,s=t.exportedPipes,p=t.entryComponents,l=t.bootstrapComponents,d=t.importedModules,c=t.exportedModules,u=t.schemas,y=t.transitiveModule;this.type=r,this.declaredDirectives=ze(n),this.exportedDirectives=ze(a),this.declaredPipes=ze(i),this.exportedPipes=ze(s),this.providers=ze(o),this.entryComponents=ze(p),this.bootstrapComponents=ze(l),this.importedModules=ze(d),this.exportedModules=ze(c),this.schemas=ze(u),this.transitiveModule=y}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runtimeCacheKey",{get:function(){return this.type.runtimeCacheKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetCacheKey",{get:function(){return this.type.assetCacheKey},enumerable:!0,configurable:!0}),e.prototype.equalsTo=function(e){return this.type.equalsTo(e.identifier)},e}(),ml=function(){return function(e,t,r,o,n){var a=this;this.modules=e,this.providers=t,this.entryComponents=r,this.directives=o,this.pipes=n,this.directivesSet=new Set,this.pipesSet=new Set,o.forEach(function(e){return a.directivesSet.add(e.type.runtime)}),n.forEach(function(e){return a.pipesSet.add(e.type.runtime)})}}(),gl=je("core","linker/view"),fl=je("core","linker/view_utils"),hl=je("core","change_detection/change_detection"),bl=t.ElementRef,_l=t.ViewContainerRef,vl=t.ChangeDetectorRef,Sl=t.RenderComponentType,Cl=t.QueryList,El=t.TemplateRef,xl=t.Injector,Tl=t.ViewEncapsulation,Pl=t.ChangeDetectionStrategy,Ol=t.Renderer,Al=t.SimpleChange,wl=je("core","animation/animation_style_util"),kl=function(){return function(){}}();kl.ANALYZE_FOR_ENTRY_COMPONENTS=new tl({name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:je("core","metadata/di"),runtime:t.ANALYZE_FOR_ENTRY_COMPONENTS}),kl.ViewUtils=new tl({name:"ViewUtils",moduleUrl:je("core","linker/view_utils"),runtime:Fi}),kl.AppView=new tl({name:"AppView",moduleUrl:gl,runtime:Mi}),kl.DebugAppView=new tl({name:"DebugAppView",moduleUrl:gl,runtime:Ii}),kl.AppElement=new tl({name:"AppElement",moduleUrl:je("core","linker/element"),runtime:wi}),kl.ElementRef=new tl({name:"ElementRef",moduleUrl:je("core","linker/element_ref"),runtime:bl}),kl.ViewContainerRef=new tl({name:"ViewContainerRef",moduleUrl:je("core","linker/view_container_ref"),runtime:_l}),kl.ChangeDetectorRef=new tl({name:"ChangeDetectorRef",moduleUrl:je("core","change_detection/change_detector_ref"),runtime:vl}),kl.RenderComponentType=new tl({name:"RenderComponentType",moduleUrl:je("core","render/api"),runtime:Sl}),kl.QueryList=new tl({name:"QueryList",moduleUrl:je("core","linker/query_list"),runtime:Cl}),kl.TemplateRef=new tl({name:"TemplateRef",moduleUrl:je("core","linker/template_ref"),runtime:El}),kl.TemplateRef_=new tl({name:"TemplateRef_",moduleUrl:je("core","linker/template_ref"),runtime:Wi}),kl.CodegenComponentFactoryResolver=new tl({name:"CodegenComponentFactoryResolver",moduleUrl:je("core","linker/component_factory_resolver"),runtime:ki}),kl.ComponentFactoryResolver=new tl({name:"ComponentFactoryResolver",moduleUrl:je("core","linker/component_factory_resolver"),runtime:t.ComponentFactoryResolver}),kl.ComponentFactory=new tl({name:"ComponentFactory",runtime:t.ComponentFactory,moduleUrl:je("core","linker/component_factory")}),kl.NgModuleFactory=new tl({name:"NgModuleFactory",runtime:t.NgModuleFactory,moduleUrl:je("core","linker/ng_module_factory")}),kl.NgModuleInjector=new tl({name:"NgModuleInjector",runtime:Ri,moduleUrl:je("core","linker/ng_module_factory")}),kl.ValueUnwrapper=new tl({name:"ValueUnwrapper",moduleUrl:hl,runtime:qi}),kl.Injector=new tl({name:"Injector",moduleUrl:je("core","di/injector"),runtime:xl}),kl.ViewEncapsulation=new tl({name:"ViewEncapsulation",moduleUrl:je("core","metadata/view"),runtime:Tl}),kl.ViewType=new tl({name:"ViewType",moduleUrl:je("core","linker/view_type"),runtime:Ni}),kl.ChangeDetectionStrategy=new tl({name:"ChangeDetectionStrategy",moduleUrl:hl,runtime:Pl}),kl.StaticNodeDebugInfo=new tl({name:"StaticNodeDebugInfo",moduleUrl:je("core","linker/debug_context"),runtime:Bi}),kl.DebugContext=new tl({name:"DebugContext",moduleUrl:je("core","linker/debug_context"),runtime:Ui}),kl.Renderer=new tl({name:"Renderer",moduleUrl:je("core","render/api"),runtime:Ol}),kl.SimpleChange=new tl({name:"SimpleChange",moduleUrl:hl,runtime:Al}),kl.UNINITIALIZED=new tl({name:"UNINITIALIZED",moduleUrl:hl,runtime:Hi}),kl.ChangeDetectorStatus=new tl({name:"ChangeDetectorStatus",moduleUrl:hl,runtime:Ti}),kl.checkBinding=new tl({name:"checkBinding",moduleUrl:fl,runtime:Vi}),kl.flattenNestedViewRenderNodes=new tl({name:"flattenNestedViewRenderNodes",moduleUrl:fl,runtime:Li}),kl.devModeEqual=new tl({name:"devModeEqual",moduleUrl:hl,runtime:zi}),kl.interpolate=new tl({name:"interpolate",moduleUrl:fl,runtime:ji}),kl.castByValue=new tl({name:"castByValue",moduleUrl:fl,runtime:is}),kl.EMPTY_ARRAY=new tl({name:"EMPTY_ARRAY",moduleUrl:fl,runtime:Qi}),kl.EMPTY_MAP=new tl({name:"EMPTY_MAP",moduleUrl:fl,runtime:Xi}),kl.pureProxies=[null,new tl({name:"pureProxy1",moduleUrl:fl,runtime:Zi}),new tl({name:"pureProxy2",moduleUrl:fl,runtime:Yi}),new tl({name:"pureProxy3",moduleUrl:fl,runtime:$i}),new tl({name:"pureProxy4",moduleUrl:fl,runtime:Ji}),new tl({name:"pureProxy5",moduleUrl:fl,runtime:es}),new tl({name:"pureProxy6",moduleUrl:fl,runtime:ts}),new tl({name:"pureProxy7",moduleUrl:fl,runtime:rs}),new tl({name:"pureProxy8",moduleUrl:fl,runtime:os}),new tl({name:"pureProxy9",moduleUrl:fl,runtime:ns}),new tl({name:"pureProxy10",moduleUrl:fl,runtime:as})],kl.SecurityContext=new tl({name:"SecurityContext",moduleUrl:je("core","security"),runtime:t.SecurityContext}),kl.AnimationKeyframe=new tl({name:"AnimationKeyframe",moduleUrl:je("core","animation/animation_keyframe"),runtime:ms}),kl.AnimationStyles=new tl({name:"AnimationStyles",moduleUrl:je("core","animation/animation_styles"),runtime:gs}),kl.NoOpAnimationPlayer=new tl({name:"NoOpAnimationPlayer",moduleUrl:je("core","animation/animation_player"),runtime:cs}),kl.AnimationGroupPlayer=new tl({name:"AnimationGroupPlayer",moduleUrl:je("core","animation/animation_group_player"),runtime:ys}),kl.AnimationSequencePlayer=new tl({name:"AnimationSequencePlayer",moduleUrl:je("core","animation/animation_sequence_player"),runtime:us}),kl.prepareFinalAnimationStyles=new tl({name:"prepareFinalAnimationStyles",moduleUrl:wl,runtime:vs}),kl.balanceAnimationKeyframes=new tl({name:"balanceAnimationKeyframes",moduleUrl:wl,runtime:Ss}),kl.clearStyles=new tl({name:"clearStyles",moduleUrl:wl,runtime:Cs}),kl.renderStyles=new tl({name:"renderStyles",moduleUrl:wl,runtime:xs}),kl.collectAndResolveStyles=new tl({name:"collectAndResolveStyles",moduleUrl:wl,runtime:Es});var Ml=function(e){function t(){e.call(this,W)}return __extends(t,e),t.prototype.parse=function(t,r,o,n){return void 0===o&&(o=!1),void 0===n&&(n=An),e.prototype.parse.call(this,t,r,o,n)},t}(oi);Ml.decorators=[{type:t.Injectable}],Ml.ctorParameters=[];var Il=["zero","one","two","few","many","other"],Rl=function(){return function(e,t,r){this.nodes=e,this.expanded=t,this.errors=r}}(),Nl=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(Ma),Dl=function(){function e(){this.isExpanded=!1,this.errors=[]}return e.prototype.visitElement=function(e){return new To(e.name,e.attrs,a(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)},e.prototype.visitAttribute=function(e){return e},e.prototype.visitText=function(e){return e},e.prototype.visitComment=function(e){return e},e.prototype.visitExpansion=function(e){return this.isExpanded=!0,"plural"==e.type?Ge(e,this.errors):Ke(e,this.errors)},e.prototype.visitExpansionCase=function(){throw new Error("Should not be reached")},e}(),Vl=function(e){function t(t,r){e.call(this,r,t)}return __extends(t,e),t}(Ma),Ll=function(){return function(e,t){var r=this;this.component=e,this.sourceSpan=t,this.errors=[],this.viewQueries=et(e),this.viewProviders=new il,Ze(e.viewProviders,t,this.errors).forEach(function(e){c(r.viewProviders.get(e.token))&&r.viewProviders.add(e.token,!0)})}}(),jl=function(){function t(e,t,r,o,n,a,i){var s=this;this._viewContext=e,this._parent=t,this._isViewRoot=r,this._directiveAsts=o,this._sourceSpan=i,this._transformedProviders=new il,this._seenProviders=new il,this._hasViewContainer=!1,this._attrs={},n.forEach(function(e){return s._attrs[e.name]=e.value});var p=o.map(function(e){return e.directive});this._allProviders=Ye(p,i,e.errors),this._contentQueries=tt(p);var l=new il;this._allProviders.values().forEach(function(e){s._addQueryReadsTo(e.token,l)}),a.forEach(function(e){s._addQueryReadsTo(new al({value:e.name}),l)}),d(l.get(qe(kl.ViewContainerRef)))&&(this._hasViewContainer=!0),this._allProviders.values().forEach(function(e){var t=e.eager||d(l.get(e.token));t&&s._getOrCreateLocalProvider(e.providerType,e.token,!0)})}return t.prototype.afterElement=function(){var e=this;this._allProviders.values().forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){return this._transformedProviders.values()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var e=this._transformedProviders.values().map(function(e){return e.token.identifier}),t=Ln.clone(this._directiveAsts);return Ln.sort(t,function(t,r){return e.indexOf(t.directive.type)-e.indexOf(r.directive.type)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(e,t){this._getQueriesFor(e).forEach(function(r){var o=d(r.read)?r.read:e;c(t.get(o))&&t.add(o,!0)})},t.prototype._getQueriesFor=function(e){for(var t=[],r=this,o=0,n;null!==r;)n=r._contentQueries.get(e),d(n)&&Ln.addAll(t,n.filter(function(e){return e.descendants||1>=o})),0<r._directiveAsts.length&&o++,r=r._parent;return n=this._viewContext.viewQueries.get(e),d(n)&&Ln.addAll(t,n),t},t.prototype._getOrCreateLocalProvider=function(t,r,o){var n=this,a=this._allProviders.get(r);if(c(a)||(t===e.ProviderAstType.Directive||t===e.ProviderAstType.PublicService)&&a.providerType===e.ProviderAstType.PrivateService||(t===e.ProviderAstType.PrivateService||t===e.ProviderAstType.PublicService)&&a.providerType===e.ProviderAstType.Builtin)return null;var i=this._transformedProviders.get(r);if(d(i))return i;if(d(this._seenProviders.get(r)))return this._viewContext.errors.push(new Vl("Cannot instantiate cyclic dependency! "+r.name,this._sourceSpan)),null;this._seenProviders.add(r,!0);var s=a.providers.map(function(e){var t=e.useValue,r=e.useExisting,i;if(d(e.useExisting)){var s=n._getDependency(a.providerType,new rl({token:e.useExisting}),o);d(s.token)?r=s.token:(r=null,t=s.value)}else if(d(e.useFactory)){var p=d(e.deps)?e.deps:e.useFactory.diDeps;i=p.map(function(e){return n._getDependency(a.providerType,e,o)})}else if(d(e.useClass)){var p=d(e.deps)?e.deps:e.useClass.diDeps;i=p.map(function(e){return n._getDependency(a.providerType,e,o)})}return Qe(e,{useExisting:r,useValue:t,deps:i})});return i=Xe(a,{eager:o,providers:s}),this._transformedProviders.add(r,i),i},t.prototype._getLocalDependency=function(t,r,o){if(void 0===o&&(o=null),r.isAttribute){var n=this._attrs[r.token.value];return new rl({isValue:!0,value:b(n)})}if(d(r.query)||d(r.viewQuery))return r;if(d(r.token)){if(t===e.ProviderAstType.Directive||t===e.ProviderAstType.Component){if(r.token.equalsTo(qe(kl.Renderer))||r.token.equalsTo(qe(kl.ElementRef))||r.token.equalsTo(qe(kl.ChangeDetectorRef))||r.token.equalsTo(qe(kl.TemplateRef)))return r;r.token.equalsTo(qe(kl.ViewContainerRef))&&(this._hasViewContainer=!0)}if(r.token.equalsTo(qe(kl.Injector)))return r;if(d(this._getOrCreateLocalProvider(t,r.token,o)))return r}return null},t.prototype._getDependency=function(t,r,o){void 0===o&&(o=null);var n=this,a=o,i=null;if(r.isSkipSelf||(i=this._getLocalDependency(t,r,o)),r.isSelf)c(i)&&r.isOptional&&(i=new rl({isValue:!0,value:null}));else{for(;c(i)&&d(n._parent);){var s=n;n=n._parent,s._isViewRoot&&(a=!1),i=n._getLocalDependency(e.ProviderAstType.PublicService,r,a)}c(i)&&(i=!r.isHost||this._viewContext.component.type.isHost||qe(this._viewContext.component.type).equalsTo(r.token)||d(this._viewContext.viewProviders.get(r.token))?r:r.isOptional?i=new rl({isValue:!0,value:null}):null)}return c(i)&&this._viewContext.errors.push(new Vl("No provider for "+r.token.name,this._sourceSpan)),i},t}(),Fl=function(){function t(t,r,o){var n=this;this._transformedProviders=new il,this._seenProviders=new il,this._unparsedProviders=[],this._errors=[],this._allProviders=new il;var a=t.transitiveModule.modules.map(function(e){return e.type});a.forEach(function(t){var r=new ol({token:new al({identifier:t}),useClass:t});Je([r],e.ProviderAstType.PublicService,!0,o,n._errors,n._allProviders)}),Je(Ze(t.transitiveModule.providers.concat(r),o,this._errors),e.ProviderAstType.PublicService,!1,o,this._errors,this._allProviders)}return t.prototype.parse=function(){var e=this;if(this._allProviders.values().forEach(function(t){e._getOrCreateLocalProvider(t.token,t.eager)}),0<this._errors.length){var t=this._errors.join("\n");throw new Ts("Provider parse errors:\n"+t)}return this._transformedProviders.values()},t.prototype._getOrCreateLocalProvider=function(e,t){var r=this,o=this._allProviders.get(e);if(c(o))return null;var n=this._transformedProviders.get(e);if(d(n))return n;if(d(this._seenProviders.get(e)))return this._errors.push(new Vl("Cannot instantiate cyclic dependency! "+e.name,o.sourceSpan)),null;this._seenProviders.add(e,!0);var a=o.providers.map(function(e){var n=e.useValue,a=e.useExisting,i;if(d(e.useExisting)){var s=r._getDependency(new rl({token:e.useExisting}),t,o.sourceSpan);d(s.token)?a=s.token:(a=null,n=s.value)}else if(d(e.useFactory)){var p=d(e.deps)?e.deps:e.useFactory.diDeps;i=p.map(function(e){return r._getDependency(e,t,o.sourceSpan)})}else if(d(e.useClass)){var p=d(e.deps)?e.deps:e.useClass.diDeps;i=p.map(function(e){return r._getDependency(e,t,o.sourceSpan)})}return Qe(e,{useExisting:a,useValue:n,deps:i})});return n=Xe(o,{eager:t,providers:a}),this._transformedProviders.add(e,n),n},t.prototype._getDependency=function(e,t,r){void 0===t&&(t=null);var o=!1;!e.isSkipSelf&&d(e.token)&&(e.token.equalsTo(qe(kl.Injector))||e.token.equalsTo(qe(kl.ComponentFactoryResolver))?o=!0:d(this._getOrCreateLocalProvider(e.token,t))&&(o=!0));var n=e;return e.isSelf&&!o&&(e.isOptional?n=new rl({isValue:!0,value:null}):this._errors.push(new Vl("No provider for "+e.token.name,r))),n},t}(),Ul=function(){return function(){}}(),Bl=function(){return function(e,t){this.style=e,this.styleUrls=t}}(),zl=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,Hl=/^([^:\/?#]+):/,ql="select",Wl="ng-content",Gl="link",Kl="rel",Ql="href",Xl="stylesheet",Zl="style",Yl="script",$l="ngNonBindable",Jl="ngProjectAs",ed;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(ed||(ed={}));var td=function(){return function(e,t,r,o,n){this.type=e,this.selectAttr=t,this.hrefAttr=r,this.nonBindable=o,this.projectAs=n}}(),rd=/^(?:(?:(?:(bind-)|(var-)|(let-)|(ref-|#)|(on-)|(bindon-)|(animate-|@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,od="class",nd=Os.parse("*")[0],ad=new t.OpaqueToken("TemplateTransforms"),id=function(e){function t(t,r,o){e.call(this,r,t,o)}return __extends(t,e),t}(Ma),sd=function(){return function(e,t){this.templateAst=e,this.errors=t}}(),pd=function(){function e(e,t,r,o,n){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=r,this._console=o,this.transforms=n}return e.prototype.parse=function(e,t,r,o,n,a){var i=this.tryParse(e,t,r,o,n,a),s=i.errors.filter(function(e){return e.level===ka.WARNING}),p=i.errors.filter(function(e){return e.level===ka.FATAL});if(0<s.length&&this._console.warn("Template parse warnings:\n"+s.join("\n")),0<p.length){var l=p.join("\n");throw new Ts("Template parse errors:\n"+l)}return i.templateAst},e.prototype.tryParse=function(e,t,r,o,n,i){var s;e.template&&(s=On.fromArray(e.template.interpolation));var p=this._htmlParser.parse(t,i,!0,s),l=p.errors,c;if(0==l.length){var u=We(p.rootNodes);l.push.apply(l,u.errors),p=new ri(u.nodes,l)}if(0<p.rootNodes.length){var y=Be(r),m=Be(o),g=new Ll(e,p.rootNodes[0].sourceSpan),f=new ld(g,y,m,n,this._exprParser,this._schemaRegistry);c=a(f,p.rootNodes,md),l.push.apply(l,f.errors.concat(g.errors))}else c=[];return this._assertNoReferenceDuplicationOnTemplate(c,l),0<l.length?new sd(c,l):(d(this.transforms)&&this.transforms.forEach(function(e){c=fe(e,c)}),new sd(c,l))},e.prototype._assertNoReferenceDuplicationOnTemplate=function(e,t){var r=[];e.filter(function(e){return!!e.references}).forEach(function(e){return e.references.forEach(function(e){var o=e.name;if(0>r.indexOf(o))r.push(o);else{var n=new id("Reference \"#"+o+"\" is defined several times",e.sourceSpan,ka.FATAL);t.push(n)}})})},e}();pd.decorators=[{type:t.Injectable}],pd.ctorParameters=[{type:ma},{type:Ul},{type:Ml},{type:ss},{type:Array,decorators:[{type:t.Optional},{type:t.Inject,args:[ad]}]}];var ld=function(){function r(e,t,r,o,n,a){var i=this;this.providerViewContext=e,this._schemas=o,this._exprParser=n,this._schemaRegistry=a,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new As;var s=e.component.template;d(s)&&d(s.interpolation)&&(this._interpolationConfig={start:s.interpolation[0],end:s.interpolation[1]}),Ln.forEachWithIndex(t,function(e,t){var r=Os.parse(e.selector);i.selectorMatcher.addSelectables(r,e),i.directivesIndex.set(e,t)}),this.pipesByName=new Map,r.forEach(function(e){return i.pipesByName.set(e.name,e)})}return r.prototype._reportError=function(e,t,r){void 0===r&&(r=ka.FATAL),this.errors.push(new id(e,t,r))},r.prototype._reportParserErors=function(e,t){for(var r=0,o=e,n;r<o.length;r++)n=o[r],this._reportError(n.message,t)},r.prototype._parseInterpolation=function(e,t){var r=t.start.toString();try{var o=this._exprParser.parseInterpolation(e,r,this._interpolationConfig);if(o&&this._reportParserErors(o.errors,t),this._checkPipes(o,t),d(o)&&o.ast.expressions.length>Di)throw new Ts("Only support at most "+Di+" interpolation values!");return o}catch(o){return this._reportError(""+o,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},r.prototype._parseAction=function(e,t){var r=t.start.toString();try{var o=this._exprParser.parseAction(e,r,this._interpolationConfig);return o&&this._reportParserErors(o.errors,t),!o||o.ast instanceof qn?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",r)):(this._checkPipes(o,t),o)}catch(o){return this._reportError(""+o,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},r.prototype._parseBinding=function(e,t){var r=t.start.toString();try{var o=this._exprParser.parseBinding(e,r,this._interpolationConfig);return o&&this._reportParserErors(o.errors,t),this._checkPipes(o,t),o}catch(o){return this._reportError(""+o,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},r.prototype._parseTemplateBindings=function(e,t){var r=this,o=t.start.toString();try{var n=this._exprParser.parseTemplateBindings(e,o);return this._reportParserErors(n.errors,t),n.templateBindings.forEach(function(e){d(e.expression)&&r._checkPipes(e.expression,t)}),n.warnings.forEach(function(e){r._reportError(e,t,ka.WARNING)}),n.templateBindings}catch(r){return this._reportError(""+r,t),[]}},r.prototype._checkPipes=function(e,t){var r=this;if(d(e)){var o=new fd;e.visit(o),o.pipes.forEach(function(e){r.pipesByName.has(e)||r._reportError("The pipe '"+e+"' could not be found",t)})}},r.prototype.visitExpansion=function(){return null},r.prototype.visitExpansionCase=function(){return null},r.prototype.visitText=function(e,t){var r=t.findNgContentIndex(nd),o=this._parseInterpolation(e.value,e.sourceSpan);return d(o)?new ui(o,r,e.sourceSpan):new ci(e.value,r,e.sourceSpan)},r.prototype.visitAttribute=function(e){return new yi(e.name,e.value,e.sourceSpan)},r.prototype.visitComment=function(){return null},r.prototype.visitElement=function(e,t){var r=this,o=e.name,n=at(e);if(n.type===ed.SCRIPT||n.type===ed.STYLE)return null;if(n.type===ed.STYLESHEET&&ot(n.hrefAttr))return null;var i=[],s=[],p=[],l=[],c=[],u=[],y=[],m=[],g=[],f=!1,h=[],b=z(o.toLowerCase())[1],_=b=="template";e.attrs.forEach(function(e){var t=r._parseAttr(_,e,i,s,c,u,p,l),o=r._parseInlineTemplateBinding(e,m,y,g);o&&f&&r._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",e.sourceSpan),t||o||(h.push(r.visitAttribute(e,null)),i.push([e.name,e.value])),o&&(f=!0)});var v=pt(o,i),S=this._parseDirectives(this.selectorMatcher,v),C=[],E=this._createDirectiveAsts(_,e.name,S,s,p,e.sourceSpan,C),x=this._createElementPropertyAsts(e.name,s,E).concat(c),T=t.isTemplateElement||f,P=new jl(this.providerViewContext,t.providerContext,T,E,h,C,e.sourceSpan),O=a(n.nonBindable?gd:this,e.children,yd.create(_,E,_?t.providerContext:P));P.afterElement();var A=d(n.projectAs)?Os.parse(n.projectAs)[0]:v,w=t.findNgContentIndex(A),k;if(n.type===ed.NG_CONTENT)d(e.children)&&0<e.children.length&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",e.sourceSpan),k=new Ei(this.ngContentCount++,f?null:w,e.sourceSpan);else if(_)this._assertAllEventsPublishedByDirectives(E,u),this._assertNoComponentsNorElementBindingsOnTemplate(E,x,e.sourceSpan),k=new _i(h,u,C,l,P.transformedDirectiveAsts,P.transformProviders,P.transformedHasViewContainer,O,f?null:w,e.sourceSpan);else{this._assertOnlyOneComponent(E,e.sourceSpan);var M=f?null:t.findNgContentIndex(A);k=new bi(o,h,x,u,C,P.transformedDirectiveAsts,P.transformProviders,P.transformedHasViewContainer,O,f?null:M,e.sourceSpan)}if(f){var I=pt("template",m),R=this._parseDirectives(this.selectorMatcher,I),N=this._createDirectiveAsts(!0,e.name,R,y,[],e.sourceSpan,[]),D=this._createElementPropertyAsts(e.name,y,N);this._assertNoComponentsNorElementBindingsOnTemplate(N,D,e.sourceSpan);var V=new jl(this.providerViewContext,t.providerContext,t.isTemplateElement,N,[],[],e.sourceSpan);V.afterElement(),k=new _i([],[],[],g,V.transformedDirectiveAsts,V.transformProviders,V.transformedHasViewContainer,[k],w,e.sourceSpan)}return k},r.prototype._parseInlineTemplateBinding=function(e,t,r,o){var n=null;if(this._normalizeAttributeName(e.name)=="template")n=e.value;else if(e.name.startsWith("*")){var a=e.name.substring("*".length);n=0==e.value.length?a:a+" "+e.value}if(d(n)){for(var s=this._parseTemplateBindings(n,e.sourceSpan),p=0,l;p<s.length;p++)l=s[p],l.keyIsVar?o.push(new hi(l.key,l.name,e.sourceSpan)):d(l.expression)?this._parsePropertyAst(l.key,l.expression,e.sourceSpan,t,r):(t.push([l.key,""]),this._parseLiteralAttr(l.key,null,e.sourceSpan,r));return!0}return!1},r.prototype._parseAttr=function(e,t,r,o,n,a,i,s){var p=this._normalizeAttributeName(t.name),l=t.value,c=p.match(rd),u=!1;if(!(null!==c))u=this._parsePropertyInterpolation(p,l,t.sourceSpan,r,o);else if(u=!0,d(c[1]))this._parsePropertyOrAnimation(c[8],l,t.sourceSpan,r,o,n);else if(d(c[2])){var y=c[8];e?(this._reportError("\"var-\" on <template> elements is deprecated. Use \"let-\" instead!",t.sourceSpan,ka.WARNING),this._parseVariable(y,l,t.sourceSpan,s)):(this._reportError("\"var-\" on non <template> elements is deprecated. Use \"ref-\" instead!",t.sourceSpan,ka.WARNING),this._parseReference(y,l,t.sourceSpan,i))}else if(d(c[3])){if(e){var y=c[8];this._parseVariable(y,l,t.sourceSpan,s)}else this._reportError("\"let-\" is only supported on template elements.",t.sourceSpan);}else if(d(c[4])){var y=c[8];this._parseReference(y,l,t.sourceSpan,i)}else d(c[5])?this._parseEvent(c[8],l,t.sourceSpan,r,a):d(c[6])?(this._parsePropertyOrAnimation(c[8],l,t.sourceSpan,r,o,n),this._parseAssignmentEvent(c[8],l,t.sourceSpan,r,a)):d(c[7])?("@"==p[0]&&d(l)&&0<l.length&&this._reportError("Assigning animation triggers via @prop=\"exp\" attributes with an expression is deprecated. Use property bindings (e.g. [@prop]=\"exp\") instead!",t.sourceSpan,ka.WARNING),this._parseAnimation(c[8],l,t.sourceSpan,r,n)):d(c[9])?(this._parsePropertyOrAnimation(c[9],l,t.sourceSpan,r,o,n),this._parseAssignmentEvent(c[9],l,t.sourceSpan,r,a)):d(c[10])?this._parsePropertyOrAnimation(c[10],l,t.sourceSpan,r,o,n):d(c[11])&&this._parseEvent(c[11],l,t.sourceSpan,r,a);return u||this._parseLiteralAttr(p,l,t.sourceSpan,o),u},r.prototype._normalizeAttributeName=function(e){return e.toLowerCase().startsWith("data-")?e.substring(5):e},r.prototype._parseVariable=function(e,t,r,o){-1<e.indexOf("-")&&this._reportError("\"-\" is not allowed in variable names",r),o.push(new hi(e,t,r))},r.prototype._parseReference=function(e,t,r,o){-1<e.indexOf("-")&&this._reportError("\"-\" is not allowed in reference names",r),o.push(new ud(e,t,r))},r.prototype._parsePropertyOrAnimation=function(e,t,r,o,n,a){"@"==e[0]?this._parseAnimation(e.substr(1),t,r,o,a):this._parsePropertyAst(e,this._parseBinding(t,r),r,o,n)},r.prototype._parseAnimation=function(r,o,n,a,i){d(o)&&0!=o.length||(o="null");var s=this._parseBinding(o,n);a.push([r,s.source]),i.push(new mi(r,e.PropertyBindingType.Animation,t.SecurityContext.NONE,s,null,n))},r.prototype._parsePropertyInterpolation=function(e,t,r,o,n){var a=this._parseInterpolation(t,r);return!!d(a)&&(this._parsePropertyAst(e,a,r,o,n),!0)},r.prototype._parsePropertyAst=function(e,t,r,o,n){o.push([e,t.source]),n.push(new cd(e,t,!1,r))},r.prototype._parseAssignmentEvent=function(e,t,r,o,n){this._parseEvent(e+"Change",t+"=$event",r,o,n)},r.prototype._parseEvent=function(e,t,r,o,n){var a=De(e,[null,e]),i=a[0],s=a[1],p=this._parseAction(t,r);o.push([e,p.source]),n.push(new gi(s,i,p,r))},r.prototype._parseLiteralAttr=function(e,t,r,o){o.push(new cd(e,this._exprParser.wrapLiteralPrimitive(t,""),!0,r))},r.prototype._parseDirectives=function(e,t){var r=this,o=Ln.createFixedSize(this.directivesIndex.size);return e.match(t,function(e,t){o[r.directivesIndex.get(t)]=t}),o.filter(function(e){return d(e)})},r.prototype._createDirectiveAsts=function(e,t,r,o,n,a,i){var s=this,p=new Set,l=null,d=r.map(function(e){var r=new wa(a.start,a.end,"Directive "+e.type.name);e.isComponent&&(l=e);var d=[],c=[],u=[];return s._createDirectiveHostPropertyAsts(t,e.hostProperties,r,d),s._createDirectiveHostEventAsts(e.hostListeners,r,c),s._createDirectivePropertyAsts(e.inputs,o,u),n.forEach(function(t){(0===t.value.length&&e.isComponent||e.exportAs==t.value)&&(i.push(new fi(t.name,qe(e.type),t.sourceSpan)),p.add(t.name))}),new Si(e,u,d,c,r)});return n.forEach(function(t){if(0<t.value.length)Fn.has(p,t.name)||s._reportError("There is no directive with \"exportAs\" set to \""+t.value+"\"",t.sourceSpan);else if(c(l)){var r=null;e&&(r=qe(kl.TemplateRef)),i.push(new fi(t.name,r,t.sourceSpan))}}),d},r.prototype._createDirectiveHostPropertyAsts=function(e,t,r,o){var n=this;d(t)&&Vn.forEach(t,function(t,a){var i=n._parseBinding(t,r);o.push(n._createElementPropertyAst(e,a,i,r))})},r.prototype._createDirectiveHostEventAsts=function(e,t,r){var o=this;d(e)&&Vn.forEach(e,function(e,n){o._parseEvent(n,e,t,[],r)})},r.prototype._createDirectivePropertyAsts=function(e,t,r){if(d(e)){var o=new Map;t.forEach(function(e){var t=o.get(e.name);(c(t)||t.isLiteral)&&o.set(e.name,e)}),Vn.forEach(e,function(e,t){var n=o.get(e);d(n)&&r.push(new vi(t,n.name,n.expression,n.sourceSpan))})}},r.prototype._createElementPropertyAsts=function(e,t,r){var o=this,n=[],a=new Map;return r.forEach(function(e){e.inputs.forEach(function(e){a.set(e.templateName,e)})}),t.forEach(function(t){!t.isLiteral&&c(a.get(t.name))&&n.push(o._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),n},r.prototype._createElementPropertyAst=function(r,o,n,a){var i=null,s=o.split("."),p,l,d;if(1===s.length){var c=s[0];if("@"==c[0])l=c.substr(1),p=e.PropertyBindingType.Animation,d=t.SecurityContext.NONE,"@"==l[0]&&(this._reportError("Assigning animation triggers within host data as attributes such as \"@prop\": \"exp\" is deprecated. Use host bindings (e.g. \"[@prop]\": \"exp\") instead!",a,ka.WARNING),l=l.substr(1));else if(l=this._schemaRegistry.getMappedPropName(c),d=this._schemaRegistry.securityContext(r,l),p=e.PropertyBindingType.Property,!this._schemaRegistry.hasProperty(r,l,this._schemas)){var u="Can't bind to '"+l+"' since it isn't a known property of '"+r+"'.";-1!==r.indexOf("-")&&(u+="\n1. If '"+r+"' is an Angular component and it has '"+l+"' input, then verify that it is part of this module."+("\n2. If '"+r+"' is a Web Component then add \"CUSTOM_ELEMENTS_SCHEMA\" to the '@NgModule.schema' of this component to suppress this message.\n")),this._reportError(u,a)}}else if(s[0]=="attr"){l=s[1],l.toLowerCase().startsWith("on")&&this._reportError("Binding to event attribute '"+l+"' is disallowed "+("for security reasons, please use ("+l.slice(2)+")=..."),a),d=this._schemaRegistry.securityContext(r,this._schemaRegistry.getMappedPropName(l));var y=l.indexOf(":");if(-1<y){var m=l.substring(0,y),g=l.substring(y+1);l=q(m,g)}p=e.PropertyBindingType.Attribute}else s[0]=="class"?(l=s[1],p=e.PropertyBindingType.Class,d=t.SecurityContext.NONE):s[0]=="style"?(i=2<s.length?s[2]:null,l=s[1],p=e.PropertyBindingType.Style,d=t.SecurityContext.STYLE):(this._reportError("Invalid property name '"+o+"'",a),p=null,d=null);return new mi(l,p,d,n,i,a)},r.prototype._findComponentDirectiveNames=function(e){var t=[];return e.forEach(function(e){var r=e.directive.type.name;e.directive.isComponent&&t.push(r)}),t},r.prototype._assertOnlyOneComponent=function(e,t){var r=this._findComponentDirectiveNames(e);1<r.length&&this._reportError("More than one component: "+r.join(","),t)},r.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,r){var o=this,n=this._findComponentDirectiveNames(e);0<n.length&&this._reportError("Components on an embedded template: "+n.join(","),r),t.forEach(function(e){o._reportError("Property binding "+e.name+" not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the \"directives\" section.",r)})},r.prototype._assertAllEventsPublishedByDirectives=function(e,t){var r=this,o=new Set;e.forEach(function(e){Vn.forEach(e.directive.outputs,function(e){o.add(e)})}),t.forEach(function(e){!d(e.target)&&Fn.has(o,e.name)||r._reportError("Event binding "+e.fullName+" not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the \"directives\" section.",e.sourceSpan)})},r}(),dd=function(){function e(){}return e.prototype.visitElement=function(e,t){var r=at(e);if(r.type===ed.SCRIPT||r.type===ed.STYLE||r.type===ed.STYLESHEET)return null;var o=e.attrs.map(function(e){return[e.name,e.value]}),n=pt(e.name,o),i=t.findNgContentIndex(n),s=a(this,e.children,md);return new bi(e.name,a(this,e.attrs),[],[],[],[],[],!1,s,i,e.sourceSpan)},e.prototype.visitComment=function(){return null},e.prototype.visitAttribute=function(e){return new yi(e.name,e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){var r=t.findNgContentIndex(nd);return new ci(e.value,r,e.sourceSpan)},e.prototype.visitExpansion=function(e){return e},e.prototype.visitExpansionCase=function(e){return e},e}(),cd=function(){return function(e,t,r,o){this.name=e,this.expression=t,this.isLiteral=r,this.sourceSpan=o}}(),ud=function(){return function(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}}(),yd=function(){function e(e,t,r,o){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=r,this.providerContext=o}return e.create=function(t,r,o){var n=new As,a=null,s=r.find(function(e){return e.directive.isComponent});if(d(s))for(var p=s.directive.template.ngContentSelectors,l=0,c;l<p.length;l++)c=p[l],"*"===c?a=l:n.addSelectables(Os.parse(p[l]),l);return new e(t,n,a,o)},e.prototype.findNgContentIndex=function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,r){t.push(r)}),Ln.sort(t),d(this._wildcardNgContentIndex)&&t.push(this._wildcardNgContentIndex),0<t.length?t[0]:null},e}(),md=new yd(!0,new As(),null,null),gd=new dd,fd=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e.apply(this,t),this.pipes=new Set}return __extends(t,e),t.prototype.visitPipe=function(e,t){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args,t),null},t}(ca),hd=function(){function e(e){var r=void 0===e?{}:e,o=r.renderTypes,n=void 0===o?new vd:o,a=r.defaultEncapsulation,i=void 0===a?t.ViewEncapsulation.Emulated:a,s=r.genDebugInfo,p=r.logBindingUpdate,l=r.useJit,d=r.deprecatedPlatformDirectives,c=void 0===d?[]:d,u=r.deprecatedPlatformPipes,y=void 0===u?[]:u;this.renderTypes=n,this.defaultEncapsulation=i,this._genDebugInfo=s,this._logBindingUpdate=p,this.useJit=void 0===l||l,this.platformDirectives=c,this.platformPipes=y}return Object.defineProperty(e.prototype,"genDebugInfo",{get:function(){return void 0===this._genDebugInfo?t.isDevMode():this._genDebugInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logBindingUpdate",{get:function(){return void 0===this._logBindingUpdate?t.isDevMode():this._logBindingUpdate},enumerable:!0,configurable:!0}),e}(),bd=function(){function e(){}return Object.defineProperty(e.prototype,"renderer",{get:function(){return he()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderText",{get:function(){return he()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderElement",{get:function(){return he()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderComment",{get:function(){return he()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return he()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderEvent",{get:function(){return he()},enumerable:!0,configurable:!0}),e}(),vd=function(){return function(){this.renderer=kl.Renderer,this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}}(),Sd=function(){return function(){this.startTime=0,this.playTime=0}}(),Cd=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(Sd),Ed=function(e){function t(t,r,o){e.call(this),this.name=t,this.stateDeclarations=r,this.stateTransitions=o}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationEntry(this,t)},t}(Sd),xd=function(e){function t(t,r){e.call(this),this.stateName=t,this.styles=r}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStateDeclaration(this,t)},t}(Cd),Td=function(){return function(e,t){this.fromState=e,this.toState=t}}(),Pd=function(e){function t(t,r){e.call(this),this.stateChanges=t,this.animation=r}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStateTransition(this,t)},t}(Cd),Od=function(e){function t(t,r,o,n,a){e.call(this),this.startingStyles=t,this.keyframes=r,this.duration=o,this.delay=n,this.easing=a}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStep(this,t)},t}(Sd),Ad=function(e){function t(t){e.call(this),this.styles=t}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationStyles(this,t)},t}(Sd),wd=function(e){function t(t,r){e.call(this),this.offset=t,this.styles=r}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationKeyframe(this,t)},t}(Sd),kd=function(e){function t(t){e.call(this),this.steps=t}return __extends(t,e),t}(Sd),Md=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationGroup(this,t)},t}(kd),Id=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.visit=function(e,t){return e.visitAnimationSequence(this,t)},t}(kd),Rd=yn.Math,Nd=function(){function e(e,t){this.time=e,this.value=t}return e.prototype.matches=function(e,t){return e==this.time&&t==this.value},e}(),Dd=function(){function e(){this.styles={}}return e.prototype.insertAtTime=function(e,t,r){var o=new Nd(t,r),n=this.styles[e];d(n)||(n=this.styles[e]=[]);for(var a=0,s=n.length-1;0<=s;s--)if(n[s].time<=t){a=s+1;break}Ln.insert(n,a,o)},e.prototype.getByIndex=function(e,t){var r=this.styles[e];return d(r)?t>=r.length?null:r[t]:null},e.prototype.indexOfAtOrBeforeTime=function(e,t){var r=this.styles[e];if(d(r))for(var o=r.length-1;0<=o;o--)if(r[o].time<=t)return o;return null},e}(),Vd=0,Ld=1,jd=1e3,Fd=function(e){function t(t){e.call(this,null,t)}return __extends(t,e),t.prototype.toString=function(){return""+this.msg},t}(Ma),Ud=function(){return function(e,t){this.ast=e,this.errors=t}}(),Bd=function(){return function(e,t,r){this.duration=e,this.delay=t,this.easing=r}}(),zd=function(){return function(e,t,r,o,n){this.name=e,this.statesMapStatement=t,this.statesVariableName=r,this.fnStatement=o,this.fnVariable=n}}(),Hd=function(){function e(){}return e.prototype.compileComponent=function(e,t){var r=[],o=[],n={},a=e.type.name;if(e.template.animations.forEach(function(e){var t=lt(e),i=e.name;if(0<t.errors.length){var s="Unable to parse the animation sequence for \""+i+"\" due to the following errors:";t.errors.forEach(function(e){s+="\n-- "+e.msg}),o.push(s)}if(n[i])o.push("The animation trigger \""+i+"\" has already been registered on \""+a+"\"");else{var p=a+"_"+e.name,l=new tc(i,p),d=l.build(t.ast);r.push(d),n[e.name]=d}}),Ot(r,t).forEach(function(e){o.push(e.msg)}),0<o.length){var i="Animation parsing for "+e.type.name+" has failed due to the following errors:";throw o.forEach(function(e){return i+="\n- "+e}),new Ts(i)}return r},e}(),qd=Pe("element"),Wd=Pe("defaultStateStyles"),Gd=Pe("view"),Kd=Gd.prop("renderer"),Qd=Pe("currentState"),Xd=Pe("nextState"),Zd=Pe("player"),Yd=Pe("startStateStyles"),$d=Pe("endStateStyles"),Jd=Pe("collectedStyles"),ec=ke([]),tc=function(){function e(e,t){this.animationName=e,this._fnVarName=t+"_factory",this._statesMapVarName=t+"_states",this._statesMapVar=Pe(this._statesMapVarName)}return e.prototype.visitAnimationStyles=function(e,t){var r=[];return t.isExpectingFirstStyleStep&&(r.push(Yd),t.isExpectingFirstStyleStep=!1),e.styles.forEach(function(e){r.push(ke(Vn.keys(e).map(function(t){return[t,Re(e[t])]})))}),Oe(kl.AnimationStyles).instantiate([Oe(kl.collectAndResolveStyles).callFn([Jd,we(r)])])},e.prototype.visitAnimationKeyframe=function(e,t){return Oe(kl.AnimationKeyframe).instantiate([Re(e.offset),e.styles.visit(this,t)])},e.prototype.visitAnimationStep=function(e,t){var r=this;if(t.endStateAnimateStep===e)return this._visitEndStateAnimation(e,t);var o=e.startingStyles.visit(this,t),n=e.keyframes.map(function(e){return e.visit(r,t)});return this._callAnimateMethod(e,o,we(n))},e.prototype._visitEndStateAnimation=function(e,t){var r=this,o=e.startingStyles.visit(this,t),n=e.keyframes.map(function(e){return e.visit(r,t)}),a=Oe(kl.balanceAnimationKeyframes).callFn([Jd,$d,we(n)]);return this._callAnimateMethod(e,o,a)},e.prototype._callAnimateMethod=function(e,t,r){return Kd.callMethod("animate",[qd,t,r,Re(e.duration),Re(e.delay),Re(e.easing)])},e.prototype.visitAnimationSequence=function(e,t){var r=this,o=e.steps.map(function(e){return e.visit(r,t)});return Oe(kl.AnimationSequencePlayer).instantiate([we(o)])},e.prototype.visitAnimationGroup=function(e,t){var r=this,o=e.steps.map(function(e){return e.visit(r,t)});return Oe(kl.AnimationGroupPlayer).instantiate([we(o)])},e.prototype.visitAnimationStateDeclaration=function(e,t){var r={};Pt(e).forEach(function(e){Vn.forEach(e,function(e,t){r[t]=e})}),t.stateMap.registerState(e.stateName,r)},e.prototype.visitAnimationStateTransition=function(e,t){var r=e.animation.steps,o=r[r.length-1];Tt(o)&&(t.endStateAnimateStep=o),t.isExpectingFirstStyleStep=!0;var n=[];e.stateChanges.forEach(function(e){n.push(xt(Qd,e.fromState).and(xt(Xd,e.toState))),e.fromState!=fs&&t.stateMap.registerState(e.fromState),e.toState!=fs&&t.stateMap.registerState(e.toState)});var a=e.animation.visit(this,t),i=n.reduce(function(e,t){return e.or(t)}),s=Zd.equals(bp).and(i);return new kp(s,[Zd.set(a).toStmt()])},e.prototype.visitAnimationEntry=function(e,t){var r=this;e.stateDeclarations.forEach(function(e){return e.visit(r,t)}),t.stateMap.registerState(hs,{});var o=[Gd.callMethod("cancelActiveAnimation",[qd,Re(this.animationName),Xd.equals(Re(bs))]).toStmt(),Jd.set(ec).toDeclStmt(),Zd.set(bp).toDeclStmt(),Wd.set(this._statesMapVar.key(Re(hs))).toDeclStmt(),Yd.set(this._statesMapVar.key(Qd)).toDeclStmt(),new kp(Yd.equals(bp),[Yd.set(Wd).toStmt()]),$d.set(this._statesMapVar.key(Xd)).toDeclStmt(),new kp($d.equals(bp),[$d.set(Wd).toStmt()])],n=Oe(kl.renderStyles);return o.push(n.callFn([qd,Kd,Oe(kl.clearStyles).callFn([Yd])]).toStmt()),e.stateTransitions.forEach(function(e){return o.push(e.visit(r,t))}),o.push(new kp(Zd.equals(bp),[Zd.set(Oe(kl.NoOpAnimationPlayer).instantiate([])).toStmt()])),o.push(Zd.callMethod("onDone",[Ie([],[n.callFn([qd,Kd,Oe(kl.prepareFinalAnimationStyles).callFn([Yd,$d])]).toStmt()])]).toStmt()),o.push(Gd.callMethod("queueAnimation",[qd,Re(this.animationName),Zd]).toStmt()),Ie([new lp(Gd.name,Ae(kl.AppView,[zs])),new lp(qd.name,zs),new lp(Qd.name,zs),new lp(Xd.name,zs)],o)},e.prototype.build=function(e){var t=new rc,r=e.visit(this,t).toDeclStmt(this._fnVarName),o=Pe(this._fnVarName),n=[];Vn.forEach(t.stateMap.states,function(e,t){var r=ec;if(d(e)){var o=[];Vn.forEach(e,function(e,t){o.push([t,Re(e)])}),r=ke(o)}n.push([t,r])});var a=this._statesMapVar.set(ke(n)).toDeclStmt();return new zd(this.animationName,a,this._statesMapVarName,r,o)},e}(),rc=function(){return function(){this.stateMap=new oc,this.endStateAnimateStep=null,this.isExpectingFirstStyleStep=!1}}(),oc=function(){function e(){this._states={}}return Object.defineProperty(e.prototype,"states",{get:function(){return this._states},enumerable:!0,configurable:!0}),e.prototype.registerState=function(e,t){void 0===t&&(t=null);var r=this._states[e];c(r)&&(this._states[e]=t)},e}(),nc=function(){function t(e){var t=this;this._animationRegistry={},this.errors=[],e.forEach(function(e){t._animationRegistry[e.name]=!0})}return t.prototype.visitElement=function(t){var r=this;t.inputs.forEach(function(t){if(t.type==e.PropertyBindingType.Animation){var o=t.name;d(r._animationRegistry[o])||r.errors.push(new Fd("couldn't find an animation entry for "+o))}}),fe(this,t.children)},t.prototype.visitBoundText=function(){},t.prototype.visitText=function(){},t.prototype.visitEmbeddedTemplate=function(){},t.prototype.visitNgContent=function(){},t.prototype.visitAttr=function(){},t.prototype.visitDirective=function(){},t.prototype.visitEvent=function(){},t.prototype.visitReference=function(){},t.prototype.visitVariable=function(){},t.prototype.visitDirectiveProperty=function(){},t.prototype.visitElementProperty=function(){},t}(),ac=function(){function e(){}return e.prototype.visitArray=function(e,t){var r=this;return we(e.map(function(e){return Le(e,r,null)}),t)},e.prototype.visitStringMap=function(e,t){var r=this,o=[];return Vn.forEach(e,function(e,t){o.push([t,Le(e,r,null)])}),ke(o,t)},e.prototype.visitPrimitive=function(e,t){return Re(e,t)},e.prototype.visitOther=function(e){if(e instanceof tl)return Oe(e);if(e instanceof Qs)return e;throw new Ts("Illegal state: Don't now how to compile value "+e)},e}(),ic=function(){return function(e,t){this.nodeIndex=e,this.sourceAst=t}}(),sc=new ic(null,null),pc=function(){function e(e){this._view=e,this._newState=sc,this._currState=sc,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return e.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var e=this._updateDebugContext(this._newState);d(e)&&this._bodyStatements.push(e.toStmt())}},e.prototype._updateDebugContext=function(e){if(this._currState=this._newState=e,this._debugEnabled){var t=d(e.sourceAst)?e.sourceAst.sourceSpan.start:null;return fp.callMethod("debug",[Re(e.nodeIndex),d(t)?Re(t.line):bp,d(t)?Re(t.col):bp])}return null},e.prototype.resetDebugInfoExpr=function(e,t){var r=this._updateDebugContext(new ic(e,t));return d(r)?r:bp},e.prototype.resetDebugInfo=function(e,t){this._newState=new ic(e,t)},e.prototype.addStmt=function(e){this._updateDebugContextIfNeeded(),this._bodyStatements.push(e)},e.prototype.addStmts=function(e){this._updateDebugContextIfNeeded(),Ln.addAll(this._bodyStatements,e)},e.prototype.finish=function(){return this._bodyStatements},e.prototype.isEmpty=function(){return 0===this._bodyStatements.length},e}(),lc=function(){return function(e,t){this.view=e,this.values=t}}(),dc=function(){function e(e,t,r,o){this.meta=e,this.queryList=t,this.ownerDirectiveExpression=r,this.view=o,this._values=new lc(o,[])}return e.prototype.addValue=function(e,t){for(var r=t,o=[],n;d(r)&&r!==this.view;)n=r.declarationElement,o.unshift(n),r=n.view;var a=wt(this.queryList,t,this.view),i=this._values;o.forEach(function(e){var t=0<i.values.length?i.values[i.values.length-1]:null;if(t instanceof lc&&t.view===e.embeddedView)i=t;else{var r=new lc(e.embeddedView,[]);i.values.push(r),i=r}}),i.values.push(e),0<o.length&&t.dirtyParentQueriesMethod.addStmt(a.callMethod("setDirty",[]).toStmt())},e.prototype._isStatic=function(){return!this._values.values.some(function(e){return e instanceof lc})},e.prototype.afterChildren=function(e,t){var r=Nt(this._values),o=[this.queryList.callMethod("reset",[we(r)]).toStmt()];if(d(this.ownerDirectiveExpression)){var n=this.meta.first?this.queryList.prop("first"):this.queryList;o.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(n).toStmt())}this.meta.first||o.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),this.meta.first&&this._isStatic()?e.addStmts(o):t.addStmt(new kp(this.queryList.prop("dirty"),o))},e}(),cc=function(){function e(){}return e.fromValue=function(e){return jt(kl.ViewType,e)},e}();cc.HOST=cc.fromValue(Ni.HOST),cc.COMPONENT=cc.fromValue(Ni.COMPONENT),cc.EMBEDDED=cc.fromValue(Ni.EMBEDDED);var uc=function(){function e(){}return e.fromValue=function(e){return jt(kl.ViewEncapsulation,e)},e}();uc.Emulated=uc.fromValue(t.ViewEncapsulation.Emulated),uc.Native=uc.fromValue(t.ViewEncapsulation.Native),uc.None=uc.fromValue(t.ViewEncapsulation.None);var yc=function(){function e(){}return e.fromValue=function(e){return jt(kl.ChangeDetectionStrategy,e)},e}();yc.OnPush=yc.fromValue(t.ChangeDetectionStrategy.OnPush),yc.Default=yc.fromValue(t.ChangeDetectionStrategy.Default);var mc=function(){function e(){}return e.fromValue=function(e){return jt(kl.ChangeDetectorStatus,e)},e}();mc.CheckOnce=mc.fromValue(Ti.CheckOnce),mc.Checked=mc.fromValue(Ti.Checked),mc.CheckAlways=mc.fromValue(Ti.CheckAlways),mc.Detached=mc.fromValue(Ti.Detached),mc.Errored=mc.fromValue(Ti.Errored),mc.Destroyed=mc.fromValue(Ti.Destroyed);var gc=function(){return function(){}}();gc.viewUtils=Pe("viewUtils"),gc.parentInjector=Pe("parentInjector"),gc.declarationEl=Pe("declarationEl");var fc=function(){return function(){}}();fc.renderer=fp.prop("renderer"),fc.projectableNodes=fp.prop("projectableNodes"),fc.viewUtils=fp.prop("viewUtils");var hc=function(){return function(){}}();hc.event=Pe("$event");var bc=function(){return function(){}}();bc.token=Pe("token"),bc.requestNodeIndex=Pe("requestNodeIndex"),bc.notFoundResult=Pe("notFoundResult");var _c=function(){return function(){}}();_c.throwOnChange=Pe("throwOnChange"),_c.changes=Pe("changes"),_c.changed=Pe("changed"),_c.valUnwrapper=Pe("valUnwrapper");var vc=function(){function e(e,t,r,o,n){this.parent=e,this.view=t,this.nodeIndex=r,this.renderNode=o,this.sourceAst=n}return e.prototype.isNull=function(){return c(this.renderNode)},e.prototype.isRootElement=function(){return this.view!=this.parent.view},e}(),Sc=function(t){function r(e,r,o,n,a,i,s,p,l,c,u){var y=this;t.call(this,e,r,o,n,a),this.component=i,this._directives=s,this._resolvedProvidersArray=p,this.hasViewContainer=l,this.hasEmbeddedView=c,this._compViewExpr=null,this.instances=new il,this._queryCount=0,this._queries=new il,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},u.forEach(function(e){return y.referenceTokens[e.name]=e.value}),this.elementRef=Oe(kl.ElementRef).instantiate([this.renderNode]),this.instances.add(qe(kl.ElementRef),this.elementRef),this.injector=fp.callMethod("injector",[Re(this.nodeIndex)]),this.instances.add(qe(kl.Injector),this.injector),this.instances.add(qe(kl.Renderer),fp.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||d(this.component))&&this._createAppElement()}return __extends(r,t),r.createNull=function(){return new r(null,null,null,null,null,null,[],[],!1,!1,[])},r.prototype._createAppElement=function(){var e="_appEl_"+this.nodeIndex,t=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new Pp(e,Ae(kl.AppElement),[_p.Private]));var r=fp.prop(e).set(Oe(kl.AppElement).instantiate([Re(this.nodeIndex),Re(t),fp,this.renderNode])).toStmt();this.view.createMethod.addStmt(r),this.appElement=fp.prop(e),this.instances.add(qe(kl.AppElement),this.appElement)},r.prototype.createComponentFactoryResolver=function(t){if(t&&0!==t.length){var r=Oe(kl.CodegenComponentFactoryResolver).instantiate([we(t.map(function(e){return Oe(e)})),kt(qe(kl.ComponentFactoryResolver),!1)]),o=new ol({token:qe(kl.ComponentFactoryResolver),useValue:r});this._resolvedProvidersArray.unshift(new Ci(o.token,!1,!0,[o],e.ProviderAstType.PrivateService,[],this.sourceAst.sourceSpan))}},r.prototype.setComponentView=function(e){this._compViewExpr=e,this.contentNodesByNgContentIndex=Ln.createFixedSize(this.component.template.ngContentSelectors.length);for(var t=0;t<this.contentNodesByNgContentIndex.length;t++)this.contentNodesByNgContentIndex[t]=[]},r.prototype.setEmbeddedView=function(t){if(this.embeddedView=t,d(t)){var r=Oe(kl.TemplateRef_).instantiate([this.appElement,this.embeddedView.viewFactory]),o=new ol({token:qe(kl.TemplateRef),useValue:r});this._resolvedProvidersArray.unshift(new Ci(o.token,!1,!0,[o],e.ProviderAstType.Builtin,[],this.sourceAst.sourceSpan))}},r.prototype.beforeChildren=function(){var e=this;this.hasViewContainer&&this.instances.add(qe(kl.ViewContainerRef),this.appElement.prop("vcRef")),this._resolvedProviders=new il,this._resolvedProvidersArray.forEach(function(t){return e._resolvedProviders.add(t.token,t)}),this._resolvedProviders.values().forEach(function(t){var r=t.providers.map(function(r){if(d(r.useExisting))return e._getDependency(t.providerType,new rl({token:r.useExisting}));if(d(r.useFactory)){var o=d(r.deps)?r.deps:r.useFactory.diDeps,n=o.map(function(r){return e._getDependency(t.providerType,r)});return Oe(r.useFactory).callFn(n)}if(d(r.useClass)){var o=d(r.deps)?r.deps:r.useClass.diDeps,n=o.map(function(r){return e._getDependency(t.providerType,r)});return Oe(r.useClass).instantiate(n,Ae(r.useClass))}return At(r.useValue)}),o="_"+t.token.name+"_"+e.nodeIndex+"_"+e.instances.size,n=Ut(o,t,r,t.multiProvider,t.eager,e);e.instances.add(t.token,n)});for(var t=0;t<this._directives.length;t++){var r=this._directives[t],o=this.instances.get(qe(r.type));r.queries.forEach(function(t){e._addQuery(t,o)})}var n=[];if(this._resolvedProviders.values().forEach(function(t){var r=e._getQueriesFor(t.token);Ln.addAll(n,r.map(function(e){return new Cc(e,t.token)}))}),Vn.forEach(this.referenceTokens,function(t,r){var o=e.referenceTokens[r],a;a=d(o)?e.instances.get(o):e.renderNode,e.view.locals.set(r,a);var i=new al({value:r});Ln.addAll(n,e._getQueriesFor(i).map(function(e){return new Cc(e,i)}))}),n.forEach(function(t){var r;if(d(t.read.identifier))r=e.instances.get(t.read);else{var o=e.referenceTokens[t.read.value];r=d(o)?e.instances.get(o):e.elementRef}d(r)&&t.query.addValue(r,e.view)}),d(this.component)){var a=d(this.component)?we(this._componentConstructorViewQueryLists):bp,s=d(this.getComponent())?this.getComponent():bp;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[s,a,this._compViewExpr]).toStmt())}},r.prototype.afterChildren=function(t){var r=this;this._resolvedProviders.values().forEach(function(o){var n=r.instances.get(o.token),a=o.providerType===e.ProviderAstType.PrivateService?0:t;r.view.injectorGetMethod.addStmt(Ft(r.nodeIndex,a,o,n))}),this._queries.values().forEach(function(e){return e.forEach(function(e){return e.afterChildren(r.view.createMethod,r.view.updateContentQueriesMethod)})})},r.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},r.prototype.getComponent=function(){return d(this.component)?this.instances.get(qe(this.component.type)):null},r.prototype.getProviderTokens=function(){return this._resolvedProviders.values().map(function(e){return Fe(e.token)})},r.prototype._getQueriesFor=function(e){for(var t=[],r=this,o=0,n;!r.isNull();)n=r._queries.get(e),d(n)&&Ln.addAll(t,n.filter(function(e){return e.meta.descendants||1>=o})),0<r._directives.length&&o++,r=r.parent;return n=this.view.componentView.viewQueries.get(e),d(n)&&Ln.addAll(t,n),t},r.prototype._addQuery=function(e,t){var r="_query_"+e.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,o=Vt(e,t,r,this.view),n=new dc(e,o,t,this.view);return Lt(this._queries,n),n},r.prototype._getLocalDependency=function(t,r){var o=null;if(c(o)&&d(r.query)&&(o=this._addQuery(r.query,null).queryList),c(o)&&d(r.viewQuery)&&(o=Vt(r.viewQuery,null,"_viewQuery_"+r.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(o)),d(r.token)){if(c(o)&&r.token.equalsTo(qe(kl.ChangeDetectorRef)))return t===e.ProviderAstType.Component?this._compViewExpr.prop("ref"):wt(fp.prop("ref"),this.view,this.view.componentView);if(c(o)){var n=this._resolvedProviders.get(r.token);if(n&&(t===e.ProviderAstType.Directive||t===e.ProviderAstType.PublicService)&&n.providerType===e.ProviderAstType.PrivateService)return null;o=this.instances.get(r.token)}}return o},r.prototype._getDependency=function(t,r){var o=this,n=null;for(r.isValue&&(n=Re(r.value)),c(n)&&!r.isSkipSelf&&(n=this._getLocalDependency(t,r));c(n)&&!o.parent.isNull();)o=o.parent,n=o._getLocalDependency(e.ProviderAstType.PublicService,new rl({token:r.token}));return c(n)&&(n=kt(r.token,r.isOptional)),c(n)&&(n=bp),wt(n,this.view,o.view)},r}(vc),Cc=function(){return function(e,t){this.query=e,this.read=d(e.meta.read)?e.meta.read:t}}(),Ec=function(){function e(e,t){var r=this;this.view=e,this.meta=t,this._purePipeProxyCount=0,this.instance=fp.prop("_pipe_"+t.name+"_"+e.pipeCount++);var o=this.meta.type.diDeps.map(function(e){return e.token.equalsTo(qe(kl.ChangeDetectorRef))?wt(fp.prop("ref"),r.view,r.view.componentView):kt(e.token,!1)});this.view.fields.push(new Pp(this.instance.name,Ae(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(fp.prop(this.instance.name).set(Oe(this.meta.type).instantiate(o)).toStmt())}return e.call=function(t,r,o){var n=t.componentView,a=Bt(n,r),i;return a.pure?(i=n.purePipes.get(r),c(i)&&(i=new e(n,a),n.purePipes.set(r,i),n.pipes.push(i))):(i=new e(t,a),t.pipes.push(i)),i._call(t,o)},Object.defineProperty(e.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),e.prototype._call=function(e,t){if(this.meta.pure){var r=fp.prop(this.instance.name+"_"+this._purePipeProxyCount++),o=wt(this.instance,e,this.view);return Rt(o.prop("transform").callMethod(ep.bind,[o]),t.length,r,e),Oe(kl.castByValue).callFn([r,o.prop("transform")]).callFn(t)}return wt(this.instance,e,this.view).callMethod("transform",t)},e}(),xc=function(){function e(e,t,r,o,n,a,i,s){var p=this;this.component=e,this.genConfig=t,this.pipeMetas=r,this.styles=o,this.animations=n,this.viewIndex=a,this.declarationElement=i,this.templateVariableBindings=s,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new pc(this),this.injectorGetMethod=new pc(this),this.updateContentQueriesMethod=new pc(this),this.dirtyParentQueriesMethod=new pc(this),this.updateViewQueriesMethod=new pc(this),this.detectChangesInInputsMethod=new pc(this),this.detectChangesRenderPropertiesMethod=new pc(this),this.afterContentLifecycleCallbacksMethod=new pc(this),this.afterViewLifecycleCallbacksMethod=new pc(this),this.destroyMethod=new pc(this),this.detachMethod=new pc(this),this.viewType=zt(e,a),this.className="_View_"+e.type.name+a,this.classType=Ae(new tl({name:this.className})),this.viewFactory=Pe(Mt(e,a)),this.componentView=this.viewType===Ni.COMPONENT||this.viewType===Ni.HOST?this:this.declarationElement.view.componentView,this.componentContext=wt(fp.prop("context"),this,this.componentView);var l=new il;if(this.viewType===Ni.COMPONENT){var c=fp.prop("context");Ln.forEachWithIndex(this.component.viewQueries,function(e,t){var r="_viewQuery_"+e.selectors[0].name+"_"+t,o=Vt(e,c,r,p),n=new dc(e,o,c,p);Lt(l,n)});var u=0;this.component.type.diDeps.forEach(function(e){if(d(e.viewQuery)){var t=fp.prop("declarationAppElement").prop("componentConstructorViewQueries").key(Re(u++)),r=new dc(e.viewQuery,t,null,p);Lt(l,r)}})}this.viewQueries=l,s.forEach(function(e){p.locals.set(e[1],fp.prop("context").prop(e[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return e.prototype.callPipe=function(e,t,r){return Ec.call(this,e,[t].concat(r))},e.prototype.getLocal=function(e){if(e==hc.event.name)return hc.event;for(var t=this,r=t.locals.get(e);c(r)&&d(t.declarationElement.view);)t=t.declarationElement.view,r=t.locals.get(e);return d(r)?wt(r,this,t):null},e.prototype.createLiteralArray=function(e){if(0===e.length)return Oe(kl.EMPTY_ARRAY);for(var t=fp.prop("_arr_"+this.literalArrayCount++),r=[],o=[],n=0,a;n<e.length;n++)a="p"+n,r.push(new lp(a)),o.push(Pe(a));return Rt(Ie(r,[new xp(we(o))],new Us(zs)),e.length,t,this),t.callFn(e)},e.prototype.createLiteralMap=function(e){if(0===e.length)return Oe(kl.EMPTY_MAP);for(var t=fp.prop("_map_"+this.literalMapCount++),r=[],o=[],n=[],a=0,s;a<e.length;a++)s="p"+a,r.push(new lp(s)),o.push([e[a][0],Pe(s)]),n.push(e[a][1]);return Rt(Ie(r,[new xp(ke(o))],new Bs(zs)),e.length,t,this),t.callFn(n)},e.prototype.afterNodes=function(){var e=this;this.viewQueries.values().forEach(function(t){return t.forEach(function(t){return t.afterChildren(e.createMethod,e.updateViewQueriesMethod)})})},e}(),Tc=function(){return function(e,t){this.node=e,this.sourceAst=t}}(),Pc=function(){return function(e,t){this.expression=e,this.needsValueUnwrapper=t}}(),Oc;!function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(Oc||(Oc={}));var Ac=function(){function e(e,t,r){this._nameResolver=e,this._implicitReceiver=t,this._valueUnwrapper=r,this._map=new Map,this.needsValueUnwrapper=!1}return e.prototype.visitBinary=function(e,t){var r;switch(e.operation){case"+":r=Ks.Plus;break;case"-":r=Ks.Minus;break;case"*":r=Ks.Multiply;break;case"/":r=Ks.Divide;break;case"%":r=Ks.Modulo;break;case"&&":r=Ks.And;break;case"||":r=Ks.Or;break;case"==":r=Ks.Equals;break;case"!=":r=Ks.NotEquals;break;case"===":r=Ks.Identical;break;case"!==":r=Ks.NotIdentical;break;case"<":r=Ks.Lower;break;case">":r=Ks.Bigger;break;case"<=":r=Ks.LowerEquals;break;case">=":r=Ks.BiggerEquals;break;default:throw new Ts("Unsupported operation "+e.operation);}return Kt(t,new cp(r,this.visit(e.left,Oc.Expression),this.visit(e.right,Oc.Expression)))},e.prototype.visitChain=function(e,t){return Wt(t,e),this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){var r=this.visit(e.condition,Oc.Expression);return Kt(t,r.conditional(this.visit(e.trueExp,Oc.Expression),this.visit(e.falseExp,Oc.Expression)))},e.prototype.visitPipe=function(e,t){var r=this.visit(e.exp,Oc.Expression),o=this.visitAll(e.args,Oc.Expression),n=this._nameResolver.callPipe(e.name,r,o);return this.needsValueUnwrapper=!0,Kt(t,this._valueUnwrapper.callMethod("unwrap",[n]))},e.prototype.visitFunctionCall=function(e,t){return Kt(t,this.visit(e.target,Oc.Expression).callFn(this.visitAll(e.args,Oc.Expression)))},e.prototype.visitImplicitReceiver=function(e,t){return Gt(t,e),this._implicitReceiver},e.prototype.visitInterpolation=function(e,t){Gt(t,e);for(var r=[Re(e.expressions.length)],o=0;o<e.strings.length-1;o++)r.push(Re(e.strings[o])),r.push(this.visit(e.expressions[o],Oc.Expression));return r.push(Re(e.strings[e.strings.length-1])),Oe(kl.interpolate).callFn(r)},e.prototype.visitKeyedRead=function(e,t){return Kt(t,this.visit(e.obj,Oc.Expression).key(this.visit(e.key,Oc.Expression)))},e.prototype.visitKeyedWrite=function(e,t){var r=this.visit(e.obj,Oc.Expression),o=this.visit(e.key,Oc.Expression),n=this.visit(e.value,Oc.Expression);return Kt(t,r.key(o).set(n))},e.prototype.visitLiteralArray=function(e,t){return Kt(t,this._nameResolver.createLiteralArray(this.visitAll(e.expressions,t)))},e.prototype.visitLiteralMap=function(e,t){for(var r=[],o=0;o<e.keys.length;o++)r.push([e.keys[o],this.visit(e.values[o],Oc.Expression)]);return Kt(t,this._nameResolver.createLiteralMap(r))},e.prototype.visitLiteralPrimitive=function(e,t){return Kt(t,Re(e.value))},e.prototype.visitMethodCall=function(e,t){var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var o=this.visitAll(e.args,Oc.Expression),n=null,a=this.visit(e.receiver,Oc.Expression);if(a===this._implicitReceiver){var i=this._nameResolver.getLocal(e.name);d(i)&&(n=i.callFn(o))}return c(n)&&(n=a.callMethod(e.name,o)),Kt(t,n)},e.prototype.visitPrefixNot=function(e,t){return Kt(t,Me(this.visit(e.expression,Oc.Expression)))},e.prototype.visitPropertyRead=function(e,t){var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var o=null,n=this.visit(e.receiver,Oc.Expression);return n===this._implicitReceiver&&(o=this._nameResolver.getLocal(e.name)),c(o)&&(o=n.prop(e.name)),Kt(t,o)},e.prototype.visitPropertyWrite=function(e,t){var r=this.visit(e.receiver,Oc.Expression);if(r===this._implicitReceiver){var o=this._nameResolver.getLocal(e.name);if(d(o))throw new Ts("Cannot assign to a reference or variable!")}return Kt(t,r.prop(e.name).set(this.visit(e.value,Oc.Expression)))},e.prototype.visitSafePropertyRead=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitSafeMethodCall=function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)},e.prototype.visitAll=function(e,t){var r=this;return e.map(function(e){return r.visit(e,t)})},e.prototype.visitQuote=function(){throw new Ts("Quotes are not supported for evaluation!")},e.prototype.visit=function(e,t){return(this._map.get(e)||e).visit(this,t)},e.prototype.convertSafeAccess=function(e,t,r){var o=this.visit(t.receiver,r).isBlank();t instanceof sa?this._map.set(t,new ia(t.span,t.receiver,t.name,t.args)):this._map.set(t,new Qn(t.span,t.receiver,t.name));var n=this.visit(e,r);return this._map.delete(t),o.conditional(Re(null),n)},e.prototype.leftMostSafeNode=function(e){var t=this,r=function(e,r){return(t._map.get(r)||r).visit(e)};return e.visit({visitBinary:function(){return null},visitChain:function(){return null},visitConditional:function(){return null},visitFunctionCall:function(){return null},visitImplicitReceiver:function(){return null},visitInterpolation:function(){return null},visitKeyedRead:function(e){return r(this,e.obj)},visitKeyedWrite:function(){return null},visitLiteralArray:function(){return null},visitLiteralMap:function(){return null},visitLiteralPrimitive:function(){return null},visitMethodCall:function(e){return r(this,e.receiver)},visitPipe:function(){return null},visitPrefixNot:function(){return null},visitPropertyRead:function(e){return r(this,e.receiver)},visitPropertyWrite:function(){return null},visitQuote:function(){return null},visitSafeMethodCall:function(e){return r(this,e.receiver)||e},visitSafePropertyRead:function(e){return r(this,e.receiver)||e}})},e}(),wc=function(){function e(e,t,r,o){this.compileElement=e,this.eventTarget=t,this.eventName=r,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new pc(e.view),this._methodName="_handle_"+er(r)+"_"+e.nodeIndex+"_"+o,this._eventParam=new lp(hc.event.name,Ae(this.compileElement.view.genConfig.renderTypes.renderEvent))}return e.getOrCreate=function(t,r,o,n){var a=n.find(function(e){return e.eventTarget==r&&e.eventName==o});return c(a)&&(a=new e(t,r,o,n.length),n.push(a)),a},e.prototype.addAction=function(e,t,r){d(t)&&t.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,e);var o=d(r)?r:this.compileElement.view.componentContext,n=qt(this.compileElement.view,o,e.handler),a=n.length-1;if(0<=a){var i=n[a],s=Jt(i),p=Pe("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(p),d(s)&&(n[a]=p.set(s.cast(zs).notIdentical(Re(!1))).toDeclStmt(null,[_p.Final]))}this._method.addStmts(n)},e.prototype.finishMethod=function(){var e=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):fp,t=Re(!0);this._actionResultExprs.forEach(function(e){t=t.and(e)});var r=[e.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new xp(t)]);this.compileElement.view.eventHandlerMethods.push(new Op(this._methodName,[this._eventParam],r,Hs,[_p.Private]))},e.prototype.listenToRenderer=function(){var e=fp.callMethod("eventHandler",[fp.prop(this._methodName).callMethod(ep.bind,[fp])]),t;t=d(this.eventTarget)?fc.renderer.callMethod("listenGlobal",[Re(this.eventTarget),Re(this.eventName),e]):fc.renderer.callMethod("listen",[this.compileElement.renderNode,Re(this.eventName),e]);var r=Pe("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(r),this.compileElement.view.createMethod.addStmt(r.set(t).toDeclStmt(Gs,[_p.Private]))},e.prototype.listenToDirective=function(e,t){var r=Pe("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(r);var o=fp.callMethod("eventHandler",[fp.prop(this._methodName).callMethod(ep.bind,[fp])]);this.compileElement.view.createMethod.addStmt(r.set(e.prop(t).callMethod(ep.SubscribeObservable,[o])).toDeclStmt(null,[_p.Final]))},e}(),kc=fp.prop("numberOfChecks").identical(new np(0)),Mc=Me(_c.throwOnChange),Ic=new Map,Rc=function(){function e(e){this.view=e,this._nodeIndex=0}return e.prototype.visitBoundText=function(e){var t=this.view.nodes[this._nodeIndex++];return lr(e,t,this.view),null},e.prototype.visitText=function(){return this._nodeIndex++,null},e.prototype.visitNgContent=function(){return null},e.prototype.visitElement=function(e){var t=this.view.nodes[this._nodeIndex++],r=Xt(e.outputs,e.directives,t);return ur(e.inputs,t),Yt(r),e.directives.forEach(function(e){var o=t.instances.get(qe(e.directive.type));mr(e,o,t),tr(e,o,t),yr(e,o,t),Zt(e,o,r)}),fe(this,e.children,t),e.directives.forEach(function(e){var r=t.instances.get(qe(e.directive.type));rr(e.directive,r,t),or(e.directive,r,t)}),e.providers.forEach(function(e){var r=t.instances.get(e.token);nr(e,r,t)}),null},e.prototype.visitEmbeddedTemplate=function(e){var t=this.view.nodes[this._nodeIndex++],r=Xt(e.outputs,e.directives,t);return e.directives.forEach(function(e){var o=t.instances.get(qe(e.directive.type));mr(e,o,t),tr(e,o,t),Zt(e,o,r),rr(e.directive,o,t),or(e.directive,o,t)}),e.providers.forEach(function(e){var r=t.instances.get(e.token);nr(e,r,t)}),fr(t.embeddedView,e.children),null},e.prototype.visitAttr=function(){return null},e.prototype.visitDirective=function(){return null},e.prototype.visitEvent=function(){return null},e.prototype.visitReference=function(){return null},e.prototype.visitVariable=function(){return null},e.prototype.visitDirectiveProperty=function(){return null},e.prototype.visitElementProperty=function(){return null},e}(),Nc="class",Dc="style",Vc="ng-container",Lc=Pe("parentRenderNode"),jc=Pe("rootSelector"),Fc=function(){return function(e,t){this.comp=e,this.placeholder=t}}(),Uc=function(){return function(e,t){this.comp=e,this.placeholder=t}}(),Bc=function(){function e(e,t){this.view=e,this.targetDependencies=t,this.nestedViewCount=0,this._animationCompiler=new Hd}return e.prototype._isRootNode=function(e){return e.view!==this.view},e.prototype._addRootNodeAndProject=function(e){var t=_r(e),r=t.parent,o=t.sourceAst.ngContentIndex,n=e instanceof Sc&&e.hasViewContainer?e.appElement:null;this._isRootNode(r)?this.view.viewType!==Ni.COMPONENT&&this.view.rootNodesOrAppElements.push(d(n)?n:e.renderNode):d(r.component)&&d(o)&&r.addContentNode(o,d(n)?n:e.renderNode)},e.prototype._getParentRenderNode=function(e){return e=vr(e),this._isRootNode(e)?this.view.viewType===Ni.COMPONENT?Lc:bp:d(e.component)&&e.component.template.encapsulation!==t.ViewEncapsulation.Native?bp:e.renderNode},e.prototype.visitBoundText=function(e,t){return this._visitText(e,"",t)},e.prototype.visitText=function(e,t){return this._visitText(e,e.value,t)},e.prototype._visitText=function(e,t,r){var o="_text_"+this.view.nodes.length;this.view.fields.push(new Pp(o,Ae(this.view.genConfig.renderTypes.renderText)));var n=fp.prop(o),a=new vc(r,this.view,this.view.nodes.length,n,e),i=fp.prop(o).set(fc.renderer.callMethod("createText",[this._getParentRenderNode(r),Re(t),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,e)])).toStmt();return this.view.nodes.push(a),this.view.createMethod.addStmt(i),this._addRootNodeAndProject(a),n},e.prototype.visitNgContent=function(e,t){this.view.createMethod.resetDebugInfo(null,e);var r=this._getParentRenderNode(t),o=fc.projectableNodes.key(Re(e.index),new Us(Ae(this.view.genConfig.renderTypes.renderNode)));return r===bp?this._isRootNode(t)?this.view.viewType!==Ni.COMPONENT&&this.view.rootNodesOrAppElements.push(o):d(t.component)&&d(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,o):this.view.createMethod.addStmt(fc.renderer.callMethod("projectNodes",[r,Oe(kl.flattenNestedViewRenderNodes).callFn([o])]).toStmt()),null},e.prototype.visitElement=function(e,t){var r=this,o=this.view.nodes.length,n=this.view.createMethod.resetDebugInfoExpr(o,e),a;a=0===o&&this.view.viewType===Ni.HOST?fp.callMethod("selectOrCreateHostElement",[Re(e.name),jc,n]):e.name==="ng-container"?fc.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),n]):fc.renderer.callMethod("createElement",[this._getParentRenderNode(t),Re(e.name),n]);var s="_el_"+o;this.view.fields.push(new Pp(s,Ae(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(fp.prop(s).set(a).toStmt());for(var p=fp.prop(s),l=e.directives.map(function(e){return e.directive}),c=l.find(function(e){return e.isComponent}),u=Er(e.attrs),y=Cr(u,l),m=0;m<y.length;m++){var g=y[m][0],f=y[m][1];this.view.createMethod.addStmt(fc.renderer.callMethod("setElementAttribute",[p,Re(g),Re(f)]).toStmt())}var h=new Sc(t,this.view,o,p,e,c,l,e.providers,e.hasViewContainer,!1,e.references);this.view.nodes.push(h);var b=null;if(d(c)){var _=new tl({name:Mt(c,0)});this.targetDependencies.push(new Fc(c.type,_));var v=c.entryComponents.map(function(e){var t=new tl({name:e.name});return r.targetDependencies.push(new Uc(e,t)),t});h.createComponentFactoryResolver(v),b=Pe("compView_"+o),h.setComponentView(b),this.view.createMethod.addStmt(b.set(Oe(_).callFn([fc.viewUtils,h.injector,h.appElement])).toDeclStmt())}if(h.beforeChildren(),this._addRootNodeAndProject(h),fe(this,e.children,h),h.afterChildren(this.view.nodes.length-o-1),d(b)){var S;S=this.view.component.type.isHost?fc.projectableNodes:we(h.contentNodesByNgContentIndex.map(function(e){return It(e)})),this.view.createMethod.addStmt(b.callMethod("create",[h.getComponent(),S,bp]).toStmt())}return null},e.prototype.visitEmbeddedTemplate=function(e,t){var r=this.view.nodes.length,o="_anchor_"+r;this.view.fields.push(new Pp(o,Ae(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(fp.prop(o).set(fc.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),this.view.createMethod.resetDebugInfoExpr(r,e)])).toStmt());var n=fp.prop(o),a=e.variables.map(function(e){return[0<e.value.length?e.value:"$implicit",e.name]}),i=e.directives.map(function(e){return e.directive}),s=new Sc(t,this.view,r,n,e,null,i,e.providers,e.hasViewContainer,!0,e.references);this.view.nodes.push(s);var p=this._animationCompiler.compileComponent(this.view.component,[e]);this.nestedViewCount++;var l=new xc(this.view.component,this.view.genConfig,this.view.pipeMetas,bp,p,this.view.viewIndex+this.nestedViewCount,s,a);return this.nestedViewCount+=hr(l,e.children,this.targetDependencies),s.beforeChildren(),this._addRootNodeAndProject(s),s.afterChildren(0),null},e.prototype.visitAttr=function(){return null},e.prototype.visitDirective=function(){return null},e.prototype.visitEvent=function(){return null},e.prototype.visitReference=function(){return null},e.prototype.visitVariable=function(){return null},e.prototype.visitDirectiveProperty=function(){return null},e.prototype.visitElementProperty=function(){return null},e}(),zc=function(){return function(e,t,r){this.statements=e,this.viewFactoryVar=t,this.dependencies=r}}(),Hc=function(){function e(e){this._genConfig=e,this._animationCompiler=new Hd}return e.prototype.compileComponent=function(e,t,r,o){var n=[],a=this._animationCompiler.compileComponent(e,t),i=[];a.map(function(e){i.push(e.statesMapStatement),i.push(e.fnStatement)});var s=new xc(e,this._genConfig,o,r,a,0,Sc.createNull(),[]);return hr(s,t,n),fr(s,t),br(s,i),new zc(i,s.viewFactory.name,n)},e}();Hc.decorators=[{type:t.Injectable}],Hc.ctorParameters=[{type:hd}];var qc=function(){return function(e,t){this.moduleUrl=e,this.source=t}}(),Wc=function(){return function(e){this.ngModuleByComponent=e}}(),Gc=function(){function e(e,t,r,o,n,a,i){this._metadataResolver=e,this._directiveNormalizer=t,this._templateParser=r,this._styleCompiler=o,this._viewCompiler=n,this._ngModuleCompiler=a,this._outputEmitter=i}return e.prototype.analyzeModules=function(e){var t=this,r=new Map;return e.forEach(function(e){var o=t._metadataResolver.getNgModuleMetadata(e);o.declaredDirectives.forEach(function(e){e.isComponent&&r.set(e.type.runtime,o)})}),new Wc(r)},e.prototype.clearCache=function(){this._directiveNormalizer.clearCache(),this._metadataResolver.clearCache()},e.prototype.compile=function(e,t,r,o){var n=this,a=Br(e)[1],i=[],s=[],p=[];return s.push.apply(s,o.map(function(e){return n._compileModule(e,i)})),Promise.all(r.map(function(e){var r=n._metadataResolver.getDirectiveMetadata(e),o=t.ngModuleByComponent.get(e);if(!o)throw new Ts("Cannot determine the module for component "+r.type.name+"!");return Promise.all([r].concat(o.transitiveModule.directives).map(function(e){return n._directiveNormalizer.normalizeDirective(e).asyncResult})).then(function(e){var t=e[0],r=e.slice(1);Ur(t);var l=n._styleCompiler.compileComponent(t);l.externalStylesheets.forEach(function(e){p.push(n._codgenStyles(e,a))}),s.push(n._compileComponentFactory(t,a,i)),s.push(n._compileComponent(t,r,o.transitiveModule.pipes,o.schemas,l.componentStylesheet,a,i))})})).then(function(){return 0<i.length&&p.unshift(n._codegenSourceModule(Lr(e),i,s)),p})},e.prototype._compileModule=function(e,t){var r=this._metadataResolver.getNgModuleMetadata(e),o=this._ngModuleCompiler.compile(r,[]);return o.dependencies.forEach(function(e){e.placeholder.name=jr(e.comp),e.placeholder.moduleUrl=Lr(e.comp.moduleUrl)}),t.push.apply(t,o.statements),o.ngModuleFactoryVar},e.prototype._compileComponentFactory=function(e,t,r){var o=Ue(e),n=this._compileComponent(o,[e],[],[],null,t,r),a=jr(e.type);return r.push(Pe(a).set(Oe(kl.ComponentFactory,[Ae(e.type)]).instantiate([Re(e.selector),Pe(n),Oe(e.type)],Ae(kl.ComponentFactory,[Ae(e.type)],[Ds.Const]))).toDeclStmt(null,[_p.Final])),a},e.prototype._compileComponent=function(e,t,r,o,n,a,i){var s=this._templateParser.parse(e,e.template.template,t,r,o,e.type.name),p=n?Pe(n.stylesVar):we([]),l=this._viewCompiler.compileComponent(e,s,p,r);return n&&Ln.addAll(i,Vr(n,a)),Ln.addAll(i,Dr(l)),l.viewFactoryVar},e.prototype._codgenStyles=function(e,t){return Vr(e,t),this._codegenSourceModule(Fr(e.meta.moduleUrl,e.isShimmed,t),e.statements,[e.stylesVar])},e.prototype._codegenSourceModule=function(e,t,r){return new qc(e,this._outputEmitter.emitStatements(e,t,r))},e}(),Kc=function(){function e(){}return e.prototype.get=function(){return null},e}(),Qc=function(){function e(e,t,r,o){this._xhr=e,this._urlResolver=t,this._htmlParser=r,this._config=o,this._xhrCache=new Map}return e.prototype.clearCache=function(){this._xhrCache.clear()},e.prototype.clearCacheFor=function(e){var t=this;e.isComponent&&(this._xhrCache.delete(e.template.templateUrl),e.template.externalStylesheets.forEach(function(e){t._xhrCache.delete(e.moduleUrl)}))},e.prototype._fetch=function(e){var t=this._xhrCache.get(e);return t||(t=this._xhr.get(e),this._xhrCache.set(e,t)),t},e.prototype.normalizeDirective=function(e){var t=this;if(!e.isComponent)return new Up(e,Promise.resolve(e));var r=null,o;if(d(e.template.template))r=this.normalizeTemplateSync(e.type,e.template),o=Promise.resolve(r);else{if(!e.template.templateUrl)throw new Ts("No template specified for component "+e.type.name);o=this.normalizeTemplateAsync(e.type,e.template)}if(r&&0===r.styleUrls.length){var n=zr(e,r);return new Up(n,Promise.resolve(n))}return new Up(null,o.then(function(e){return t.normalizeExternalStylesheets(e)}).then(function(t){return zr(e,t)}))},e.prototype.normalizeTemplateSync=function(e,t){return this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl)},e.prototype.normalizeTemplateAsync=function(e,t){var r=this,o=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._fetch(o).then(function(n){return r.normalizeLoadedTemplate(e,t,n,o)})},e.prototype.normalizeLoadedTemplate=function(e,r,o,n){var i=On.fromArray(r.interpolation),s=this._htmlParser.parse(o,e.name,!1,i);if(0<s.errors.length){var p=s.errors.join("\n");throw new Ts("Template parse errors:\n"+p)}var l=this.normalizeStylesheet(new ll({styles:r.styles,styleUrls:r.styleUrls,moduleUrl:e.moduleUrl})),d=new Xc;a(d,s.rootNodes);var u=this.normalizeStylesheet(new ll({styles:d.styles,styleUrls:d.styleUrls,moduleUrl:n})),y=l.styles.concat(u.styles),m=l.styleUrls.concat(u.styleUrls),g=r.encapsulation;return c(g)&&(g=this._config.defaultEncapsulation),g===t.ViewEncapsulation.Emulated&&0===y.length&&0===m.length&&(g=t.ViewEncapsulation.None),new dl({encapsulation:g,template:o,templateUrl:n,styles:y,styleUrls:m,externalStylesheets:r.externalStylesheets,ngContentSelectors:d.ngContentSelectors,animations:r.animations,interpolation:r.interpolation})},e.prototype.normalizeExternalStylesheets=function(e){return this._loadMissingExternalStylesheets(e.styleUrls).then(function(t){return new dl({encapsulation:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,externalStylesheets:t,ngContentSelectors:e.ngContentSelectors,animations:e.animations,interpolation:e.interpolation})})},e.prototype._loadMissingExternalStylesheets=function(e,t){var r=this;return void 0===t&&(t=new Map),Promise.all(e.filter(function(e){return!t.has(e)}).map(function(e){return r._fetch(e).then(function(o){var n=r.normalizeStylesheet(new ll({styles:[o],moduleUrl:e}));return t.set(e,n),r._loadMissingExternalStylesheets(n.styleUrls,t)})})).then(function(){return Dn.values(t)})},e.prototype.normalizeStylesheet=function(e){var t=this,r=e.styleUrls.filter(ot).map(function(r){return t._urlResolver.resolve(e.moduleUrl,r)}),o=e.styles.map(function(o){var n=nt(t._urlResolver,e.moduleUrl,o);return r.push.apply(r,n.styleUrls),n.style});return new ll({styles:o,styleUrls:r,moduleUrl:e.moduleUrl})},e}();Qc.decorators=[{type:t.Injectable}],Qc.ctorParameters=[{type:Kc},{type:Is},{type:Ml},{type:hd}];var Xc=function(){function e(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return e.prototype.visitElement=function(e){var t=at(e);switch(t.type){case ed.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(t.selectAttr);break;case ed.STYLE:var r="";e.children.forEach(function(e){e instanceof So&&(r+=e.value)}),this.styles.push(r);break;case ed.STYLESHEET:this.styleUrls.push(t.hrefAttr);}return t.nonBindable&&this.ngNonBindableStackCount++,a(this,e.children),t.nonBindable&&this.ngNonBindableStackCount--,null},e.prototype.visitComment=function(){return null},e.prototype.visitAttribute=function(){return null},e.prototype.visitText=function(){return null},e.prototype.visitExpansion=function(){return null},e.prototype.visitExpansionCase=function(){return null},e}(),Zc=function(){function e(e){void 0===e&&(e=ps),this._reflector=e}return e.prototype.resolve=function(e,r){void 0===r&&(r=!0);var o=this._reflector.annotations(t.resolveForwardRef(e));if(d(o)){var n=o.find(Hr);if(d(n)){var a=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(n,a,e)}}if(r)throw new Ts("No Directive annotation found on "+f(e));return null},e.prototype._mergeWithPropertyMetadata=function(e,r,o){var n=[],i=[],s={},p={};return Vn.forEach(r,function(e,r){e.forEach(function(e){if(e instanceof t.InputMetadata)d(e.bindingPropertyName)?n.push(r+": "+e.bindingPropertyName):n.push(r);else if(e instanceof t.OutputMetadata)d(e.bindingPropertyName)?i.push(r+": "+e.bindingPropertyName):i.push(r);else if(e instanceof t.HostBindingMetadata)d(e.hostPropertyName)?s["["+e.hostPropertyName+"]"]=r:s["["+r+"]"]=r;else if(e instanceof t.HostListenerMetadata){var o=d(e.args)?e.args.join(", "):"";s["("+e.eventName+")"]=r+"("+o+")"}else e instanceof t.QueryMetadata&&(p[r]=e)})}),this._merge(e,n,i,s,p,o)},e.prototype._extractPublicName=function(e){return De(e,[null,e])[1].trim()},e.prototype._merge=function(e,r,o,n,a,i){var s=this,p;if(d(e.inputs)){var l=e.inputs.map(function(e){return s._extractPublicName(e)});r.forEach(function(e){var t=s._extractPublicName(e);if(-1<l.indexOf(t))throw new Ts("Input '"+t+"' defined multiple times in '"+f(i)+"'")}),p=e.inputs.concat(r)}else p=r;var c;if(d(e.outputs)){var u=e.outputs.map(function(e){return s._extractPublicName(e)});o.forEach(function(e){var t=s._extractPublicName(e);if(-1<u.indexOf(t))throw new Ts("Output event '"+t+"' defined multiple times in '"+f(i)+"'")}),c=e.outputs.concat(o)}else c=o;var y=d(e.host)?Vn.merge(e.host,n):n,m=d(e.queries)?Vn.merge(e.queries,a):a;return e instanceof t.ComponentMetadata?new t.ComponentMetadata({selector:e.selector,inputs:p,outputs:c,host:y,exportAs:e.exportAs,moduleId:e.moduleId,queries:m,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,directives:e.directives,pipes:e.pipes,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation}):new t.DirectiveMetadata({selector:e.selector,inputs:p,outputs:c,host:y,exportAs:e.exportAs,queries:m,providers:e.providers})},e}();Zc.decorators=[{type:t.Injectable}],Zc.ctorParameters=[{type:Ai}];var Yc=Dn.createFromPairs([[Pi.OnInit,t.OnInit],[Pi.OnDestroy,t.OnDestroy],[Pi.DoCheck,t.DoCheck],[Pi.OnChanges,t.OnChanges],[Pi.AfterContentInit,t.AfterContentInit],[Pi.AfterContentChecked,t.AfterContentChecked],[Pi.AfterViewInit,t.AfterViewInit],[Pi.AfterViewChecked,t.AfterViewChecked]]),$c=Dn.createFromPairs([[Pi.OnInit,"ngOnInit"],[Pi.OnDestroy,"ngOnDestroy"],[Pi.DoCheck,"ngDoCheck"],[Pi.OnChanges,"ngOnChanges"],[Pi.AfterContentInit,"ngAfterContentInit"],[Pi.AfterContentChecked,"ngAfterContentChecked"],[Pi.AfterViewInit,"ngAfterViewInit"],[Pi.AfterViewChecked,"ngAfterViewChecked"]]),Jc=function(){function e(e){void 0===e&&(e=ps),this._reflector=e}return e.prototype.resolve=function(e,t){void 0===t&&(t=!0);var r=this._reflector.annotations(e).find(Wr);if(d(r))return r;if(t)throw new Ts("No NgModule metadata found for '"+f(e)+"'.");return null},e}();Jc.decorators=[{type:t.Injectable}],Jc.ctorParameters=[{type:Ai}];var eu=function(){function e(e){void 0===e&&(e=ps),this._reflector=e}return e.prototype.resolve=function(e,r){void 0===r&&(r=!0);var o=this._reflector.annotations(t.resolveForwardRef(e));if(d(o)){var n=o.find(Gr);if(d(n))return n}if(r)throw new Ts("No Pipe decorator found on "+f(e));return null},e}();eu.decorators=[{type:t.Injectable}],eu.ctorParameters=[{type:Ai}];var tu=function(){function e(e,t,r,o,n,a,i){void 0===i&&(i=ps),this._ngModuleResolver=e,this._directiveResolver=t,this._pipeResolver=r,this._config=o,this._console=n,this._schemaRegistry=a,this._reflector=i,this._directiveCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return e.prototype.sanitizeTokenName=function(e){var t=f(e);if(0<=t.indexOf("(")){var r=this._anonymousTypes.get(e);c(r)&&(this._anonymousTypes.set(e,this._anonymousTypeIndex++),r=this._anonymousTypes.get(e)),t="anonymous_token_"+r+"_"}return Ve(t)},e.prototype.clearCacheFor=function(e){this._directiveCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear()},e.prototype.clearCache=function(){this._directiveCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear()},e.prototype.getAnimationEntryMetadata=function(e){var t=this,r=e.definitions.map(function(e){return t.getAnimationStateMetadata(e)});return new qp(e.name,r)},e.prototype.getAnimationStateMetadata=function(e){if(e instanceof t.AnimationStateDeclarationMetadata){var r=this.getAnimationStyleMetadata(e.styles);return new Gp(e.stateNameExpr,r)}return e instanceof t.AnimationStateTransitionMetadata?new Kp(e.stateChangeExpr,this.getAnimationMetadata(e.steps)):null},e.prototype.getAnimationStyleMetadata=function(e){return new Zp(e.offset,e.styles)},e.prototype.getAnimationMetadata=function(e){var r=this;if(e instanceof t.AnimationStyleMetadata)return this.getAnimationStyleMetadata(e);if(e instanceof t.AnimationKeyframesSequenceMetadata)return new Xp(e.steps.map(function(e){return r.getAnimationStyleMetadata(e)}));if(e instanceof t.AnimationAnimateMetadata){var o=this.getAnimationMetadata(e.styles);return new Yp(e.timings,o)}if(e instanceof t.AnimationWithStepsMetadata){var n=e.steps.map(function(e){return r.getAnimationMetadata(e)});return e instanceof t.AnimationGroupMetadata?new el(n):new Jp(n)}return null},e.prototype.getDirectiveMetadata=function(e,r){var o=this;void 0===r&&(r=!0),e=t.resolveForwardRef(e);var n=this._directiveCache.get(e);if(c(n)){var a=this._directiveResolver.resolve(e,r);if(!a)return null;var i=null,s=null,p=[],l=Yr(e),u=[],y=[],m=[],g=a.selector;if(a instanceof t.ComponentMetadata){var h=a;j("styles",h.styles),F("interpolation",h.interpolation);var b=d(h.animations)?h.animations.map(function(t){return o.getAnimationEntryMetadata(t)}):null;j("styles",h.styles),j("styleUrls",h.styleUrls),i=new dl({encapsulation:h.encapsulation,template:h.template,templateUrl:h.templateUrl,styles:h.styles,styleUrls:h.styleUrls,animations:b,interpolation:h.interpolation}),s=h.changeDetection,d(a.viewProviders)&&(p=this.getProvidersMetadata(Xr(e,a.viewProviders,"viewProviders"),[])),l=Jr(this._reflector,e,h),h.entryComponents&&(m=Qr(h.entryComponents).map(function(e){return o.getTypeMetadata(e,Yr(e))})),h.directives&&(u=Qr(h.directives).map(function(t){if(!t)throw new Ts("Unexpected directive value '"+t+"' on the View of component '"+f(e)+"'");return o.getTypeMetadata(t,Yr(t))})),h.pipes&&(y=Qr(h.pipes).map(function(t){if(!t)throw new Ts("Unexpected pipe value '"+t+"' on the View of component '"+f(e)+"'");return o.getTypeMetadata(t,Yr(t))})),g||(g=this._schemaRegistry.getDefaultComponentElementName())}else if(!g)throw new Ts("Directive "+f(e)+" has no selector, please add it!");var _=[];d(a.providers)&&(_=this.getProvidersMetadata(Xr(e,a.providers,"providers"),m));var v=[],S=[];d(a.queries)&&(v=this.getQueriesMetadata(a.queries,!1,e),S=this.getQueriesMetadata(a.queries,!0,e)),n=cl.create({selector:g,exportAs:a.exportAs,isComponent:d(i),type:this.getTypeMetadata(e,l),template:i,changeDetection:s,inputs:a.inputs,outputs:a.outputs,host:a.host,providers:_,viewProviders:p,queries:v,viewQueries:S,viewDirectives:u,viewPipes:y,entryComponents:m}),this._directiveCache.set(e,n)}return n},e.prototype.getNgModuleMetadata=function(e,r){var o=this;void 0===r&&(r=!0),e=t.resolveForwardRef(e);var n=this._ngModuleCache.get(e);if(!n){var a=this._ngModuleResolver.resolve(e,r);if(!a)return null;var i=[],s=[],p=[],l=[],d=[],c=[],u=[],y=[],m=[],g=[];a.imports&&Qr(a.imports).forEach(function(t){var r;if(Zr(t))r=t;else if(t&&t.ngModule){var n=t;r=n.ngModule,n.providers&&u.push.apply(u,o.getProvidersMetadata(n.providers,y))}if(!r)throw new Ts("Unexpected value '"+f(t)+"' imported by the module '"+f(e)+"'");d.push(o.getNgModuleMetadata(r,!1))}),a.exports&&Qr(a.exports).forEach(function(t){if(!Zr(t))throw new Ts("Unexpected value '"+f(t)+"' exported by the module '"+f(e)+"'");var r,n,a;if(r=o.getDirectiveMetadata(t,!1))s.push(r);else if(n=o.getPipeMetadata(t,!1))l.push(n);else{if(!(a=o.getNgModuleMetadata(t,!1)))throw new Ts("Unexpected value '"+f(t)+"' exported by the module '"+f(e)+"'");c.push(a)}});var h=this._getTransitiveNgModuleMetadata(d,c);a.declarations&&Qr(a.declarations).forEach(function(t){if(!Zr(t))throw new Ts("Unexpected value '"+f(t)+"' declared by the module '"+f(e)+"'");var r,n;if(r=o.getDirectiveMetadata(t,!1))o._addDirectiveToModule(r,e,h,i,!0);else{if(!(n=o.getPipeMetadata(t,!1)))throw new Ts("Unexpected value '"+f(t)+"' declared by the module '"+f(e)+"'");o._addPipeToModule(n,e,h,p,!0)}}),a.providers&&u.push.apply(u,this.getProvidersMetadata(a.providers,y)),a.entryComponents&&y.push.apply(y,Qr(a.entryComponents).map(function(e){return o.getTypeMetadata(e,Yr(e))})),a.bootstrap&&m.push.apply(m,Qr(a.bootstrap).map(function(e){return o.getTypeMetadata(e,Yr(e))})),y.push.apply(y,m),a.schemas&&g.push.apply(g,Qr(a.schemas)),(b=h.entryComponents).push.apply(b,y),(_=h.providers).push.apply(_,u),n=new yl({type:this.getTypeMetadata(e,Yr(e)),providers:u,entryComponents:y,bootstrapComponents:m,schemas:g,declaredDirectives:i,exportedDirectives:s,declaredPipes:p,exportedPipes:l,importedModules:d,exportedModules:c,transitiveModule:h}),h.modules.push(n),this._verifyModule(n),this._ngModuleCache.set(e,n)}return n;var b,_},e.prototype.addComponentToModule=function(e,t){var r=this.getNgModuleMetadata(e),o=this.getDirectiveMetadata(t,!1);this._addDirectiveToModule(o,r.type.runtime,r.transitiveModule,r.declaredDirectives),r.transitiveModule.entryComponents.push(o.type),r.entryComponents.push(o.type),this._verifyModule(r)},e.prototype._verifyModule=function(e){var t=this;e.exportedDirectives.forEach(function(t){if(!e.transitiveModule.directivesSet.has(t.type.runtime))throw new Ts("Can't export directive "+f(t.type.runtime)+" from "+f(e.type.runtime)+" as it was neither declared nor imported!")}),e.exportedPipes.forEach(function(t){if(!e.transitiveModule.pipesSet.has(t.type.runtime))throw new Ts("Can't export pipe "+f(t.type.runtime)+" from "+f(e.type.runtime)+" as it was neither declared nor imported!")}),e.entryComponents.forEach(function(r){e.transitiveModule.directivesSet.has(r.runtime)||(t._addDirectiveToModule(t.getDirectiveMetadata(r.runtime),e.type.runtime,e.transitiveModule,e.declaredDirectives),t._console.warn("NgModule "+f(e.type.runtime)+" uses "+f(r.runtime)+" via \"entryComponents\" but it was neither declared nor imported! This warning will become an error after final."))}),e.declaredDirectives.forEach(function(r){t._getTransitiveViewDirectivesAndPipes(r,e)})},e.prototype._addTypeToModule=function(e,t){var r=this._ngModuleOfTypes.get(e);if(r&&r!==t)throw new Ts("Type "+f(e)+" is part of the declarations of 2 modules: "+f(r)+" and "+f(t)+"!");this._ngModuleOfTypes.set(e,t)},e.prototype._getTransitiveViewDirectivesAndPipes=function(e,t){var r=this;if(e.isComponent){var o=function(e){var o=r.getPipeMetadata(e);r._addPipeToModule(o,t.type.runtime,t.transitiveModule,t.declaredPipes)},n=function(e){var o=r.getDirectiveMetadata(e);r._addDirectiveToModule(o,t.type.runtime,t.transitiveModule,t.declaredDirectives)&&r._getTransitiveViewDirectivesAndPipes(o,t)};e.viewPipes&&e.viewPipes.forEach(function(e){return o(e.runtime)}),e.viewDirectives&&e.viewDirectives.forEach(function(e){return n(e.runtime)}),e.entryComponents.forEach(function(o){t.transitiveModule.directivesSet.has(o.runtime)||(r._console.warn("Component "+f(e.type.runtime)+" in NgModule "+f(t.type.runtime)+" uses "+f(o.runtime)+" via \"entryComponents\" but it was neither declared nor imported into the module! This warning will become an error after final."),n(o.runtime))})}},e.prototype._getTransitiveNgModuleMetadata=function(e,t){var r=Kr(e.concat(t),!0),o=Qr(r.map(function(e){return e.providers})),n=Qr(r.map(function(e){return e.entryComponents})),a=Kr(e,!1),i=Qr(a.map(function(e){return e.exportedDirectives})),s=Qr(a.map(function(e){return e.exportedPipes}));return new ml(r,o,n,i,s)},e.prototype._addDirectiveToModule=function(e,t,r,o,n){return void 0===n&&(n=!1),(n||!r.directivesSet.has(e.type.runtime))&&(r.directivesSet.add(e.type.runtime),r.directives.push(e),o.push(e),this._addTypeToModule(e.type.runtime,t),!0)},e.prototype._addPipeToModule=function(e,t,r,o,n){return void 0===n&&(n=!1),(n||!r.pipesSet.has(e.type.runtime))&&(r.pipesSet.add(e.type.runtime),r.pipes.push(e),o.push(e),this._addTypeToModule(e.type.runtime,t),!0)},e.prototype.getTypeMetadata=function(e,r,o){return void 0===o&&(o=null),e=t.resolveForwardRef(e),new sl({name:this.sanitizeTokenName(e),moduleUrl:r,runtime:e,diDeps:this.getDependenciesMetadata(e,o),lifecycleHooks:Oi.filter(function(t){return qr(t,e)})})},e.prototype.getFactoryMetadata=function(e,r,o){return void 0===o&&(o=null),e=t.resolveForwardRef(e),new nl({name:this.sanitizeTokenName(e),moduleUrl:r,runtime:e,diDeps:this.getDependenciesMetadata(e,o)})},e.prototype.getPipeMetadata=function(e,r){void 0===r&&(r=!0),e=t.resolveForwardRef(e);var o=this._pipeCache.get(e);if(c(o)){var n=this._pipeResolver.resolve(e,r);if(!n)return null;o=new ul({type:this.getTypeMetadata(e,Yr(e)),name:n.name,pure:n.pure}),this._pipeCache.set(e,o)}return o},e.prototype.getDependenciesMetadata=function(e,r){var o=this,n=!1,a=d(r)?r:this._reflector.parameters(e);c(a)&&(a=[]);var i=a.map(function(r){var a=!1,i=!1,s=!1,p=!1,l=!1,u=null,y=null,m=null;return g(r)?r.forEach(function(e){e instanceof t.HostMetadata?i=!0:e instanceof t.SelfMetadata?s=!0:e instanceof t.SkipSelfMetadata?p=!0:e instanceof t.OptionalMetadata?l=!0:e instanceof t.AttributeMetadata?(a=!0,m=e.attributeName):e instanceof t.QueryMetadata?e.isViewQuery?y=e:u=e:e instanceof t.InjectMetadata?m=e.token:Zr(e)&&c(m)&&(m=e)}):m=r,c(m)?(n=!0,null):new rl({isAttribute:a,isHost:i,isSelf:s,isSkipSelf:p,isOptional:l,query:d(u)?o.getQueryMetadata(u,null,e):null,viewQuery:d(y)?o.getQueryMetadata(y,null,e):null,token:o.getTokenMetadata(m)})});if(n){var s=i.map(function(e){return e?f(e.token):"?"}).join(", ");throw new Ts("Can't resolve all parameters for "+f(e)+": ("+s+").")}return i},e.prototype.getTokenMetadata=function(e){e=t.resolveForwardRef(e);var r;return r=new al(u(e)?{value:e}:{identifier:new tl({runtime:e,name:this.sanitizeTokenName(e),moduleUrl:Yr(e)})})},e.prototype.getProvidersMetadata=function(e,r){var o=this,n=[];return e.forEach(function(e){e=t.resolveForwardRef(e),Ki(e)&&(e=Gi(e));var a;if(g(e))a=o.getProvidersMetadata(e,r);else if(e instanceof t.Provider){var i=o.getTokenMetadata(e.token);i.equalsTo(qe(kl.ANALYZE_FOR_ENTRY_COMPONENTS))?r.push.apply(r,o._getEntryComponentsFromProvider(e)):a=o.getProviderMetadata(e)}else{if(!Zr(e))throw new Ts("Invalid provider - only instances of Provider and Type are allowed, got: "+f(e));a=o.getTypeMetadata(e,Yr(e))}a&&n.push(a)}),n},e.prototype._getEntryComponentsFromProvider=function(e){var t=this,r=[],o=[];if(e.useFactory||e.useExisting||e.useClass)throw new Ts("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!");if(!e.multi)throw new Ts("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!");return eo(e.useValue,o),o.forEach(function(e){var o=t.getDirectiveMetadata(e.runtime,!1);o&&r.push(o.type)}),r},e.prototype.getProviderMetadata=function(e){var t=null,r=null,o;return d(e.useClass)?(t=this.getTypeMetadata(e.useClass,Yr(e.useClass),e.dependencies),o=t.diDeps):d(e.useFactory)&&(r=this.getFactoryMetadata(e.useFactory,Yr(e.useFactory),e.dependencies),o=r.diDeps),new ol({token:this.getTokenMetadata(e.token),useClass:t,useValue:eo(e.useValue,[]),useFactory:r,useExisting:d(e.useExisting)?this.getTokenMetadata(e.useExisting):null,deps:o,multi:e.multi})},e.prototype.getQueriesMetadata=function(e,t,r){var o=this,n=[];return Vn.forEach(e,function(e,a){e.isViewQuery===t&&n.push(o.getQueryMetadata(e,a,r))}),n},e.prototype.getQueryMetadata=function(e,t,r){var o=this,n;if(e.isVarBindingQuery)n=e.varBindings.map(function(e){return o.getTokenMetadata(e)});else{if(!d(e.selector))throw new Ts("Can't construct a query for the property \""+t+"\" of \""+f(r)+"\" since the query selector wasn't defined.");n=[this.getTokenMetadata(e.selector)]}return new pl({selectors:n,first:e.first,descendants:e.descendants,propertyName:t,read:d(e.read)?this.getTokenMetadata(e.read):null})},e}();tu.decorators=[{type:t.Injectable}],tu.ctorParameters=[{type:Jc},{type:Zc},{type:eu},{type:hd},{type:ss},{type:Ul},{type:Ai}];var ru=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visitOther=function(e,t){var r;return r=new tl(He(e)?{name:e.name,moduleUrl:e.filePath,runtime:e}:{runtime:e}),t.push(r),r},t}(Fp),ou=function(){return function(e,t){this.comp=e,this.placeholder=t}}(),nu=function(){return function(e,t,r){this.statements=e,this.ngModuleFactoryVar=t,this.dependencies=r}}(),au=function(){function e(){}return e.prototype.compile=function(e,t){var r=d(e.type.moduleUrl)?"in NgModule "+e.type.name+" in "+e.type.moduleUrl:"in NgModule "+e.type.name,o=new Aa("",r),n=new wa(new Oa(o,null,null,null),new Oa(o,null,null,null)),a=[],i=[],s=e.transitiveModule.entryComponents.map(function(t){var r=new tl({name:t.name});return-1<e.bootstrapComponents.indexOf(t)&&i.push(r),a.push(new ou(t,r)),r}),p=new iu(e,s,i,n),l=new Fl(e,t,n);l.parse().forEach(function(e){return p.addProvider(e)});var c=p.build(),u=e.type.name+"NgFactory",y=Pe(u).set(Oe(kl.NgModuleFactory).instantiate([Pe(c.name),Oe(e.type)],Ae(kl.NgModuleFactory,[Ae(e.type)],[Ds.Const]))).toDeclStmt(null,[_p.Final]);return new nu([c,y],u,a)},e}();au.decorators=[{type:t.Injectable}];var iu=function(){function e(e,t,r,o){this._ngModuleMeta=e,this._entryComponentFactories=t,this._bootstrapComponentFactories=r,this._sourceSpan=o,this._instances=new il,this._fields=[],this._createStmts=[],this._destroyStmts=[],this._getters=[]}return e.prototype.addProvider=function(e){var t=this,r=e.providers.map(function(e){return t._getProviderValue(e)}),o="_"+e.token.name+"_"+this._instances.size,n=this._createProviderProperty(o,e,r,e.multiProvider,e.eager);-1!==e.lifecycleHooks.indexOf(Pi.OnDestroy)&&this._destroyStmts.push(n.callMethod("ngOnDestroy",[]).toStmt()),this._instances.add(e.token,n)},e.prototype.build=function(){var e=this,t=this._instances.keys().map(function(t){var r=e._instances.get(t);return new kp(pu.token.identical(Fe(t)),[new xp(r)])}),r=[new Op("createInternal",[],this._createStmts.concat(new xp(this._instances.get(qe(this._ngModuleMeta.type)))),Ae(this._ngModuleMeta.type)),new Op("getInternal",[new lp(pu.token.name,zs),new lp(pu.notFoundResult.name,zs)],t.concat([new xp(pu.notFoundResult)]),zs),new Op("destroyInternal",[],this._destroyStmts)],o=new Op(null,[new lp(su.parent.name,Ae(kl.Injector))],[hp.callFn([Pe(su.parent.name),we(this._entryComponentFactories.map(function(e){return Oe(e)})),we(this._bootstrapComponentFactories.map(function(e){return Oe(e)}))]).toStmt()]),n=this._ngModuleMeta.type.name+"Injector";return new wp(n,Oe(kl.NgModuleInjector,[Ae(this._ngModuleMeta.type)]),this._fields,this._getters,o,r)},e.prototype._getProviderValue=function(e){var t=this,r;if(d(e.useExisting))r=this._getDependency(new rl({token:e.useExisting}));else if(d(e.useFactory)){var o=d(e.deps)?e.deps:e.useFactory.diDeps,n=o.map(function(e){return t._getDependency(e)});r=Oe(e.useFactory).callFn(n)}else if(d(e.useClass)){var o=d(e.deps)?e.deps:e.useClass.diDeps,n=o.map(function(e){return t._getDependency(e)});r=Oe(e.useClass).instantiate(n,Ae(e.useClass))}else r=At(e.useValue);return r},e.prototype._createProviderProperty=function(e,t,r,o,n){var a,i;if(o?(a=we(r),i=new Us(zs)):(a=r[0],i=r[0].type),c(i)&&(i=zs),n)this._fields.push(new Pp(e,i)),this._createStmts.push(fp.prop(e).set(a).toStmt());else{var s="_"+e;this._fields.push(new Pp(s,i));var p=[new kp(fp.prop(s).isBlank(),[fp.prop(s).set(a).toStmt()]),new xp(fp.prop(s))];this._getters.push(new Ap(e,p,i))}return fp.prop(e)},e.prototype._getDependency=function(e){var t=null;if(e.isValue&&(t=Re(e.value)),e.isSkipSelf||(e.token&&(e.token.equalsTo(qe(kl.Injector))||e.token.equalsTo(qe(kl.ComponentFactoryResolver)))&&(t=fp),c(t)&&(t=this._instances.get(e.token))),c(t)){var r=[Fe(e.token)];e.isOptional&&r.push(bp),t=su.parent.callMethod("get",r)}return t},e}(),su=function(){return function(){}}();su.parent=fp.prop("parent");var pu=function(){return function(){}}();pu.token=Pe("token"),pu.notFoundResult=Pe("notFoundResult");var lu=/'|\\|\n|\r|\$/g,du=Pe("error"),cu=Pe("stack"),uu=function(){return function(e){this.indent=e,this.parts=[]}}(),yu=function(){function e(e,t){this._exportedVars=e,this._indent=t,this._classes=[],this._lines=[new uu(t)]}return e.createRoot=function(t){return new e(t,0)},Object.defineProperty(e.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),e.prototype.isExportedVar=function(e){return-1!==this._exportedVars.indexOf(e)},e.prototype.println=function(e){void 0===e&&(e=""),this.print(e,!0)},e.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},e.prototype.print=function(e,t){void 0===t&&(t=!1),0<e.length&&this._currentLine.parts.push(e),t&&this._lines.push(new uu(this._indent))},e.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},e.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},e.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},e.prototype.pushClass=function(e){this._classes.push(e)},e.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(e.prototype,"currentClass",{get:function(){return 0<this._classes.length?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),e.prototype.toSource=function(){var e=this._lines;return 0===e[e.length-1].parts.length&&(e=e.slice(0,e.length-1)),e.map(function(e){return 0<e.parts.length?ro(e.indent)+e.parts.join(""):""}).join("\n")},e}(),mu=function(){function e(e){this._escapeDollarInStrings=e}return e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t),t.println(";"),null},e.prototype.visitReturnStmt=function(e,t){return t.print("return "),e.value.visitExpression(this,t),t.println(";"),null},e.prototype.visitIfStmt=function(e,t){t.print("if ("),e.condition.visitExpression(this,t),t.print(") {");var r=d(e.falseCase)&&0<e.falseCase.length;return 1>=e.trueCase.length&&!r?(t.print(" "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(" ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),r&&(t.println("} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println("}"),null},e.prototype.visitThrowStmt=function(e,t){return t.print("throw "),e.error.visitExpression(this,t),t.println(";"),null},e.prototype.visitCommentStmt=function(e,t){var r=e.comment.split("\n");return r.forEach(function(e){t.println("// "+e)}),null},e.prototype.visitWriteVarExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),t.print(e.name+" = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitWriteKeyExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("] = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitWritePropExpr=function(e,t){var r=t.lineIsEmpty();return r||t.print("("),e.receiver.visitExpression(this,t),t.print("."+e.name+" = "),e.value.visitExpression(this,t),r||t.print(")"),null},e.prototype.visitInvokeMethodExpr=function(e,t){e.receiver.visitExpression(this,t);var r=e.name;return d(e.builtin)&&(r=this.getBuiltinMethodName(e.builtin),c(r))?null:(t.print("."+r+"("),this.visitAllExpressions(e.args,t,","),t.print(")"),null)},e.prototype.visitInvokeFunctionExpr=function(e,t){return e.fn.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(d(e.builtin))switch(e.builtin){case Xs.Super:r="super";break;case Xs.This:r="this";break;case Xs.CatchError:r=du.name;break;case Xs.CatchStack:r=cu.name;break;default:throw new Ts("Unknown builtin variable "+e.builtin);}return t.print(r),null},e.prototype.visitInstantiateExpr=function(e,t){return t.print("new "),e.classExpr.visitExpression(this,t),t.print("("),this.visitAllExpressions(e.args,t,","),t.print(")"),null},e.prototype.visitLiteralExpr=function(e,t){var r=e.value;return u(r)?t.print(to(r,this._escapeDollarInStrings)):c(r)?t.print("null"):t.print(""+r),null},e.prototype.visitConditionalExpr=function(e,t){return t.print("("),e.condition.visitExpression(this,t),t.print("? "),e.trueCase.visitExpression(this,t),t.print(": "),e.falseCase.visitExpression(this,t),t.print(")"),null},e.prototype.visitNotExpr=function(e,t){return t.print("!"),e.condition.visitExpression(this,t),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r;switch(e.operator){case Ks.Equals:r="==";break;case Ks.Identical:r="===";break;case Ks.NotEquals:r="!=";break;case Ks.NotIdentical:r="!==";break;case Ks.And:r="&&";break;case Ks.Or:r="||";break;case Ks.Plus:r="+";break;case Ks.Minus:r="-";break;case Ks.Divide:r="/";break;case Ks.Multiply:r="*";break;case Ks.Modulo:r="%";break;case Ks.Lower:r="<";break;case Ks.LowerEquals:r="<=";break;case Ks.Bigger:r=">";break;case Ks.BiggerEquals:r=">=";break;default:throw new Ts("Unknown operator "+e.operator);}return t.print("("),e.lhs.visitExpression(this,t),t.print(" "+r+" "),e.rhs.visitExpression(this,t),t.print(")"),null},e.prototype.visitReadPropExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("."),t.print(e.name),null},e.prototype.visitReadKeyExpr=function(e,t){return e.receiver.visitExpression(this,t),t.print("["),e.index.visitExpression(this,t),t.print("]"),null},e.prototype.visitLiteralArrayExpr=function(e,t){var r=1<e.entries.length;return t.print("[",r),t.incIndent(),this.visitAllExpressions(e.entries,t,",",r),t.decIndent(),t.print("]",r),null},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,o=1<e.entries.length;return t.print("{",o),t.incIndent(),this.visitAllObjects(function(e){t.print(to(e[0],r._escapeDollarInStrings)+": "),e[1].visitExpression(r,t)},e.entries,t,",",o),t.decIndent(),t.print("}",o),null},e.prototype.visitAllExpressions=function(e,t,r,o){var n=this;void 0===o&&(o=!1),this.visitAllObjects(function(e){return e.visitExpression(n,t)},e,t,r,o)},e.prototype.visitAllObjects=function(e,t,r,o,n){void 0===n&&(n=!1);for(var a=0;a<t.length;a++)0<a&&r.print(o,n),e(t[a]);n&&r.println()},e.prototype.visitAllStatements=function(e,t){var r=this;e.forEach(function(e){return e.visitStatement(r,t)})},e}(),gu="asset://debug/lib",fu=function(){function e(e){this._importGenerator=e}return e.prototype.emitStatements=function(e,t,r){var o=this,n=new hu(e),a=yu.createRoot(r);n.visitAllStatements(t,a);var i=[];return n.importsWithPrefixes.forEach(function(t,r){i.push("import * as "+t+" from '"+o._importGenerator.getImportPath(e,r)+"';")}),i.push(a.toSource()),i.join("\n")},e}(),hu=function(e){function t(t){e.call(this,!1),this._moduleUrl=t,this.importsWithPrefixes=new Map}return __extends(t,e),t.prototype.visitType=function(e,t,r){void 0===r&&(r="any"),d(e)?e.visitType(this,t):t.print(r)},t.prototype.visitExternalExpr=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},t.prototype.visitDeclareVarStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),e.hasModifier(_p.Final)?t.print("const"):t.print("var"),t.print(" "+e.name+":"),this.visitType(e.type,t),t.print(" = "),e.value.visitExpression(this,t),t.println(";"),null},t.prototype.visitCastExpr=function(e,t){return t.print("(<"),e.type.visitType(this,t),t.print(">"),e.value.visitExpression(this,t),t.print(")"),null},t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),t.isExportedVar(e.name)&&t.print("export "),t.print("class "+e.name),d(e.parent)&&(t.print(" extends "),e.parent.visitExpression(this,t)),t.println(" {"),t.incIndent(),e.fields.forEach(function(e){return r._visitClassField(e,t)}),d(e.constructorMethod)&&this._visitClassConstructor(e,t),e.getters.forEach(function(e){return r._visitClassGetter(e,t)}),e.methods.forEach(function(e){return r._visitClassMethod(e,t)}),t.decIndent(),t.println("}"),t.popClass(),null},t.prototype._visitClassField=function(e,t){e.hasModifier(_p.Private)&&t.print("private "),t.print(e.name),t.print(":"),this.visitType(e.type,t),t.println(";")},t.prototype._visitClassGetter=function(e,t){e.hasModifier(_p.Private)&&t.print("private "),t.print("get "+e.name+"()"),t.print(":"),this.visitType(e.type,t),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},t.prototype._visitClassConstructor=function(e,t){t.print("constructor("),this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println("}")},t.prototype._visitClassMethod=function(e,t){e.hasModifier(_p.Private)&&t.print("private "),t.print(e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println("}")},t.prototype.visitFunctionExpr=function(e,t){return t.print("("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" => {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return t.isExportedVar(e.name)&&t.print("export "),t.print("function "+e.name+"("),this._visitParams(e.params,t),t.print("):"),this.visitType(e.type,t,"void"),t.println(" {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+du.name+") {"),t.incIndent();var r=[cu.set(du.prop("stack")).toDeclStmt(null,[_p.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println("}"),null},t.prototype.visitBuiltintType=function(e,t){var r;switch(e.name){case Ls.Bool:r="boolean";break;case Ls.Dynamic:r="any";break;case Ls.Function:r="Function";break;case Ls.Number:r="number";break;case Ls.Int:r="number";break;case Ls.String:r="string";break;default:throw new Ts("Unsupported builtin type "+e.name);}return t.print(r),null},t.prototype.visitExternalType=function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null},t.prototype.visitArrayType=function(e,t){return this.visitType(e.of,t),t.print("[]"),null},t.prototype.visitMapType=function(e,t){return t.print("{[key: string]:"),this.visitType(e.valueType,t),t.print("}"),null},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case ep.ConcatArray:t="concat";break;case ep.SubscribeObservable:t="subscribe";break;case ep.bind:t="bind";break;default:throw new Ts("Unknown builtin method: "+e);}return t},t.prototype._visitParams=function(e,t){var r=this;this.visitAllObjects(function(e){t.print(e.name),t.print(":"),r.visitType(e.type,t)},e,t,",")},t.prototype._visitIdentifier=function(e,t,r){var o=this;if(c(e.name))throw new Ts("Internal error: unknown identifier "+e);if(d(e.moduleUrl)&&e.moduleUrl!=this._moduleUrl){var n=this.importsWithPrefixes.get(e.moduleUrl);c(n)&&(n="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(e.moduleUrl,n)),r.print(n+".")}r.print(e.name),d(t)&&0<t.length&&(r.print("<"),this.visitAllObjects(function(e){return e.visitType(o,r)},t,r,","),r.print(">"))},t}(mu),bu=function(){function e(e,t,r,o){this.parent=e,this.instance=t,this.className=r,this.vars=o}return e.prototype.createChildWihtLocalVars=function(){return new e(this,this.instance,this.className,new Map())},e}(),_u=function(){return function(e){this.value=e}}(),vu=function(){function e(){}return e.prototype.debugAst=function(e){return oo(e)},e.prototype.visitDeclareVarStmt=function(e,t){return t.vars.set(e.name,e.value.visitExpression(this,t)),null},e.prototype.visitWriteVarExpr=function(e,t){for(var r=e.value.visitExpression(this,t),o=t;null!=o;){if(o.vars.has(e.name))return o.vars.set(e.name,r),r;o=o.parent}throw new Ts("Not declared variable "+e.name)},e.prototype.visitReadVarExpr=function(e,t){var r=e.name;if(d(e.builtin))switch(e.builtin){case Xs.Super:return t.instance.__proto__;case Xs.This:return t.instance;case Xs.CatchError:r=Su;break;case Xs.CatchStack:r=Cu;break;default:throw new Ts("Unknown builtin variable "+e.builtin);}for(var o=t;null!=o;){if(o.vars.has(r))return o.vars.get(r);o=o.parent}throw new Ts("Not declared variable "+r)},e.prototype.visitWriteKeyExpr=function(e,t){var r=e.receiver.visitExpression(this,t),o=e.index.visitExpression(this,t),n=e.value.visitExpression(this,t);return r[o]=n,n},e.prototype.visitWritePropExpr=function(e,t){var r=e.receiver.visitExpression(this,t),o=e.value.visitExpression(this,t);return r[e.name]=o,o},e.prototype.visitInvokeMethodExpr=function(e,t){var r=e.receiver.visitExpression(this,t),o=this.visitAllExpressions(e.args,t),n;if(d(e.builtin))switch(e.builtin){case ep.ConcatArray:n=Ln.concat(r,o[0]);break;case ep.SubscribeObservable:n=r.subscribe({next:o[0]});break;case ep.bind:n=r.bind(o[0]);break;default:throw new Ts("Unknown builtin method "+e.builtin);}else n=r[e.name].apply(r,o);return n},e.prototype.visitInvokeFunctionExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),o=e.fn;if(o instanceof Zs&&o.builtin===Xs.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,r),null;var n=e.fn.visitExpression(this,t);return n.apply(null,r)},e.prototype.visitReturnStmt=function(e,t){return new _u(e.value.visitExpression(this,t))},e.prototype.visitDeclareClassStmt=function(e,t){var r=io(e,t,this);return t.vars.set(e.name,r),null},e.prototype.visitExpressionStmt=function(e,t){return e.expr.visitExpression(this,t)},e.prototype.visitIfStmt=function(e,t){var r=e.condition.visitExpression(this,t);return r?this.visitAllStatements(e.trueCase,t):d(e.falseCase)?this.visitAllStatements(e.falseCase,t):null},e.prototype.visitTryCatchStmt=function(t,r){try{return this.visitAllStatements(t.bodyStmts,r)}catch(n){var o=r.createChildWihtLocalVars();return o.vars.set(Su,n),o.vars.set(Cu,n.stack),this.visitAllStatements(t.catchStmts,o)}},e.prototype.visitThrowStmt=function(e,t){throw e.error.visitExpression(this,t)},e.prototype.visitCommentStmt=function(){return null},e.prototype.visitInstantiateExpr=function(e,t){var r=this.visitAllExpressions(e.args,t),o=e.classExpr.visitExpression(this,t);return new(o.bind.apply(o,[void 0].concat(r)))},e.prototype.visitLiteralExpr=function(e){return e.value},e.prototype.visitExternalExpr=function(e){return e.value.runtime},e.prototype.visitConditionalExpr=function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):d(e.falseCase)?e.falseCase.visitExpression(this,t):null},e.prototype.visitNotExpr=function(e,t){return!e.condition.visitExpression(this,t)},e.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t)},e.prototype.visitFunctionExpr=function(e,t){var r=e.params.map(function(e){return e.name});return so(r,e.statements,t,this)},e.prototype.visitDeclareFunctionStmt=function(e,t){var r=e.params.map(function(e){return e.name});return t.vars.set(e.name,so(r,e.statements,t,this)),null},e.prototype.visitBinaryOperatorExpr=function(e,t){var r=this,o=function(){return e.lhs.visitExpression(r,t)},n=function(){return e.rhs.visitExpression(r,t)};switch(e.operator){case Ks.Equals:return o()==n();case Ks.Identical:return o()===n();case Ks.NotEquals:return o()!=n();case Ks.NotIdentical:return o()!==n();case Ks.And:return o()&&n();case Ks.Or:return o()||n();case Ks.Plus:return o()+n();case Ks.Minus:return o()-n();case Ks.Divide:return o()/n();case Ks.Multiply:return o()*n();case Ks.Modulo:return o()%n();case Ks.Lower:return o()<n();case Ks.LowerEquals:return o()<=n();case Ks.Bigger:return o()>n();case Ks.BiggerEquals:return o()>=n();default:throw new Ts("Unknown operator "+e.operator);}},e.prototype.visitReadPropExpr=function(e,t){var r=e.receiver.visitExpression(this,t),o;return o=r[e.name]},e.prototype.visitReadKeyExpr=function(e,t){var r=e.receiver.visitExpression(this,t),o=e.index.visitExpression(this,t);return r[o]},e.prototype.visitLiteralArrayExpr=function(e,t){return this.visitAllExpressions(e.entries,t)},e.prototype.visitLiteralMapExpr=function(e,t){var r=this,o={};return e.entries.forEach(function(e){return o[e[0]]=e[1].visitExpression(r,t)}),o},e.prototype.visitAllExpressions=function(e,t){var r=this;return e.map(function(e){return e.visitExpression(r,t)})},e.prototype.visitAllStatements=function(e,t){for(var r=0;r<e.length;r++){var o=e[r],n=o.visitStatement(this,t);if(n instanceof _u)return n}return null},e}(),Su="error",Cu="stack",Eu=function(e){function t(){e.call(this,!1)}return __extends(t,e),t.prototype.visitDeclareClassStmt=function(e,t){var r=this;return t.pushClass(e),this._visitClassConstructor(e,t),d(e.parent)&&(t.print(e.name+".prototype = Object.create("),e.parent.visitExpression(this,t),t.println(".prototype);")),e.getters.forEach(function(o){return r._visitClassGetter(e,o,t)}),e.methods.forEach(function(o){return r._visitClassMethod(e,o,t)}),t.popClass(),null},t.prototype._visitClassConstructor=function(e,t){t.print("function "+e.name+"("),d(e.constructorMethod)&&this._visitParams(e.constructorMethod.params,t),t.println(") {"),t.incIndent(),d(e.constructorMethod)&&0<e.constructorMethod.body.length&&(t.println("var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println("}")},t.prototype._visitClassGetter=function(e,t,r){r.println("Object.defineProperty("+e.name+".prototype, '"+t.name+"', { get: function() {"),r.incIndent(),0<t.body.length&&(r.println("var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println("}});")},t.prototype._visitClassMethod=function(e,t,r){r.print(e.name+".prototype."+t.name+" = function("),this._visitParams(t.params,r),r.println(") {"),r.incIndent(),0<t.body.length&&(r.println("var self = this;"),this.visitAllStatements(t.body,r)),r.decIndent(),r.println("};")},t.prototype.visitReadVarExpr=function(t,r){if(t.builtin===Xs.This)r.print("self");else{if(t.builtin===Xs.Super)throw new Ts("'super' needs to be handled at a parent ast node, not at the variable level!");e.prototype.visitReadVarExpr.call(this,t,r)}return null},t.prototype.visitDeclareVarStmt=function(e,t){return t.print("var "+e.name+" = "),e.value.visitExpression(this,t),t.println(";"),null},t.prototype.visitCastExpr=function(e,t){return e.value.visitExpression(this,t),null},t.prototype.visitInvokeFunctionExpr=function(t,r){var o=t.fn;return o instanceof Zs&&o.builtin===Xs.Super?(r.currentClass.parent.visitExpression(this,r),r.print(".call(this"),0<t.args.length&&(r.print(", "),this.visitAllExpressions(t.args,r,",")),r.print(")")):e.prototype.visitInvokeFunctionExpr.call(this,t,r),null},t.prototype.visitFunctionExpr=function(e,t){return t.print("function("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print("}"),null},t.prototype.visitDeclareFunctionStmt=function(e,t){return t.print("function "+e.name+"("),this._visitParams(e.params,t),t.println(") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println("}"),null},t.prototype.visitTryCatchStmt=function(e,t){t.println("try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println("} catch ("+du.name+") {"),t.incIndent();var r=[cu.set(du.prop("stack")).toDeclStmt(null,[_p.Final])].concat(e.catchStmts);return this.visitAllStatements(r,t),t.decIndent(),t.println("}"),null},t.prototype._visitParams=function(e,t){this.visitAllObjects(function(e){return t.print(e.name)},e,t,",")},t.prototype.getBuiltinMethodName=function(e){var t;switch(e){case ep.ConcatArray:t="concat";break;case ep.SubscribeObservable:t="subscribe";break;case ep.bind:t="bind";break;default:throw new Ts("Unknown builtin method: "+e);}return t},t}(mu),xu=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e.apply(this,t),this._evalArgNames=[],this._evalArgValues=[]}return __extends(t,e),t.prototype.getArgs=function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e},t.prototype.visitExternalExpr=function(e,t){var r=e.value.runtime,o=this._evalArgValues.indexOf(r);if(-1===o){o=this._evalArgValues.length,this._evalArgValues.push(r);var n=d(e.value.name)?Ve(e.value.name):"val";this._evalArgNames.push(Ve("jit_"+n+o))}return t.print(this._evalArgNames[o]),null},t}(Eu),Tu=function(){function e(){this.strictStyling=!0}return e.prototype.shimCssText=function(e,t,r){return void 0===r&&(r=""),e=lo(e),e=this._insertDirectives(e),this._scopeCssText(e,t,r)},e.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},e.prototype._insertPolyfillDirectivesInCssText=function(e){return fn.replaceAllMapped(e,Pu,function(e){return e[1]+"{"})},e.prototype._insertPolyfillRulesInCssText=function(e){return fn.replaceAllMapped(e,Ou,function(e){var t=e[0];return t=fn.replace(t,e[1],""),t=fn.replace(t,e[2],""),e[3]+t})},e.prototype._scopeCssText=function(e,t,r){var o=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),d(t)&&(e=this._scopeSelectors(e,t,r)),e=e+"\n"+o,e.trim()},e.prototype._extractUnscopedRulesFromCssText=function(e){var t="",o;for(Au.lastIndex=0;null!==(o=Au.exec(e));){var n=o[0];n=fn.replace(n,o[2],""),n=fn.replace(n,o[1],o[3]),t+=n+"\n\n"}return t},e.prototype._convertColonHost=function(e){return this._convertColonRule(e,ku,this._colonHostPartReplacer)},e.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,Mu,this._colonHostContextPartReplacer)},e.prototype._convertColonRule=function(e,t,o){return fn.replaceAllMapped(e,t,function(e){if(d(e[2])){for(var t=e[2].split(","),n=[],r=0,a;r<t.length&&(a=t[r],!c(a));r++)a=a.trim(),n.push(o(Iu,a,e[3]));return n.join(",")}return Iu+e[3]})},e.prototype._colonHostContextPartReplacer=function(e,t,r){return fn.contains(t,wu)?this._colonHostPartReplacer(e,t,r):e+t+r+", "+t+" "+e+r},e.prototype._colonHostPartReplacer=function(e,t,r){return e+fn.replace(t,wu,"")+r},e.prototype._convertShadowDOMSelectors=function(e){for(var t=0;t<Ru.length;t++)e=fn.replaceAll(e,Ru[t]," ");return e},e.prototype._scopeSelectors=function(e,t,r){var o=this;return co(e,function(e){var n=e.selector,a=e.content;return"@"!=e.selector[0]||e.selector.startsWith("@page")?n=o._scopeSelector(e.selector,t,r,o.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports"))&&(a=o._scopeSelectors(e.content,t,r)),new qu(n,a)})},e.prototype._scopeSelector=function(e,t,o,n){for(var a=[],r=e.split(","),s=0;s<r.length;s++){var l=r[s].trim(),p=fn.split(l,Nu),d=p[0];this._selectorNeedsScoping(d,t)&&(p[0]=n&&!fn.contains(d,Iu)?this._applyStrictSelectorScope(d,t):this._applySelectorScope(d,t,o)),a.push(p.join(" "))}return a.join(", ")},e.prototype._selectorNeedsScoping=function(e,t){var r=this._makeScopeMatcher(t);return!r.test(e)},e.prototype._makeScopeMatcher=function(e){var t=/\[/g,r=/\]/g;return e=fn.replaceAll(e,t,"\\["),e=fn.replaceAll(e,r,"\\]"),new RegExp("^("+e+")"+"([>\\s~+[.,{:][\\s\\S]*)?$","m")},e.prototype._applySelectorScope=function(e,t,r){return this._applySimpleSelectorScope(e,t,r)},e.prototype._applySimpleSelectorScope=function(e,t,r){if(Du.test(e)){var o=this.strictStyling?"["+r+"]":t;return e=fn.replace(e,Iu,o),fn.replaceAll(e,Du,o+" ")}return t+" "+e},e.prototype._applyStrictSelectorScope=function(e,t){var r=/\[is=([^\]]*)\]/g;t=fn.replaceAllMapped(t,r,function(e){return e[1]});for(var o=[" ",">","+","~"],n=e,a="["+t+"]",s=0;s<o.length;s++){var p=o[s],l=n.split(p);n=l.map(function(e){var r=fn.replaceAll(e.trim(),Du,"");if(0<r.length&&!Ln.contains(o,r)&&!fn.contains(r,a)){var t=r.match(/([^:]*)(:*)(.*)/);null!==t&&(e=t[1]+a+t[2]+t[3])}return e}).join(p)}return n},e.prototype._insertPolyfillHostInCssText=function(e){return e=fn.replaceAll(e,Lu,"-shadowcsscontext"),e=fn.replaceAll(e,Vu,wu)},e}(),Pu=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,Ou=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,Au=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,wu="-shadowcsshost",ku=/(-shadowcsshost)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))?([^,{]*)/gim,Mu=/(-shadowcsscontext)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))?([^,{]*)/gim,Iu="-shadowcsshost-no-combinator",Ru=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Nu=/(?:>>>)|(?:\/deep\/)/g,Du=/-shadowcsshost/im,Vu=/:host/gim,Lu=/:host-context/gim,ju=/\/\*[\s\S]*?\*\//g,Fu=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Uu=/([{}])/g,Bu="{",zu="}",Hu="%BLOCK%",qu=function(){return function(e,t){this.selector=e,this.content=t}}(),Wu=function(){return function(e,t){this.escapedString=e,this.blocks=t}}(),Gu=function(){return function(e,t,r){this.moduleUrl=e,this.isShimmed=t,this.valuePlaceholder=r}}(),Ku=function(){return function(e,t){this.componentStylesheet=e,this.externalStylesheets=t}}(),Qu=function(){return function(e,t,r,o,n){this.statements=e,this.stylesVar=t,this.dependencies=r,this.isShimmed=o,this.meta=n}}(),Xu=function(){function e(e){this._urlResolver=e,this._shadowCss=new Tu}return e.prototype.compileComponent=function(e){var t=this,r=[],o=this._compileStyles(e,new ll({styles:e.template.styles,styleUrls:e.template.styleUrls,moduleUrl:e.type.moduleUrl}),!0);return e.template.externalStylesheets.forEach(function(o){var n=t._compileStyles(e,o,!1);r.push(n)}),new Ku(o,r)},e.prototype._compileStyles=function(e,r,o){for(var n=this,a=e.template.encapsulation===t.ViewEncapsulation.Emulated,s=r.styles.map(function(e){return Re(n._shimIfNeeded(e,a))}),p=[],l=0,d;l<r.styleUrls.length;l++)d=new tl({name:yo(null)}),p.push(new Gu(r.styleUrls[l],a,d)),s.push(new ap(d));var c=yo(o?e:null),u=Pe(c).set(we(s,new Us(zs,[Ds.Const]))).toDeclStmt(null,[_p.Final]);return new Qu([u],c,p,a,r)},e.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,"_ngcontent-%COMP%","_nghost-%COMP%"):e},e}();Xu.decorators=[{type:t.Injectable}],Xu.ctorParameters=[{type:Is}];var Zu=function(){function e(e,t,r,o,n,a,i,s,p){this._injector=e,this._metadataResolver=t,this._templateNormalizer=r,this._templateParser=o,this._styleCompiler=n,this._viewCompiler=a,this._ngModuleCompiler=i,this._compilerConfig=s,this._console=p,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledNgModuleCache=new Map}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.compileModuleSync=function(e){return this._compileModuleAndComponents(e,!0).syncResult},e.prototype.compileModuleAsync=function(e){return this._compileModuleAndComponents(e,!1).asyncResult},e.prototype.compileModuleAndAllComponentsSync=function(e){return this._compileModuleAndAllComponents(e,!0).syncResult},e.prototype.compileModuleAndAllComponentsAsync=function(e){return this._compileModuleAndAllComponents(e,!1).asyncResult},e.prototype.compileComponentAsync=function(e,t){if(void 0===t&&(t=null),!t)throw new Ts("Calling compileComponentAsync on the root compiler without a module is not allowed! (Compiling component "+f(e)+")");return this._compileComponentInModule(e,!1,t).asyncResult},e.prototype.compileComponentSync=function(e,t){if(void 0===t&&(t=null),!t)throw new Ts("Calling compileComponentSync on the root compiler without a module is not allowed! (Compiling component "+f(e)+")");return this._compileComponentInModule(e,!0,t).syncResult},e.prototype._compileModuleAndComponents=function(e,t){var r=this._compileComponents(e,t),o=this._compileModule(e);return new Up(o,r.then(function(){return o}))},e.prototype._compileModuleAndAllComponents=function(e,r){var o=this,n=this._compileComponents(e,r),a=this._compileModule(e),i=this._metadataResolver.getNgModuleMetadata(e),s=[],p=new Set;i.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(e){if(e.isComponent){var t=o._createCompiledHostTemplate(e.type.runtime);p.add(t),s.push(t.proxyComponentFactory)}})});var l=new t.ModuleWithComponentFactories(a,s),d=function(){return p.forEach(function(e){o._compileTemplate(e)}),l},c=r?Promise.resolve(d()):n.then(d);return new Up(l,c)},e.prototype._compileModule=function(e){var r=this,o=this._compiledNgModuleCache.get(e);if(!o){var n=this._metadataResolver.getNgModuleMetadata(e),a=(n.transitiveModule,function(e){return new $u(r,n.type.runtime,e,r._console)}),i=[this._metadataResolver.getProviderMetadata(new t.Provider(t.Compiler,{useFactory:a,deps:[[new t.OptionalMetadata,new t.SkipSelfMetadata,t.ComponentResolver]]})),this._metadataResolver.getProviderMetadata(new t.Provider(t.ComponentResolver,{useExisting:t.Compiler}))],s=this._ngModuleCompiler.compile(n,i);s.dependencies.forEach(function(e){e.placeholder.runtime=r._assertComponentKnown(e.comp.runtime,!0).proxyComponentFactory,e.placeholder.name="compFactory_"+e.comp.name}),o=this._compilerConfig.useJit?po(n.type.name+".ngfactory.js",s.statements,s.ngModuleFactoryVar):no(s.statements,s.ngModuleFactoryVar),this._compiledNgModuleCache.set(n.type.runtime,o)}return o},e.prototype._compileComponentInModule=function(e,t,r){this._metadataResolver.addComponentToModule(r,e);var o=this._compileComponents(r,t),n=this._assertComponentKnown(e,!0).proxyComponentFactory;return new Up(n,o.then(function(){return n}))},e.prototype._compileComponents=function(e,r){var o=this,n=new Set,a=[],i=this._metadataResolver.getNgModuleMetadata(e);i.transitiveModule.modules.forEach(function(e){e.declaredDirectives.forEach(function(t){t.isComponent&&(n.add(o._createCompiledTemplate(t,e)),t.entryComponents.forEach(function(e){n.add(o._createCompiledHostTemplate(e.runtime))}))}),e.entryComponents.forEach(function(e){n.add(o._createCompiledHostTemplate(e.runtime))})}),n.forEach(function(e){if(e.loading){if(r)throw new t.ComponentStillLoadingError(e.compType.runtime);a.push(e.loading)}});var s=function(){n.forEach(function(e){o._compileTemplate(e)})};return r?(s(),Promise.resolve(null)):Promise.all(a).then(s)},e.prototype.clearCacheFor=function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e);var t=this._compiledTemplateCache.get(e);t&&(this._templateNormalizer.clearCacheFor(t.normalizedCompMeta),this._compiledTemplateCache.delete(e))},e.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._templateNormalizer.clearCache(),this._compiledNgModuleCache.clear()},e.prototype._createCompiledHostTemplate=function(e){var t=this._compiledHostTemplateCache.get(e);if(c(t)){var r=this._metadataResolver.getDirectiveMetadata(e);mo(r);var o=Ue(r);t=new Yu(!0,r.selector,r.type,[r],[],[],this._templateNormalizer.normalizeDirective(o)),this._compiledHostTemplateCache.set(e,t)}return t},e.prototype._createCompiledTemplate=function(e,t){var r=this._compiledTemplateCache.get(e.type.runtime);return c(r)&&(mo(e),r=new Yu(!1,e.selector,e.type,t.transitiveModule.directives,t.transitiveModule.pipes,t.schemas,this._templateNormalizer.normalizeDirective(e)),this._compiledTemplateCache.set(e.type.runtime,r)),r},e.prototype._assertComponentKnown=function(e,t){var r=t?this._compiledHostTemplateCache.get(e):this._compiledTemplateCache.get(e);if(!r)throw new Ts("Illegal state: CompiledTemplate for "+f(e)+" (isHost: "+t+") does not exist!");return r},e.prototype._assertComponentLoaded=function(e,t){var r=this._assertComponentKnown(e,t);if(r.loading)throw new Ts("Illegal state: CompiledTemplate for "+f(e)+" (isHost: "+t+") is still loading!");return r},e.prototype._compileTemplate=function(e){var t=this;if(!e.isCompiled){var r=e.normalizedCompMeta,o=new Map,n=this._styleCompiler.compileComponent(r);n.externalStylesheets.forEach(function(e){o.set(e.meta.moduleUrl,e)}),this._resolveStylesCompileResult(n.componentStylesheet,o);var a=e.viewComponentTypes.map(function(e){return t._assertComponentLoaded(e,!1).normalizedCompMeta}),i=this._templateParser.parse(r,r.template.template,e.viewDirectives.concat(a),e.viewPipes,e.schemas,r.type.name),s=this._viewCompiler.compileComponent(r,i,Pe(n.componentStylesheet.stylesVar),e.viewPipes);s.dependencies.forEach(function(e){var r;if(e instanceof Fc){var o=e;r=t._assertComponentLoaded(o.comp.runtime,!1),o.placeholder.runtime=r.proxyViewFactory,o.placeholder.name="viewFactory_"+o.comp.name}else if(e instanceof Uc){var n=e;r=t._assertComponentLoaded(n.comp.runtime,!0),n.placeholder.runtime=r.proxyComponentFactory,n.placeholder.name="compFactory_"+n.comp.name}});var p=n.componentStylesheet.statements.concat(s.statements),l;l=this._compilerConfig.useJit?po(e.compType.name+".ngfactory.js",p,s.viewFactoryVar):no(p,s.viewFactoryVar),e.compiled(l)}},e.prototype._resolveStylesCompileResult=function(e,t){var r=this;e.dependencies.forEach(function(e,o){var n=t.get(e.moduleUrl),a=r._resolveAndEvalStylesCompileResult(n,t);e.valuePlaceholder.runtime=a,e.valuePlaceholder.name="importedStyles"+o})},e.prototype._resolveAndEvalStylesCompileResult=function(e,t){return this._resolveStylesCompileResult(e,t),this._compilerConfig.useJit?po(e.meta.moduleUrl+".css.js",e.statements,e.stylesVar):no(e.statements,e.stylesVar)},e}();Zu.decorators=[{type:t.Injectable}],Zu.ctorParameters=[{type:t.Injector},{type:tu},{type:Qc},{type:pd},{type:Xu},{type:Hc},{type:au},{type:hd},{type:ss}];var Yu=function(){function e(e,r,o,n,a,i,s){var p=this;this.isHost=e,this.compType=o,this.viewPipes=a,this.schemas=i,this._viewFactory=null,this.loading=null,this._normalizedCompMeta=null,this.isCompiled=!1,this.isCompiledWithDeps=!1,this.viewComponentTypes=[],this.viewDirectives=[],n.forEach(function(e){e.isComponent?p.viewComponentTypes.push(e.type.runtime):p.viewDirectives.push(e)}),this.proxyViewFactory=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(!p._viewFactory)throw new Ts("Illegal state: CompiledTemplate for "+f(p.compType)+" is not compiled yet!");return p._viewFactory.apply(null,e)},this.proxyComponentFactory=e?new t.ComponentFactory(r,this.proxyViewFactory,o.runtime):null,s.syncResult?this._normalizedCompMeta=s.syncResult:this.loading=s.asyncResult.then(function(e){p._normalizedCompMeta=e,p.loading=null})}return Object.defineProperty(e.prototype,"normalizedCompMeta",{get:function(){if(this.loading)throw new Ts("Template is still loading for "+this.compType.name+"!");return this._normalizedCompMeta},enumerable:!0,configurable:!0}),e.prototype.compiled=function(e){this._viewFactory=e,this.isCompiled=!0},e.prototype.depsCompiled=function(){this.isCompiledWithDeps=!0},e}(),$u=function(){function e(e,t,r,o){this._delegate=e,this._ngModule=t,this._parentComponentResolver=r,this._console=o,this._warnOnComponentResolver=!0}return Object.defineProperty(e.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),e.prototype.resolveComponent=function(e){return u(e)?this._parentComponentResolver?this._parentComponentResolver.resolveComponent(e):Promise.reject(new Ts("Cannot resolve component using '"+e+"'.")):(this._warnOnComponentResolver&&(this._console.warn(t.ComponentResolver.DynamicCompilationDeprecationMsg),this._warnOnComponentResolver=!1),this.compileComponentAsync(e))},e.prototype.compileComponentAsync=function(e,t){return void 0===t&&(t=null),this._delegate.compileComponentAsync(e,t?t:this._ngModule)},e.prototype.compileComponentSync=function(e,t){return void 0===t&&(t=null),this._delegate.compileComponentSync(e,t?t:this._ngModule)},e.prototype.compileModuleSync=function(e){return this._delegate.compileModuleSync(e)},e.prototype.compileModuleAsync=function(e){return this._delegate.compileModuleAsync(e)},e.prototype.compileModuleAndAllComponentsSync=function(e){return this._delegate.compileModuleAndAllComponentsSync(e)},e.prototype.compileModuleAndAllComponentsAsync=function(e){return this._delegate.compileModuleAndAllComponentsAsync(e)},e.prototype.clearCache=function(){this._delegate.clearCache(),this._parentComponentResolver&&this._parentComponentResolver.clearCache()},e.prototype.clearCacheFor=function(e){this._delegate.clearCacheFor(e)},e}(),Ju={};go(t.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),go(t.SecurityContext.STYLE,["*|style"]),go(t.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),go(t.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);var ey=["*|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","^*|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*autocomplete,*autocompleteerror,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,#volume",":svg:^*|*abort,*autocomplete,*autocompleteerror,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerpolicy,rel,rev,search,shape,target,text,type,username","area|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerpolicy,search,shape,target,username","audio^media|","br|clear","base|href,target","body|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas|#height,#width","content|select","dl|!compact","datalist|","details|!open","dialog|!open,returnValue","dir|!compact","div|align","embed|align,height,name,src,type,width","fieldset|!disabled,name","font|color,face,size","form|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr|align,color,!noShade,size,width","head|","h1,h2,h3,h4,h5,h6|align","html|version","iframe|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerpolicy,%sandbox,scrolling,src,srcdoc,width","img|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerpolicy,sizes,src,srcset,useMap,#vspace,#width","input|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen|!autofocus,challenge,!disabled,keytype,name","li|type,#value","label|htmlFor","legend|align","link|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map|name","marquee|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu|!compact","meta|content,httpEquiv,name,scheme","meter|#high,#low,#max,#min,#optimum,#value","ins,del|cite,dateTime","ol|!compact,!reversed,#start,type","object|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup|!disabled,label","option|!defaultSelected,!disabled,label,!selected,text,value","output|defaultValue,%htmlFor,name,value","p|align","param|name,type,value,valueType","picture|","pre|#width","progress|#max,#value","q,blockquote,cite|","script|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow|","source|media,sizes,src,srcset,type","span|","style|!disabled,media,type","caption|align","th,td|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup|align,ch,chOff,#span,vAlign,width","table|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody|align,ch,chOff,vAlign","template|","textarea|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title|text","track|!default,kind,label,src,srclang","ul|!compact,type","unknown|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan"],ty={class:"className",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ry=function(e){function r(){var t=this;e.call(this),this.schema={},ey.forEach(function(e){var r=e.split("|"),o=r[1].split(","),n=(r[0]+"^").split("^"),a=n[0],i={};a.split(",").forEach(function(e){return t.schema[e]=i});var s=t.schema[n[1]];d(s)&&Vn.forEach(s,function(e,t){return i[t]=e}),o.forEach(function(e){""==e||e.startsWith("*")||(e.startsWith("!")?i[e.substring(1)]="boolean":e.startsWith("#")?i[e.substring(1)]="number":e.startsWith("%")?i[e.substring(1)]="object":i[e]="string")})})}return __extends(r,e),r.prototype.hasProperty=function(e,r,o){if(-1!==e.indexOf("-")){if("ng-container"===e||"ng-content"===e)return!1;if(o.some(function(e){return e.name===t.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}var n=this.schema[e.toLowerCase()];return d(n)||(n=this.schema.unknown),d(n[r])},r.prototype.securityContext=function(e,r){e=e.toLowerCase(),r=r.toLowerCase();var o=Ju[e+"|"+r];return void 0===o?(o=Ju["*|"+r],void 0===o?t.SecurityContext.NONE:o):o},r.prototype.getMappedPropName=function(e){var t=Vn.get(ty,e);return d(t)?t:e},r.prototype.getDefaultComponentElementName=function(){return"ng-component"},r}(Ul);ry.decorators=[{type:t.Injectable}],ry.ctorParameters=[];var oy=[{provide:ls,useValue:ps},{provide:Ai,useExisting:ls},{provide:Kc,useValue:{get:function(e){throw new Error("No XHR implementation has been provided. Can't read the url \""+e+"\"")}}},ss,Cn,ma,Ml,pd,Qc,tu,Ms,Xu,Hc,au,{provide:hd,useValue:new hd},Zu,{provide:t.Compiler,useExisting:Zu},ry,{provide:Ul,useExisting:ry},Is,Zc,eu,Jc],ny=function(){function e(e){this._defaultOptions=[{useDebug:t.isDevMode(),useJit:!0,defaultEncapsulation:t.ViewEncapsulation.Emulated}].concat(e)}return e.prototype.createCompiler=function(e){void 0===e&&(e=[]);var r=fo(this._defaultOptions.concat(e)),o=t.ReflectiveInjector.resolveAndCreate([oy,{provide:hd,useFactory:function(){return new hd({genDebugInfo:r.useDebug,useJit:r.useJit,defaultEncapsulation:r.defaultEncapsulation,logBindingUpdate:r.useDebug})},deps:[]},r.providers]);return o.get(t.Compiler)},e}();ny.decorators=[{type:t.Injectable}],ny.ctorParameters=[{type:Array,decorators:[{type:t.Inject,args:[t.COMPILER_OPTIONS]}]}];var ay=t.createPlatformFactory(t.platformCore,"coreDynamic",[{provide:t.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:t.CompilerFactory,useClass:ny},{provide:t.PLATFORM_INITIALIZER,useValue:function(){ps.reflectionCapabilities=new ds},multi:!0}]),iy=/asset:([^\/]+)\/([^\/]+)\/(.+)/,sy=function(){function e(){}return e.parseAssetUrl=function(e){return py.parse(e)},e}(),py=function(){function e(e,t,r){this.packageName=e,this.firstLevelDir=t,this.modulePath=r}return e.parse=function(t,r){void 0===r&&(r=!0);var o=t.match(iy);if(null!==o)return new e(o[1],o[2],o[3]);if(r)return null;throw new Ts("Url "+t+" is not a valid asset: url")},e}();e.__compiler_private__,function(e){e.SelectorMatcher=As,e.CssSelector=Os,e.AssetUrl=py,e.ImportGenerator=sy,e.CompileMetadataResolver=tu,e.HtmlParser=Ml,e.InterpolationConfig=On,e.DirectiveNormalizer=Qc,e.Lexer=Cn,e.Parser=ma,e.ParseLocation=Oa,e.ParseError=Ma,e.ParseErrorLevel=ka,e.ParseSourceFile=Aa,e.ParseSourceSpan=wa,e.TemplateParser=pd,e.DomElementSchemaRegistry=ry,e.StyleCompiler=Xu,e.ViewCompiler=Hc,e.NgModuleCompiler=au,e.TypeScriptEmitter=fu}(e.__compiler_private__||(e.__compiler_private__={})),e.i18n=di,e.COMPILER_PROVIDERS=oy,e.CompileDiDependencyMetadata=rl,e.CompileDirectiveMetadata=cl,e.CompileFactoryMetadata=nl,e.CompileIdentifierMetadata=tl,e.CompileMetadataWithIdentifier=Hp,e.CompilePipeMetadata=ul,e.CompileProviderMetadata=ol,e.CompileQueryMetadata=pl,e.CompileTemplateMetadata=dl,e.CompileTokenMetadata=al,e.CompileTypeMetadata=sl,e.CompilerConfig=hd,e.DEFAULT_PACKAGE_URL_PROVIDER=Ms,e.DirectiveResolver=Zc,e.NgModuleResolver=Jc,e.OfflineCompiler=Gc,e.PipeResolver=eu,e.RenderTypes=bd,e.RuntimeCompiler=Zu,e.SourceModule=qc,e.TEMPLATE_TRANSFORMS=ad,e.UrlResolver=Is,e.XHR=Kc,e.analyzeAppProvidersForDeprecatedConfiguration=function(e){void 0===e&&(e=[]);var r=[],o=[],n=[],a=[],i=t.ReflectiveInjector.resolveAndCreate(e),s=i.get(hd,null),p,l,d;s?(r=s.platformDirectives,o=s.platformPipes,l=s.useJit,p=s.genDebugInfo,d=s.defaultEncapsulation,a.push("Passing CompilerConfig as a regular provider is deprecated. Use the \"compilerOptions\" parameter of \"bootstrap()\" or use a custom \"CompilerFactory\" platform provider instead.")):(r=i.get(t.PLATFORM_DIRECTIVES,[]),o=i.get(t.PLATFORM_PIPES,[])),r=Ln.flatten(r),o=Ln.flatten(o);var c=i.get(Kc,null);c&&(n.push([{provide:Kc,useValue:c}]),a.push("Passing XHR as regular provider is deprecated. Pass the provider via \"compilerOptions\" instead.")),0<r.length&&a.push("The PLATFORM_DIRECTIVES provider and CompilerConfig.platformDirectives is deprecated. Add the directives to an NgModule instead! (Directives: "+r.map(function(e){return f(e)})+")"),0<o.length&&a.push("The PLATFORM_PIPES provider and CompilerConfig.platformPipes is deprecated. Add the pipes to an NgModule instead! (Pipes: "+o.map(function(e){return f(e)})+")");var u={useJit:l,useDebug:p,defaultEncapsulation:d,providers:n},y=function(){return function(){}}();return y.decorators=[{type:t.Component,args:[{directives:r,pipes:o,template:""}]}],{compilerOptions:u,moduleDeclarations:[y],deprecationMessages:a}},e.createOfflineCompileUrlResolver=function(){return new Is("asset:")},e.platformCoreDynamic=ay,e.InterpolationConfig=On,e.ElementSchemaRegistry=Ul,e.TextAst=ci,e.BoundTextAst=ui,e.AttrAst=yi,e.BoundElementPropertyAst=mi,e.BoundEventAst=gi,e.ReferenceAst=fi,e.VariableAst=hi,e.ElementAst=bi,e.EmbeddedTemplateAst=_i,e.BoundDirectivePropertyAst=vi,e.DirectiveAst=Si,e.ProviderAst=Ci,e.NgContentAst=Ei,e.templateVisitAll=fe});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/Subject"),require("rxjs/Observable"),require("rxjs/observable/PromiseObservable"),require("rxjs/operator/toPromise")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Subject","rxjs/Observable","rxjs/observable/PromiseObservable","rxjs/operator/toPromise"],t):t((e.ng=e.ng||{},e.ng.forms=e.ng.forms||{}),e.ng.core,e.Rx,e.Rx,e.Rx,e.Rx.Observable.prototype)}(this,function(e,t,r,o,n,a){"use strict";function s(e){return void 0!==e&&null!==e}function p(e){return void 0===e||null===e}function l(e){return"string"==typeof e}function d(e){return"function"==typeof e}function c(e){return s(e)&&d(e.then)}function u(e){return Array.isArray(e)}function y(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function m(e){return!p(e)&&e}function g(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function f(e){return!g(e)}function h(e,t){return e.constructor===t}function b(e,t){if(s(e))for(var r=0,o;r<e.length;r++)o=e[r],u(o)?b(o,t):t.push(o);return t}function _(){throw new pe("unimplemented")}function v(e){return c(e)?e:a.toPromise.call(e)}function S(e,t){return t.map(function(t){return t(e)})}function C(e,t){return t.map(function(t){return t(e)})}function E(e){var t=e.reduce(function(e,t){return s(t)?ie.merge(e,t):e},{});return ie.isEmpty(t)?null:t}function x(e){return void 0===e.validate?e:function(t){return e.validate(t)}}function T(e){return void 0===e.validate?e:function(t){return e.validate(t)}}function P(e,t){return p(e)?""+t:(f(t)||(t="Object"),Q.slice(e+": "+t,0,50))}function O(e){return e.split(":")[0]}function A(e,t){return p(e)?""+t:(l(t)&&(t="'"+t+"'"),f(t)||(t="Object"),Q.slice(e+": "+t,0,50))}function w(e){return e.split(":")[0]}function k(e,t){var r=se.clone(t.path);return r.push(e),r}function M(e,t){p(e)&&R(t,"Cannot find control with"),p(t.valueAccessor)&&R(t,"No value accessor for form control with"),e.validator=ge.compose([e.validator,t.validator]),e.asyncValidator=ge.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(r){t.viewToModelUpdate(r),e.markAsDirty(),e.setValue(r,{emitModelToViewChange:!1})}),e.registerOnChange(function(e,r){t.valueAccessor.writeValue(e),r&&t.viewToModelUpdate(e)}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()})}function I(e,t){p(e)&&R(t,"Cannot find control with"),e.validator=ge.compose([e.validator,t.validator]),e.asyncValidator=ge.composeAsync([e.asyncValidator,t.asyncValidator])}function R(e,t){var r;throw r=1<e.path.length?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new pe(t+" "+r)}function N(e){return s(e)?ge.compose(e.map(x)):null}function D(e){return s(e)?ge.composeAsync(e.map(T)):null}function V(e,t){if(!ie.contains(e,"model"))return!1;var r=e.model;return!!r.isFirstChange()||!y(t,r.currentValue)}function L(e,t){if(p(t))return null;var r,o,n;return t.forEach(function(t){h(t,$)?r=t:h(t,W)||h(t,he)||h(t,Ce)||h(t,Te)||h(t,ve)?(s(o)&&R(e,"More than one built-in value accessor matches form control with"),o=t):(s(n)&&R(e,"More than one custom value accessor matches form control with"),n=t)}),s(n)?n:s(o)?o:s(r)?r:(R(e,"No valid value accessor for form control with"),null)}function j(e,t,r){return p(t)?null:(t instanceof Array||(t=t.split(r)),t instanceof Array&&se.isEmpty(t)?null:t.reduce(function(e,t){if(e instanceof we)return s(e.controls[t])?e.controls[t]:null;if(e instanceof ke){var r=t;return s(e.at(r))?e.at(r):null}return null},e))}function F(e){return c(e)?n.PromiseObservable.create(e):e}function U(e){return Array.isArray(e)?N(e):e}function B(e){return Array.isArray(e)?D(e):e}function z(e){return!(e instanceof Xe||e instanceof Ke||e instanceof Ye)}var H=new t.OpaqueToken("NgValueAccessor"),q={provide:H,useExisting:t.forwardRef(function(){return W}),multi:!0},W=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e}();W.decorators=[{type:t.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[q]}]}],W.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var G="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var K=G;K.assert=function(){};var Q=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,o=0;o<e.length&&e[o]==t;o++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,o=e.length-1;0<=o&&e[o]==t;o--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return-1!=e.indexOf(t)},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),X=function(e){function t(t){e.call(this),this.message=t}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),Z=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new X("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t);}else if(!(16==t)){var r=parseInt(e,t);if(!isNaN(r))return r}else if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t);throw new X("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),Y={provide:H,useExisting:t.forwardRef(function(){return $}),multi:!0},$=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=p(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e}();$.decorators=[{type:t.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Y]}]}],$.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var J=K.Map,ee=K.Set,te=function(){try{if(1===new J([[1,2]]).size)return function(e){return new J(e)}}catch(t){}return function(e){for(var t=new J,r=0,o;r<e.length;r++)o=e[r],t.set(o[0],o[1]);return t}}(),re=function(){try{if(new J(new J()))return function(e){return new J(e)}}catch(t){}return function(e){var t=new J;return e.forEach(function(e,r){t.set(r,e)}),t}}(),oe=function(){return new J().keys().next?function(e){for(var t=e.keys(),r;!(r=t.next()).done;)e.set(r.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),ne=function(){try{if(new J().values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(t){}return function(e,t){var r=se.createFixedSize(e.size),o=0;return e.forEach(function(e,n){r[o]=t?e:n,o++}),r}}(),ae=function(){function e(){}return e.clone=function(e){return re(e)},e.createFromStringMap=function(e){var t=new J;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return te(e)},e.clearValues=function(e){oe(e)},e.iterable=function(e){return e},e.keys=function(e){return ne(e,!1)},e.values=function(e){return ne(e,!0)},e}(),ie=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,o=Object.keys(e),n;r<o.length;r++)n=o[r],t(e[n],n)},e.merge=function(e,t){for(var r={},o=0,n=Object.keys(e),a;o<n.length;o++)a=n[o],r[a]=e[a];for(var i=0,s=Object.keys(t),a;i<s.length;i++)a=s[i],r[a]=t[a];return r},e.equals=function(e,t){var r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var n=0,a;n<r.length;n++)if(a=r[n],e[a]!==t[a])return!1;return!0},e}(),se=function(){function e(){}return e.createFixedSize=function(e){return Array(e)},e.createGrowableSize=function(e){return Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0,o;r<t.length;++r)o=e.indexOf(t[r]),e.splice(o,1)},e.remove=function(e,t){var r=e.indexOf(t);return-1<r&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=null),e.fill(t,r,null===o?e.length:o)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){s(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,o=-(1/0),n=0,a;n<e.length;n++)if(a=e[n],!p(a)){var i=t(a);i>o&&(r=a,o=i)}return r},e.flatten=function(e){var t=[];return b(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),pe=(function(){var e=new ee([1,2,3]);return 3===e.size?function(e){return new ee(e)}:function(e){var t=new ee(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error)),le=function(){function e(){}return Object.defineProperty(e.prototype,"control",{get:function(){return _()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return s(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return s(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return s(this.control)?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return s(this.control)?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return s(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return s(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return s(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return s(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return s(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return s(this.control)?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return s(this.control)?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),s(this.control)&&this.control.reset(e)},e}(),de=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];e.apply(this,t),this.name=null,this.valueAccessor=null}return __extends(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return _()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return _()},enumerable:!0,configurable:!0}),t}(le),ce=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!s(this._cd.control)&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!s(this._cd.control)&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!s(this._cd.control)&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!s(this._cd.control)&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!s(this._cd.control)&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!s(this._cd.control)&&!this._cd.control.valid},enumerable:!0,configurable:!0}),e}();ce.decorators=[{type:t.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}]}],ce.ctorParameters=[{type:de,decorators:[{type:t.Self}]}];var ue=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.next=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,o){var n=function(){return null},a=function(){return null},i;return t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(n=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(n=this.__isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),o&&(a=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()})),e.prototype.subscribe.call(this,i,n,a)},t}(r.Subject),ye=new t.OpaqueToken("NgValidators"),me=new t.OpaqueToken("NgAsyncValidators"),ge=function(){function e(){}return e.required=function(e){return p(e.value)||l(e.value)&&""==e.value?{required:!0}:null},e.minLength=function(t){return function(r){if(s(e.required(r)))return null;var o=r.value;return o.length<t?{minlength:{requiredLength:t,actualLength:o.length}}:null}},e.maxLength=function(t){return function(r){if(s(e.required(r)))return null;var o=r.value;return o.length>t?{maxlength:{requiredLength:t,actualLength:o.length}}:null}},e.pattern=function(t){return function(r){if(s(e.required(r)))return null;var o=new RegExp("^"+t+"$"),n=r.value;return o.test(n)?null:{pattern:{requiredPattern:"^"+t+"$",actualValue:n}}}},e.nullValidator=function(){return null},e.compose=function(e){if(p(e))return null;var t=e.filter(s);return 0==t.length?null:function(e){return E(S(e,t))}},e.composeAsync=function(e){if(p(e))return null;var t=e.filter(s);return 0==t.length?null:function(e){var r=C(e,t).map(v);return Promise.all(r).then(E)}},e}(),fe={provide:H,useExisting:t.forwardRef(function(){return he}),multi:!0},he=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=p(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:Z.parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e}();he.decorators=[{type:t.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[fe]}]}],he.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var be={provide:H,useExisting:t.forwardRef(function(){return ve}),multi:!0},_e=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=-1,r=0;r<this._accessors.length;++r)this._accessors[r][1]===e&&(t=r);se.removeAt(this._accessors,t)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(r){t._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0].control.root===t._control.control.root&&e[1].name===t.name},e}();_e.decorators=[{type:t.Injectable}];var ve=function(){function e(e,t,r,o){this._renderer=e,this._elementRef=t,this._registry=r,this._injector=o,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(de),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,s(e)&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new pe("\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type=\"radio\" formControlName=\"food\" name=\"food\">\n    ")},e}();ve.decorators=[{type:t.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[be]}]}],ve.ctorParameters=[{type:t.Renderer},{type:t.ElementRef},{type:_e},{type:t.Injector}],ve.propDecorators={name:[{type:t.Input}],formControlName:[{type:t.Input}],value:[{type:t.Input}]};var Se={provide:H,useExisting:t.forwardRef(function(){return Ce}),multi:!0},Ce=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.value=e;var t=P(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(r){t.value=r,e(t._getOptionValue(r))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,r=ae.keys(this._optionMap),o;t<r.length;t++)if(o=r[t],y(this._optionMap.get(o),e))return o;return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(O(e));return s(t)?t:e},e}();Ce.decorators=[{type:t.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Se]}]}],Ce.ctorParameters=[{type:t.Renderer},{type:t.ElementRef}];var Ee=function(){function e(e,t,r){this._element=e,this._renderer=t,this._select=r,s(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(P(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),s(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){s(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();Ee.decorators=[{type:t.Directive,args:[{selector:"option"}]}],Ee.ctorParameters=[{type:t.ElementRef},{type:t.Renderer},{type:Ce,decorators:[{type:t.Optional},{type:t.Host}]}],Ee.propDecorators={ngValue:[{type:t.Input,args:["ngValue"]}],value:[{type:t.Input,args:["value"]}]};var xe={provide:H,useExisting:t.forwardRef(function(){return Te}),multi:!0},Te=function(){function e(){this._optionMap=new Map,this._idCounter=0,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=this;if(this.value=e,null!=e){var r=e.map(function(e){return t._getOptionId(e)});this._optionMap.forEach(function(e,t){e._setSelected(-1<r.indexOf(t.toString()))})}},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(r){var o=[];if(r.hasOwnProperty("selectedOptions"))for(var n=r.selectedOptions,a=0;a<n.length;a++){var s=n.item(a),p=t._getOptionValue(s.value);o.push(p)}else for(var n=r.options,a=0,s;a<n.length;a++)if(s=n.item(a),s.selected){var p=t._getOptionValue(s.value);o.push(p)}e(o)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){for(var t=0,r=ae.keys(this._optionMap),o;t<r.length;t++)if(o=r[t],y(this._optionMap.get(o)._value,e))return o;return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(w(e));return s(t)?t._value:e},e}();Te.decorators=[{type:t.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[xe]}]}],Te.ctorParameters=[];var Pe=function(){function e(e,t,r){this._element=e,this._renderer=t,this._select=r,s(this._select)&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(A(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){s(this._select)?(this._value=e,this._setElementValue(A(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setElementProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){s(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();Pe.decorators=[{type:t.Directive,args:[{selector:"option"}]}],Pe.ctorParameters=[{type:t.ElementRef},{type:t.Renderer},{type:Te,decorators:[{type:t.Optional},{type:t.Host}]}],Pe.propDecorators={ngValue:[{type:t.Input,args:["ngValue"]}],value:[{type:t.Input,args:["value"]}]};var Oe=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._pristine=!0,this._touched=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._status==="VALID"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this._status==="INVALID"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this._status=="PENDING"},enumerable:!0,configurable:!0}),e.prototype.setAsyncValidators=function(e){this.asyncValidator=B(e)},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.setValidators=function(e){this.validator=U(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.markAsTouched=function(e){var t=(void 0===e?{}:e).onlySelf;t=m(t),this._touched=!0,s(this._parent)&&!t&&this._parent.markAsTouched({onlySelf:t})},e.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;t=m(t),this._pristine=!1,s(this._parent)&&!t&&this._parent.markAsDirty({onlySelf:t})},e.prototype.markAsPristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!0,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),s(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype.markAsUntouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),s(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},e.prototype.markAsPending=function(e){var t=(void 0===e?{}:e).onlySelf;t=m(t),this._status="PENDING",s(this._parent)&&!t&&this._parent.markAsPending({onlySelf:t})},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){var t=void 0===e?{}:e,r=t.onlySelf,o=t.emitEvent;r=m(r),o=!s(o)||o,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!="VALID"&&this._status!="PENDING"||this._runAsyncValidator(o),o&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),s(this._parent)&&!r&&this._parent.updateValueAndValidity({onlySelf:r,emitEvent:o})},e.prototype._runValidator=function(){return s(this.validator)?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(s(this.asyncValidator)){this._status="PENDING",this._cancelExistingSubscription();var r=F(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe({next:function(r){return t.setErrors(r,{emitEvent:e})}})}},e.prototype._cancelExistingSubscription=function(){s(this._asyncValidationSubscription)&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){var r=(void 0===t?{}:t).emitEvent;r=!s(r)||r,this._errors=e,this._updateControlsErrors(r)},e.prototype.find=function(e){return j(this,e,"/")},e.prototype.get=function(e){return j(this,e,".")},e.prototype.getError=function(e,t){void 0===t&&(t=null);var r=s(t)&&!se.isEmpty(t)?this.find(t):this;return s(r)&&s(r._errors)?ie.get(r._errors,e):null},e.prototype.hasError=function(e,t){return void 0===t&&(t=null),s(this.getError(e,t))},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;s(e._parent);)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this._status=this._calculateStatus(),e&&this._statusChanges.emit(this._status),s(this._parent)&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this._valueChanges=new ue,this._statusChanges=new ue},e.prototype._calculateStatus=function(){return s(this._errors)?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status==e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){var t=(void 0===e?{}:e).onlySelf;this._pristine=!this._anyControlsDirty(),s(this._parent)&&!t&&this._parent._updatePristine({onlySelf:t})},e.prototype._updateTouched=function(e){var t=(void 0===e?{}:e).onlySelf;this._touched=this._anyControlsTouched(),s(this._parent)&&!t&&this._parent._updateTouched({onlySelf:t})},e}(),Ae=function(e){function t(t,r,o){void 0===t&&(t=null),void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,U(r),B(o)),this._onChange=[],this._value=t,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(t,e),t.prototype.setValue=function(e,t){var r=this,o=void 0===t?{}:t,n=o.onlySelf,a=o.emitEvent,i=o.emitModelToViewChange,p=o.emitViewToModelChange;i=!s(i)||i,p=!s(p)||p,this._value=e,this._onChange.length&&i&&this._onChange.forEach(function(e){return e(r._value,p)}),this.updateValueAndValidity({onlySelf:n,emitEvent:a})},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.updateValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null);var r=(void 0===t?{}:t).onlySelf;this.markAsPristine({onlySelf:r}),this.markAsUntouched({onlySelf:r}),this.setValue(e,{onlySelf:r})},t.prototype._updateValue=function(){},t.prototype._anyControls=function(){return!1},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._forEachChild=function(){},t}(Oe),we=function(e){function t(t,r,o,n){void 0===r&&(r=null),void 0===o&&(o=null),void 0===n&&(n=null),e.call(this,o,n),this.controls=t,this._optionals=s(r)?r:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity()},t.prototype.removeControl=function(e){ie.delete(this.controls,e),this.updateValueAndValidity()},t.prototype.include=function(e){ie.set(this._optionals,e,!0),this.updateValueAndValidity()},t.prototype.exclude=function(e){ie.set(this._optionals,e,!1),this.updateValueAndValidity()},t.prototype.contains=function(e){var t=ie.contains(this.controls,e);return t&&this._included(e)},t.prototype.setValue=function(e,t){var r=this,o=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),ie.forEach(e,function(e,t){r._throwIfControlMissing(t),r.controls[t].setValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:o})},t.prototype.patchValue=function(e,t){var r=this,o=(void 0===t?{}:t).onlySelf;ie.forEach(e,function(e,t){r.controls[t]&&r.controls[t].patchValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:o})},t.prototype.reset=function(e,t){void 0===e&&(e={});var r=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,r){t.reset(e[r],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new pe("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new pe("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){ie.forEach(this.controls,e)},t.prototype._setParentForControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e)})},t.prototype._updateValue=function(){this._value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,r=!1;return this._forEachChild(function(o,n){r=r||t.contains(n)&&e(o)}),r},t.prototype._reduceValue=function(){return this._reduceChildren({},function(e,t,r){return e[r]=t.value,e})},t.prototype._reduceChildren=function(e,t){var r=this,o=e;return this._forEachChild(function(e,n){r._included(n)&&(o=t(o,e,n))}),o},t.prototype._included=function(e){var t=ie.contains(this._optionals,e);return!t||ie.get(this._optionals,e)},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,r){if(void 0===e[r])throw new pe("Must supply a value for form control with name: '"+r+"'.")})},t}(Oe),ke=function(e){function t(t,r,o){void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this.controls=t,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),e.setParent(this),this.updateValueAndValidity()},t.prototype.insert=function(e,t){se.insert(this.controls,e,t),t.setParent(this),this.updateValueAndValidity()},t.prototype.removeAt=function(e){se.removeAt(this.controls,e),this.updateValueAndValidity()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var r=this,o=(void 0===t?{}:t).onlySelf;this._checkAllValuesPresent(e),e.forEach(function(e,t){r._throwIfControlMissing(t),r.at(t).setValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:o})},t.prototype.patchValue=function(e,t){var r=this,o=(void 0===t?{}:t).onlySelf;e.forEach(function(e,t){r.at(t)&&r.at(t).patchValue(e,{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:o})},t.prototype.reset=function(e,t){void 0===e&&(e=[]);var r=(void 0===t?{}:t).onlySelf;this._forEachChild(function(t,r){t.reset(e[r],{onlySelf:!0})}),this.updateValueAndValidity({onlySelf:r}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new pe("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new pe("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,r){e(t,r)})},t.prototype._updateValue=function(){this._value=this.controls.map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return e(t)})},t.prototype._setParentForControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,r){if(void 0===e[r])throw new pe("Must supply a value for form control at index: "+r+".")})},t}(Oe),Me=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(le),Ie={provide:Me,useExisting:t.forwardRef(function(){return Ne})},Re=Promise.resolve(null),Ne=function(e){function t(t,r){e.call(this),this._submitted=!1,this.ngSubmit=new ue,this.form=new we({},null,N(t),D(r))}return __extends(t,e),Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;Re.then(function(){var r=t._findContainer(e.path);e._control=r.registerControl(e.name,e.control),M(e.control,e),e.control.updateValueAndValidity({emitEvent:!1})})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;Re.then(function(){var r=t._findContainer(e.path);s(r)&&r.removeControl(e.name)})},t.prototype.addFormGroup=function(e){var t=this;Re.then(function(){var r=t._findContainer(e.path),o=new we({});I(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;Re.then(function(){var r=t._findContainer(e.path);s(r)&&r.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var r=this;Re.then(function(){var o=r.form.get(e.path);o.setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},t.prototype.onReset=function(){this.form.reset()},t.prototype._findContainer=function(e){return e.pop(),se.isEmpty(e)?this.form:this.form.get(e)},t}(Me);Ne.decorators=[{type:t.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[Ie],host:{"(submit)":"onSubmit()","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Ne.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]}];var De=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return k(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return N(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return D(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(Me),Ve={formControlName:"\n    <div [formGroup]=\"myGroup\">\n      <input formControlName=\"firstName\">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });",formGroupName:"\n    <div [formGroup]=\"myGroup\">\n       <div formGroupName=\"person\">\n          <input formControlName=\"firstName\">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });",formArrayName:"\n    <div [formGroup]=\"myGroup\">\n      <div formArrayName=\"cities\">\n        <div *ngFor=\"let city of cityArray.controls; let i=index\">\n          <input [formControlName]=\"i\">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl('SF')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });",ngModelGroup:"\n    <form>\n       <div ngModelGroup=\"person\">\n          <input [(ngModel)]=\"person.name\" name=\"firstName\">\n       </div>\n    </form>",ngModelWithFormGroup:"\n    <div [formGroup]=\"myGroup\">\n       <input formControlName=\"firstName\">\n       <input [(ngModel)]=\"showMoreControls\" [ngModelOptions]=\"{standalone: true}\">\n    </div>\n  "},Le=function(){function e(){}return e.modelParentException=function(){throw new pe("\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive \"formControlName\" instead.  Example:\n\n      "+Ve.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+Ve.ngModelWithFormGroup)},e.formGroupNameException=function(){throw new pe("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Ve.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Ve.ngModelGroup)},e.missingNameException=function(){throw new pe("If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as 'standalone' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]=\"person.firstName\" name=\"first\">\n      Example 2: <input [(ngModel)]=\"person.firstName\" [ngModelOptions]=\"{standalone: true}\">")},e.modelGroupParentException=function(){throw new pe("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Ve.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Ve.ngModelGroup)},e}(),je={provide:Me,useExisting:t.forwardRef(function(){return Fe})},Fe=function(e){function t(t,r,o){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=o}return __extends(t,e),t.prototype._checkParentType=function(){this._parent instanceof t||this._parent instanceof Ne||Le.modelGroupParentException()},t}(De);Fe.decorators=[{type:t.Directive,args:[{selector:"[ngModelGroup]",providers:[je],exportAs:"ngModelGroup"}]}],Fe.ctorParameters=[{type:Me,decorators:[{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]}],Fe.propDecorators={name:[{type:t.Input,args:["ngModelGroup"]}]};var Ue={provide:de,useExisting:t.forwardRef(function(){return ze})},Be=Promise.resolve(null),ze=function(e){function t(t,r,o,n){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=o,this._control=new Ae,this._registered=!1,this.update=new ue,this.valueAccessor=L(this,n)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),V(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?k(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return N(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return D(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},t.prototype._setUpStandalone=function(){M(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof Fe)&&this._parent instanceof De?Le.formGroupNameException():this._parent instanceof Fe||this._parent instanceof Ne||Le.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Le.missingNameException()},t.prototype._updateValue=function(e){var t=this;Be.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t}(de);ze.decorators=[{type:t.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Ue],exportAs:"ngModel"}]}],ze.ctorParameters=[{type:Me,decorators:[{type:t.Optional},{type:t.Host}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[H]}]}],ze.propDecorators={model:[{type:t.Input,args:["ngModel"]}],name:[{type:t.Input}],options:[{type:t.Input,args:["ngModelOptions"]}],update:[{type:t.Output,args:["ngModelChange"]}]};var He={provide:de,useExisting:t.forwardRef(function(){return qe})},qe=function(e){function t(t,r,o){e.call(this),this._validators=t,this._asyncValidators=r,this.update=new ue,this.valueAccessor=L(this,o)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(M(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),V(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return N(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return D(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._isControlChanged=function(e){return ie.contains(e,"form")},t}(de);qe.decorators=[{type:t.Directive,args:[{selector:"[formControl]",providers:[He],exportAs:"ngForm"}]}],qe.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[H]}]}],qe.propDecorators={form:[{type:t.Input,args:["formControl"]}],model:[{type:t.Input,args:["ngModel"]}],update:[{type:t.Output,args:["ngModelChange"]}]};var We=function(){function e(){}return e.controlParentException=function(){throw new pe("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ve.formControlName)},e.ngModelGroupException=function(){throw new pe("formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a \"form\" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        "+Ve.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Ve.ngModelGroup)},e.missingFormException=function(){throw new pe("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Ve.formControlName)},e.groupParentException=function(){throw new pe("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ve.formGroupName)},e.arrayParentException=function(){throw new pe("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Ve.formArrayName)},e}(),Ge={provide:Me,useExisting:t.forwardRef(function(){return Ke})},Ke=function(e){function t(t,r){e.call(this),this._validators=t,this._asyncValidators=r,this._submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new ue}return __extends(t,e),t.prototype.ngOnChanges=function(e){if(this._checkFormPresent(),ie.contains(e,"form")){var t=N(this._validators);this.form.validator=ge.compose([this.form.validator,t]);var r=D(this._asyncValidators);this.form.asyncValidator=ge.composeAsync([this.form.asyncValidator,r]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this.form.get(e.path);M(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e)},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){se.remove(this.directives,e)},t.prototype.addFormGroup=function(e){var t=this.form.get(e.path);I(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormGroup=function(){},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.addFormArray=function(e){var t=this.form.get(e.path);I(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormArray=function(){},t.prototype.getFormArray=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var r=this.form.get(e.path);r.setValue(t)},t.prototype.onSubmit=function(){return this._submitted=!0,this.ngSubmit.emit(null),!1},t.prototype.onReset=function(){this.form.reset()},t.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var r=e.form.get(t.path);t.valueAccessor.writeValue(r.value)})},t.prototype._checkFormPresent=function(){p(this.form)&&We.missingFormException()},t}(Me);Ke.decorators=[{type:t.Directive,args:[{selector:"[formGroup]",providers:[Ge],host:{"(submit)":"onSubmit()","(reset)":"onReset()"},exportAs:"ngForm"}]}],Ke.ctorParameters=[{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]}],Ke.propDecorators={form:[{type:t.Input,args:["formGroup"]}],ngSubmit:[{type:t.Output}]};var Qe={provide:Me,useExisting:t.forwardRef(function(){return Xe})},Xe=function(e){function t(t,r,o){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=o}return __extends(t,e),t.prototype._checkParentType=function(){z(this._parent)&&We.groupParentException()},t}(De);Xe.decorators=[{type:t.Directive,args:[{selector:"[formGroupName]",providers:[Qe]}]}],Xe.ctorParameters=[{type:Me,decorators:[{type:t.Optional},{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]}],Xe.propDecorators={name:[{type:t.Input,args:["formGroupName"]}]};var Ze={provide:Me,useExisting:t.forwardRef(function(){return Ye})},Ye=function(e){function t(t,r,o){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=o}return __extends(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},t.prototype.ngOnDestroy=function(){this.formDirective.removeFormArray(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return k(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return N(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return D(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){z(this._parent)&&We.arrayParentException()},t}(Me);Ye.decorators=[{type:t.Directive,args:[{selector:"[formArrayName]",providers:[Ze]}]}],Ye.ctorParameters=[{type:Me,decorators:[{type:t.Optional},{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]}],Ye.propDecorators={name:[{type:t.Input,args:["formArrayName"]}]};var $e={provide:de,useExisting:t.forwardRef(function(){return Je})},Je=function(e){function t(t,r,o,n){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=o,this._added=!1,this.update=new ue,this.valueAccessor=L(this,n)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._added||(this._checkParentType(),this.formDirective.addControl(this),this._added=!0),V(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(t.prototype,"path",{get:function(){return k(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return N(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return D(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){!(this._parent instanceof Xe)&&this._parent instanceof De?We.ngModelGroupException():this._parent instanceof Xe||this._parent instanceof Ke||this._parent instanceof Ye||We.controlParentException()},t}(de);Je.decorators=[{type:t.Directive,args:[{selector:"[formControlName]",providers:[$e]}]}],Je.ctorParameters=[{type:Me,decorators:[{type:t.Optional},{type:t.Host},{type:t.SkipSelf}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[ye]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[me]}]},{type:Array,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[H]}]}],Je.propDecorators={name:[{type:t.Input,args:["formControlName"]}],model:[{type:t.Input,args:["ngModel"]}],update:[{type:t.Output,args:["ngModelChange"]}]};var et=ge.required,tt=function(){return function(){}}();tt.decorators=[{type:t.Directive,args:[{selector:"[required][formControlName],[required][formControl],[required][ngModel]",providers:[{provide:ye,useValue:et,multi:!0}]}]}];var rt={provide:ye,useExisting:t.forwardRef(function(){return ot}),multi:!0},ot=function(){function e(e){this._validator=ge.minLength(Z.parseInt(e,10))}return e.prototype.validate=function(e){return this._validator(e)},e}();ot.decorators=[{type:t.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[rt]}]}],ot.ctorParameters=[{type:void 0,decorators:[{type:t.Attribute,args:["minlength"]}]}];var nt={provide:ye,useExisting:t.forwardRef(function(){return at}),multi:!0},at=function(){function e(e){this._validator=ge.maxLength(Z.parseInt(e,10))}return e.prototype.validate=function(e){return this._validator(e)},e}();at.decorators=[{type:t.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[nt]}]}],at.ctorParameters=[{type:void 0,decorators:[{type:t.Attribute,args:["maxlength"]}]}];var it={provide:ye,useExisting:t.forwardRef(function(){return st}),multi:!0},st=function(){function e(e){this._validator=ge.pattern(e)}return e.prototype.validate=function(e){return this._validator(e)},e}();st.decorators=[{type:t.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[it]}]}],st.ctorParameters=[{type:void 0,decorators:[{type:t.Attribute,args:["pattern"]}]}];var pt=[Ee,Pe,$,he,W,Ce,Te,ve,ce,tt,ot,at,st],lt=[ze,Fe,Ne],dt=[qe,Ke,Je,Xe,Ye],ct=[lt,pt],ut=function(){return function(){}}();ut.decorators=[{type:t.NgModule,args:[{declarations:pt,exports:pt}]}];var yt=function(){function e(){}return e.prototype.group=function(e,t){void 0===t&&(t=null);var r=this._reduceControls(e),o=s(t)?ie.get(t,"optionals"):null,n=s(t)?ie.get(t,"validator"):null,a=s(t)?ie.get(t,"asyncValidator"):null;return new we(r,o,n,a)},e.prototype.control=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),new Ae(e,t,r)},e.prototype.array=function(e,t,r){var o=this;void 0===t&&(t=null),void 0===r&&(r=null);var n=e.map(function(e){return o._createControl(e)});return new ke(n,t,r)},e.prototype._reduceControls=function(e){var t=this,r={};return ie.forEach(e,function(e,o){r[o]=t._createControl(e)}),r},e.prototype._createControl=function(e){if(e instanceof Ae||e instanceof we||e instanceof ke)return e;if(u(e)){var t=e[0],r=1<e.length?e[1]:null,o=2<e.length?e[2]:null;return this.control(t,r,o)}return this.control(e)},e}();yt.decorators=[{type:t.Injectable}];var mt=[_e],gt=[yt,_e],ft=function(){return function(){}}();ft.decorators=[{type:t.NgModule,args:[{declarations:lt,providers:[mt],exports:[ut,lt]}]}];var ht=function(){return function(){}}();ht.decorators=[{type:t.NgModule,args:[{declarations:[dt],providers:[gt],exports:[ut,dt]}]}],e.FORM_DIRECTIVES=ct,e.REACTIVE_FORM_DIRECTIVES=[dt,pt],e.AbstractControlDirective=le,e.AbstractFormGroupDirective=De,e.CheckboxControlValueAccessor=W,e.ControlContainer=Me,e.NG_VALUE_ACCESSOR=H,e.DefaultValueAccessor=$,e.NgControl=de,e.NgControlStatus=ce,e.NgForm=Ne,e.NgModel=ze,e.NgModelGroup=Fe,e.FormControlDirective=qe,e.FormControlName=Je,e.FormGroupDirective=Ke,e.FormArrayName=Ye,e.FormGroupName=Xe,e.NgSelectOption=Ee,e.SelectControlValueAccessor=Ce,e.SelectMultipleControlValueAccessor=Te,e.MaxLengthValidator=at,e.MinLengthValidator=ot,e.PatternValidator=st,e.RequiredValidator=tt,e.FormBuilder=yt,e.AbstractControl=Oe,e.FormArray=ke,e.FormControl=Ae,e.FormGroup=we,e.NG_ASYNC_VALIDATORS=me,e.NG_VALIDATORS=ye,e.Validators=ge,e.FORM_PROVIDERS=mt,e.REACTIVE_FORM_PROVIDERS=gt,e.FormsModule=ft,e.ReactiveFormsModule=ht,e.disableDeprecatedForms=function(){return[]},e.provideForms=function(){return[{provide:t.PLATFORM_DIRECTIVES,useValue:ct,multi:!0},gt]}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs/Subject"),require("rxjs/Observable")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core","rxjs/Subject","rxjs/Observable"],t):t((e.ng=e.ng||{},e.ng.platformBrowser=e.ng.platformBrowser||{}),e.ng.common,e.ng.core,e.Rx,e.Rx)}(this,function(e,t,r,o){"use strict";function n(e){return void 0!==e&&null!==e}function a(e){return void 0===e||null===e}function i(e){return"number"==typeof e}function s(e){return"string"==typeof e}function p(e){return"function"==typeof e}function l(e){return Array.isArray(e)}function d(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function c(e){return e}function u(e){console.log(e)}function y(e,t,r){for(var o=t.split("."),a=e,i;1<o.length;)i=o.shift(),a=a.hasOwnProperty(i)&&n(a[i])?a[i]:a[i]={};void 0!==a&&null!==a||(a={}),a[o.shift()]=r}function m(e,t){if(n(e))for(var r=0,o;r<e.length;r++)o=e[r],l(o)?m(o,t):t.push(o);return t}function g(e){return me.replaceAllMapped(e,Pe,function(e){return"-"+e[1].toLowerCase()})}function f(e){return me.replaceAllMapped(e,Oe,function(e){return e[1].toUpperCase()})}function h(){return Ae}function b(e){a(Ae)&&(Ae=e)}function _(e,t){return h().getComputedStyle(e)[t]}function v(e,t,o){var a={};return t.styles.forEach(function(e){Ce.forEach(e,function(e,t){var o=f(t);a[o]=e==r.AUTO_STYLE?e:e.toString()+S(e,t,o)})}),Ce.forEach(o,function(e,t){n(a[t])||(a[t]=e)}),a}function S(e,t,o){var n="";if(E(o)&&0!=e&&"0"!=e)if(i(e))n="px";else if(0==C(e.toString()).length)throw new r.BaseException("Please provide a CSS unit value for "+t+":"+e);return n}function C(e){for(var t=0,r;t<e.length;t++)if(r=me.charCodeAt(e,t),!(r>=Ie&&r<=Re||r==Ne))return e.substring(t,e.length);return""}function E(e){return!("width"!==e&&"height"!==e&&"minWidth"!==e&&"minHeight"!==e&&"maxWidth"!==e&&"maxHeight"!==e&&"left"!==e&&"top"!==e&&"bottom"!==e&&"right"!==e&&"fontSize"!==e&&"outlineWidth"!==e&&"outlineOffset"!==e&&"paddingTop"!==e&&"paddingLeft"!==e&&"paddingBottom"!==e&&"paddingRight"!==e&&"marginTop"!==e&&"marginLeft"!==e&&"marginBottom"!==e&&"marginRight"!==e&&"borderRadius"!==e&&"borderWidth"!==e&&"borderTopWidth"!==e&&"borderLeftWidth"!==e&&"borderRightWidth"!==e&&"borderBottomWidth"!==e&&"textIndent"!==e)}function x(){return a(Ue)&&(Ue=document.querySelector("base"),a(Ue))?null:Ue.getAttribute("href")}function T(e){return a(Be)&&(Be=document.createElement("a")),Be.setAttribute("href",e),"/"===Be.pathname.charAt(0)?Be.pathname:"/"+Be.pathname}function P(e,t){t=encodeURIComponent(t);for(var r=0,o=e.split(";");r<o.length;r++){var n=o[r],a=n.indexOf("="),i=-1==a?[n,""]:[n.slice(0,a),n.slice(a+1)],s=i[0],p=i[1];if(s.trim()===t)return decodeURIComponent(p)}return null}function O(){return!!window.history.pushState}function A(e,t){var r=h().parentElement(e);if(0<t.length&&n(r)){var o=h().nextSibling(e);if(n(o))for(var a=0;a<t.length;a++)h().insertBefore(o,t[a]);else for(var a=0;a<t.length;a++)h().appendChild(r,t[a])}}function w(e,t){for(var r=0;r<t.length;r++)h().appendChild(e,t[r])}function k(e){return function(t){var r=e(t);!1===r&&h().preventDefault(t)}}function M(e){return me.replaceAll(at,ot,e)}function I(e){return me.replaceAll(nt,ot,e)}function R(e,t,r){for(var o=0,n;o<t.length;o++)n=t[o],l(n)?R(e,n,r):(n=me.replaceAll(n,ot,e),r.push(n));return r}function N(e){if(":"!=e[0])return[null,e];var t=e.match(it);return[t[1],t[2]]}function D(e){return r.getDebugNode(e)}function V(e){return h().setGlobalVar(pt,D),h().setGlobalVar(lt,st),new se(e)}function L(e){return e=e+"",e.match(vt)||e.match(St)?e:(r.isDevMode()&&h().log("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function j(e){return e=e+"",e.split(",").map(function(e){return L(e.trim())}).join(", ")}function F(){if(Ct)return Ct;Et=h();var e=Et.createElement("template");if("content"in e)return e;var t=Et.createHtmlDocument();if(Ct=Et.querySelector(t,"body"),null==Ct){var r=Et.createElement("html",t);Ct=Et.createElement("body",t),Et.appendChild(r,Ct),Et.appendChild(t,r)}return Ct}function U(e){for(var r={},o=0,n=e.split(","),a;o<n.length;o++)a=n[o],r[a]=!0;return r}function B(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var r={},o=0,n=e,a;o<n.length;o++)for(var i in a=n[o],a)a.hasOwnProperty(i)&&(r[i]=!0);return r}function z(e){return e.replace(/&/g,"&amp;").replace(Vt,function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(r-56320)+65536)+";"}).replace(Lt,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function H(e){Et.attributeMap(e).forEach(function(t,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||Et.removeAttribute(e,r)});for(var t=0,r=Et.childNodesAsList(e),o;t<r.length;t++)o=r[t],Et.isElementNode(o)&&H(o)}function q(e){try{var t=F(),o=e?e+"":"",n=5,a=o;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,o=a,Et.setInnerHTML(t,o),Et.defaultDoc().documentMode&&H(t),a=Et.getInnerHTML(t)}while(o!==a);for(var i=new Dt,s=i.sanitizeChildren(Et.getTemplateContent(t)||t),p=Et.getTemplateContent(t)||t,l=0,d=Et.childNodesAsList(p),c;l<d.length;l++)c=d[l],Et.removeChild(p,c);return r.isDevMode()&&i.sanitizedSomething&&Et.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}catch(t){throw Ct=null,t}}function W(e){for(var t=!0,r=!0,o=0,n;o<e.length;o++)n=e.charAt(o),"'"===n&&r?t=!t:"\""===n&&t&&(r=!r);return t&&r}function G(e){if(e=(e+"").trim(),!e)return"";var t=e.match(Ft);return t&&L(t[1])===t[1]||e.match(jt)&&W(e)?e:(r.isDevMode()&&h().log("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}function K(){Fe.makeCurrent(),ae(),qe.init()}function Q(e){return e}function X(t){return te(t,Lr)}function Z(t){var e=te(t,Lr);return ee(t,e)}function Y(t){return te(t,Nr)}function $(t){var e=te(t,Dr);return ee(t,e)}function J(t){var e=te(t,Vr);return ee(t,e)}function ee(t,e){if(jr.has(t.target.tagName.toLowerCase())){var r=t.target;e.target={value:r.value},n(r.files)&&(e.target.files=r.files)}return e}function te(t,e){for(var r={},o=0,n;o<e.length;o++)n=e[o],r[n]=t[n];return r}function re(e){var t=e.get(ir),o=e.get(r.NgZone);t.attachToZone(o);var n=e.get(Hr);o.runGuarded(function(){n.forEach(function(e){e.start()})})}function oe(e,t){var r=new Worker(e),o=new kr(r),n=new Mr(r),a=new Ir(o,n);t.init(r,a)}function ne(e,t){return e+":"+t}var ae=r.__core_private__.wtfInit,ie=r.__core_private__.VIEW_ENCAPSULATION_VALUES,se=r.__core_private__.DebugDomRootRenderer,pe=r.__core_private__.NoOpAnimationPlayer,le=function(){function e(){}return e.prototype.animate=function(){return new pe},e}(),de=function(){return function(){}}();de.NOOP=new le;var ce="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var ue=ce,ye=ue.Date;ue.assert=function(){};var me=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,o=0;o<e.length&&e[o]==t;o++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,o=e.length-1;0<=o&&e[o]==t;o--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return-1!=e.indexOf(t)},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),ge=function(e){function t(t){e.call(this),this.message=t}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),fe=function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new ge("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t);}else if(!(16==t)){var r=parseInt(e,t);if(!isNaN(r))return r}else if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t);throw new ge("Invalid integer literal when parsing "+e+" in base "+t)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),he=function(){function e(){}return e.apply=function(e,t){return e.apply(null,t)},e.bind=function(e,t){return e.bind(t)},e}(),be=function(){function e(){}return e.parse=function(e){return ue.JSON.parse(e)},e.stringify=function(e){return ue.JSON.stringify(e,null,2)},e}(),_e=function(){function e(){}return e.create=function(e,t,r,o,n,a,i){return void 0===t&&(t=1),void 0===r&&(r=1),void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===i&&(i=0),new ye(e,t-1,r,o,n,a,i)},e.fromISOString=function(e){return new ye(e)},e.fromMillis=function(e){return new ye(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new ye},e.toJson=function(e){return e.toJSON()},e}(),ve=ue.Map,Se=ue.Set,Ce=(function(){try{if(1===new ve([[1,2]]).size)return function(e){return new ve(e)}}catch(t){}return function(e){for(var t=new ve,r=0,o;r<e.length;r++)o=e[r],t.set(o[0],o[1]);return t}}(),function(){try{if(new ve(new ve()))return function(e){return new ve(e)}}catch(t){}return function(e){var t=new ve;return e.forEach(function(e,r){t.set(r,e)}),t}}(),function(){return new ve().keys().next?function(e){for(var t=e.keys(),r;!(r=t.next()).done;)e.set(r.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),function(){try{if(new ve().values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(t){}return function(e,t){var r=Ee.createFixedSize(e.size),o=0;return e.forEach(function(e,n){r[o]=t?e:n,o++}),r}}(),function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,o=Object.keys(e),n;r<o.length;r++)n=o[r],t(e[n],n)},e.merge=function(e,t){for(var r={},o=0,n=Object.keys(e),a;o<n.length;o++)a=n[o],r[a]=e[a];for(var i=0,s=Object.keys(t),a;i<s.length;i++)a=s[i],r[a]=t[a];return r},e.equals=function(e,t){var r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var n=0,a;n<r.length;n++)if(a=r[n],e[a]!==t[a])return!1;return!0},e}()),Ee=function(){function e(){}return e.createFixedSize=function(e){return Array(e)},e.createGrowableSize=function(e){return Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0,o;r<t.length;++r)o=e.indexOf(t[r]),e.splice(o,1)},e.remove=function(e,t){var r=e.indexOf(t);return-1<r&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=null),e.fill(t,r,null===o?e.length:o)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){n(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,o=-(1/0),n=0,i;n<e.length;n++)if(i=e[n],!a(i)){var s=t(i);s>o&&(r=i,o=s)}return r},e.flatten=function(e){var t=[];return m(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),xe=function(){var e=new Se([1,2,3]);return 3===e.size?function(e){return new Se(e)}:function(e){var t=new Se(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),Te=function(){function e(){}return e.createFromList=function(e){return xe(e)},e.has=function(e,t){return e.has(t)},e.delete=function(e,t){e.delete(t)},e}(),Pe=/([A-Z])/g,Oe=/-([a-z])/g,Ae=null,we=function(){function e(){this.xhrType=null}return e.prototype.getXHR=function(){return this.xhrType},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}(),ke=function(){function e(e,t,r){this.element=e,this.keyframes=t,this.options=r,this._subscriptions=[],this._finished=!1,this._initialized=!1,this._started=!1,this.parentPlayer=null,this._duration=r.duration}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,n(this.parentPlayer)||this.destroy(),this._subscriptions.forEach(function(e){return e()}),this._subscriptions=[])},e.prototype.init=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes.map(function(t){var o={};return Ce.forEach(t,function(t,n){o[n]=t==r.AUTO_STYLE?_(e.element,n):t}),o});this._player=this._triggerWebAnimation(this.element,t,this.options),this.reset(),this._player.onfinish=function(){return e._onFinish()}}},e.prototype._triggerWebAnimation=function(e,t,r){return e.animate(t,r)},e.prototype.onDone=function(e){this._subscriptions.push(e)},e.prototype.play=function(){this.init(),this._player.play()},e.prototype.pause=function(){this.init(),this._player.pause()},e.prototype.finish=function(){this.init(),this._onFinish(),this._player.finish()},e.prototype.reset=function(){this._player.cancel()},e.prototype.restart=function(){this.reset(),this.play()},e.prototype.hasStarted=function(){return this._started},e.prototype.destroy=function(){this.reset(),this._onFinish()},Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._duration},enumerable:!0,configurable:!0}),e.prototype.setPosition=function(e){this._player.currentTime=e*this.totalTime},e.prototype.getPosition=function(){return this._player.currentTime/this.totalTime},e}(),Me=function(){function e(){}return e.prototype.animate=function(e,t,r,o,a,i){var s=[],p={};if(n(t)&&0<t.styles.length&&(p=v(e,t,{}),p.offset=0,s.push(p)),r.forEach(function(t){var r=v(e,t.styles,p);r.offset=t.offset,s.push(r)}),1==s.length){var l=s[0];l.offset=null,s=[l,l]}var d={duration:o,delay:a,fill:"both"};return i&&(d.easing=i),new ke(e,s,d)},e}(),Ie=48,Re=57,Ne=46,De=function(e){function t(){var t=this;e.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var r=this.createElement("div",this.defaultDoc());if(n(this.getStyle(r,"animationName")))this._animationPrefix="";else for(var o=["Webkit","Moz","O","ms"],a=0;a<o.length;a++)if(n(this.getStyle(r,o[a]+"AnimationName"))){this._animationPrefix="-"+o[a].toLowerCase()+"-";break}Ce.forEach({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},function(e,o){n(t.getStyle(r,o))&&(t._transitionEnd=e)})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}return __extends(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,r){e.href=null==r?t:t+"/../"+r},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return p(this.defaultDoc().body.createShadowRoot)},t.prototype.getAnimationPrefix=function(){return n(this._animationPrefix)?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return n(this._transitionEnd)?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return n(this._animationPrefix)&&n(this._transitionEnd)},t}(we),Ve={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Le={"":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},Fe=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.parse=function(){throw new Error("parse not implemented")},t.makeCurrent=function(){b(new t)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,r){e[t]=r},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,r){e[t].apply(e,r)},t.prototype.logError=function(e){window.console.error?window.console.error(e):window.console.log(e)},t.prototype.log=function(e){window.console.log(e)},t.prototype.logGroup=function(e){window.console.group?(window.console.group(e),this.logError(e)):window.console.log(e)},t.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return Ve},enumerable:!0,configurable:!0}),t.prototype.query=function(e){return document.querySelector(e)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,r){e.addEventListener(t,r,!1)},t.prototype.onAndCancel=function(e,t,r){return e.addEventListener(t,r,!1),function(){e.removeEventListener(t,r,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=document.createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||n(e.returnValue)&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&e instanceof HTMLTemplateElement?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,r=Ee.createFixedSize(t.length),o=0;o<t.length;o++)r[o]=t[o];return r},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,r){e.replaceChild(t,r)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t){e.parentNode.insertBefore(t,e)},t.prototype.insertAllBefore=function(e,t){t.forEach(function(t){return e.parentNode.insertBefore(t,e)})},t.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return document.createComment(e)},t.prototype.createTemplate=function(e){var r=document.createElement("template");return r.innerHTML=e,r},t.prototype.createElement=function(e,t){return void 0===t&&(t=document),t.createElement(e)},t.prototype.createElementNS=function(e,t,r){return void 0===r&&(r=document),r.createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return void 0===t&&(t=document),t.createTextNode(e)},t.prototype.createScriptTag=function(e,t,r){void 0===r&&(r=document);var o=r.createElement("SCRIPT");return o.setAttribute(e,t),o},t.prototype.createStyleElement=function(e,t){void 0===t&&(t=document);var r=t.createElement("style");return this.appendChild(r,this.createTextNode(e)),r},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,r){e.style[t]=r},t.prototype.removeStyle=function(e,t){e.style[t]=null},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,r){void 0===r&&(r=null);var o=this.getStyle(e,t)||"";return r?o==r:0<o.length},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,r=e.attributes,o=0,n;o<r.length;o++)n=r[o],t.set(n.name,n.value);return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,r){return e.hasAttributeNS(t,r)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,r){return e.getAttributeNS(t,r)},t.prototype.setAttribute=function(e,t,r){e.setAttribute(t,r)},t.prototype.setAttributeNS=function(e,t,r,o){e.setAttributeNS(t,r,o)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,r){e.removeAttributeNS(t,r)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.defaultDoc=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(){return document.title},t.prototype.setTitle=function(e){document.title=e||""},t.prototype.elementMatches=function(e,t){var r=!1;return e instanceof HTMLElement&&(e.matches?r=e.matches(t):e.msMatchesSelector?r=e.msMatchesSelector(t):e.webkitMatchesSelector&&(r=e.webkitMatchesSelector(t))),r},t.prototype.isTemplateElement=function(e){return e instanceof HTMLElement&&"TEMPLATE"==e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return e instanceof HTMLElement&&n(e.shadowRoot)},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){var t=e;return this.isTemplateElement(e)&&(t=this.content(e)),document.importNode(t,!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.href},t.prototype.getEventKey=function(e){var t=e.key;if(a(t)){if(t=e.keyIdentifier,a(t))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===3&&je.hasOwnProperty(t)&&(t=je[t]))}return Le.hasOwnProperty(t)&&(t=Le[t]),t},t.prototype.getGlobalEventTarget=function(e){return"window"==e?window:"document"==e?document:"body"==e?document.body:void 0},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(){var e=x();return a(e)?null:T(e)},t.prototype.resetBaseElement=function(){Ue=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,r){this.setAttribute(e,"data-"+t,r)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.setGlobalVar=function(e,t){y(ue,e,t)},t.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},t.prototype.cancelAnimationFrame=function(e){window.cancelAnimationFrame(e)},t.prototype.supportsWebAnimation=function(){return p(Element.prototype.animate)},t.prototype.performanceNow=function(){return n(window.performance)&&n(window.performance.now)?window.performance.now():_e.toMillis(_e.now())},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return P(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(De),Ue=null,Be=null,ze=function(e){function t(){e.call(this),this._init()}return __extends(t,e),t.prototype._init=function(){this._location=h().getLocation(),this._history=h().getHistory()},Object.defineProperty(t.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),t.prototype.getBaseHrefFromDOM=function(){return h().getBaseHref()},t.prototype.onPopState=function(e){h().getGlobalEventTarget("window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){h().getGlobalEventTarget("window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this._location.pathname},set:function(e){this._location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,r){O()?this._history.pushState(e,t,r):this._location.hash=r},t.prototype.replaceState=function(e,t,r){O()?this._history.replaceState(e,t,r):this._location.hash=r},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},t}(t.PlatformLocation);ze.decorators=[{type:r.Injectable}],ze.ctorParameters=[];var He=function(){function e(e){this._testability=e}return e.prototype.isStable=function(){return this._testability.isStable()},e.prototype.whenStable=function(e){this._testability.whenStable(e)},e.prototype.findBindings=function(e,t,r){return this.findProviders(e,t,r)},e.prototype.findProviders=function(e,t,r){return this._testability.findBindings(e,t,r)},e}(),qe=function(){function e(){}return e.init=function(){r.setTestabilityGetter(new e)},e.prototype.addToWindow=function(e){ue.getAngularTestability=function(t,r){void 0===r&&(r=!0);var o=e.findTestabilityInTree(t,r);if(null==o)throw new Error("Could not find testability for element.");return new He(o)},ue.getAllAngularTestabilities=function(){var t=e.getAllTestabilities();return t.map(function(e){return new He(e)})},ue.getAllAngularRootElements=function(){return e.getAllRootElements()};ue.frameworkStabilizers||(ue.frameworkStabilizers=Ee.createGrowableSize(0)),ue.frameworkStabilizers.push(function(e){var t=ue.getAllAngularTestabilities(),r=t.length,o=!1,n=function(t){o=o||t,r--,0==r&&e(o)};t.forEach(function(e){e.whenStable(n)})})},e.prototype.findTestabilityInTree=function(e,r,o){if(null==r)return null;var a=e.getTestability(r);return n(a)?a:o?h().isShadowRoot(r)?this.findTestabilityInTree(e,h().getHost(r),!0):this.findTestabilityInTree(e,h().parentElement(r),!0):null},e}(),We=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),Ge=new r.OpaqueToken("DocumentToken"),Ke=new r.OpaqueToken("EventManagerPlugins"),Qe=function(){function e(e,t){var r=this;this._zone=t,e.forEach(function(e){return e.manager=r}),this._plugins=Ee.reversed(e)}return e.prototype.addEventListener=function(e,t,r){var o=this._findPluginFor(t);return o.addEventListener(e,t,r)},e.prototype.addGlobalEventListener=function(e,t,r){var o=this._findPluginFor(t);return o.addGlobalEventListener(e,t,r)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){for(var t=this._plugins,r=0,o;r<t.length;r++)if(o=t[r],o.supports(e))return o;throw new We("No event manager plugin found for event "+e)},e}();Qe.decorators=[{type:r.Injectable}],Qe.ctorParameters=[{type:Array,decorators:[{type:r.Inject,args:[Ke]}]},{type:r.NgZone}];var Xe=function(){function e(){}return e.prototype.supports=function(){return!1},e.prototype.addEventListener=function(){throw"not implemented"},e.prototype.addGlobalEventListener=function(){throw"not implemented"},e}(),Ze=function(){function e(){this._styles=[],this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,r=[];e.forEach(function(e){Te.has(t._stylesSet,e)||(t._stylesSet.add(e),t._styles.push(e),r.push(e))}),this.onStylesAdded(r)},e.prototype.onStylesAdded=function(){},e.prototype.getAllStyles=function(){return this._styles},e}();Ze.decorators=[{type:r.Injectable}],Ze.ctorParameters=[];var Ye=function(e){function t(t){e.call(this),this._hostNodes=new Set,this._hostNodes.add(t.head)}return __extends(t,e),t.prototype._addStylesToHost=function(e,t){for(var r=0,o;r<e.length;r++)o=e[r],h().appendChild(t,h().createStyleElement(o))},t.prototype.addHost=function(e){this._addStylesToHost(this._styles,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){Te.delete(this._hostNodes,e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(r){t._addStylesToHost(e,r)})},t}(Ze);Ye.decorators=[{type:r.Injectable}],Ye.ctorParameters=[{type:void 0,decorators:[{type:r.Inject,args:[Ge]}]}];var $e={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},Je=/^template bindings=(.*)$/,et=function(){function e(e,t,r,o){this.document=e,this.eventManager=t,this.sharedStylesHost=r,this.animationDriver=o,this.registeredComponents=new Map}return e.prototype.renderComponent=function(e){var t=this.registeredComponents.get(e.id);return a(t)&&(t=new rt(this,e,this.animationDriver),this.registeredComponents.set(e.id,t)),t},e}(),tt=function(e){function t(t,r,o,n){e.call(this,t,r,o,n)}return __extends(t,e),t}(et);tt.decorators=[{type:r.Injectable}],tt.ctorParameters=[{type:void 0,decorators:[{type:r.Inject,args:[Ge]}]},{type:Qe},{type:Ye},{type:de}];var rt=function(){function e(e,t,o){this._rootRenderer=e,this.componentProto=t,this._animationDriver=o,this._styles=R(t.id,t.styles,[]),t.encapsulation!==r.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===r.ViewEncapsulation.Emulated?(this._contentAttr=M(t.id),this._hostAttr=I(t.id)):(this._contentAttr=null,this._hostAttr=null)}return e.prototype.selectRootElement=function(e){var t;if(!s(e))t=e;else if(t=h().querySelector(this._rootRenderer.document,e),a(t))throw new We("The selector \""+e+"\" did not match any elements");return h().clearNodes(t),t},e.prototype.createElement=function(e,t){var r=N(t),o=n(r[0])?h().createElementNS($e[r[0]],r[1]):h().createElement(r[1]);return n(this._contentAttr)&&h().setAttribute(o,this._contentAttr,""),n(e)&&h().appendChild(e,o),o},e.prototype.createViewRoot=function(e){var t;if(this.componentProto.encapsulation===r.ViewEncapsulation.Native){t=h().createShadowRoot(e),this._rootRenderer.sharedStylesHost.addHost(t);for(var o=0;o<this._styles.length;o++)h().appendChild(t,h().createStyleElement(this._styles[o]))}else n(this._hostAttr)&&h().setAttribute(e,this._hostAttr,""),t=e;return t},e.prototype.createTemplateAnchor=function(e){var t=h().createComment("template bindings={}");return n(e)&&h().appendChild(e,t),t},e.prototype.createText=function(e,t){var r=h().createTextNode(t);return n(e)&&h().appendChild(e,r),r},e.prototype.projectNodes=function(e,t){a(e)||w(e,t)},e.prototype.attachViewAfter=function(e,t){A(e,t)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++)h().remove(e[t])},e.prototype.destroyView=function(e){this.componentProto.encapsulation===r.ViewEncapsulation.Native&&n(e)&&this._rootRenderer.sharedStylesHost.removeHost(h().getShadowRoot(e))},e.prototype.listen=function(e,t,r){return this._rootRenderer.eventManager.addEventListener(e,t,k(r))},e.prototype.listenGlobal=function(e,t,r){return this._rootRenderer.eventManager.addGlobalEventListener(e,t,k(r))},e.prototype.setElementProperty=function(e,t,r){h().setProperty(e,t,r)},e.prototype.setElementAttribute=function(e,t,r){var o=N(t),a;n(o[0])&&(t=o[0]+":"+o[1],a=$e[o[0]]),n(r)?n(a)?h().setAttributeNS(e,a,t,r):h().setAttribute(e,t,r):n(a)?h().removeAttributeNS(e,a,o[1]):h().removeAttribute(e,t)},e.prototype.setBindingDebugInfo=function(e,t,r){var o=g(t);if(h().isCommentNode(e)){var n=me.replaceAll(h().getText(e),/\n/g,"").match(Je),a=be.parse(n[1]);a[o]=r,h().setText(e,me.replace("template bindings={}","{}",be.stringify(a)))}else this.setElementAttribute(e,t,r)},e.prototype.setElementClass=function(e,t,r){r?h().addClass(e,t):h().removeClass(e,t)},e.prototype.setElementStyle=function(e,t,r){n(r)?h().setStyle(e,t,d(r)):h().removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,r){h().invoke(e,t,r)},e.prototype.setText=function(e,t){h().setText(e,t)},e.prototype.animate=function(e,t,r,o,n,a){return this._animationDriver.animate(e,t,r,o,n,a)},e}(),ot=/%COMP%/g,nt="_nghost-%COMP%",at="_ngcontent-%COMP%",it=/^:([^:]+):(.+)$/,st={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone},pt="ng.probe",lt="ng.coreTokens",dt=[{provide:r.RootRenderer,useFactory:function(e){return r.isDevMode()?V(e):e},deps:[et]}],ct=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.supports=function(){return!0},t.prototype.addEventListener=function(e,t,r){var o=this.manager.getZone(),n=function(e){return o.runGuarded(function(){return r(e)})};return this.manager.getZone().runOutsideAngular(function(){return h().onAndCancel(e,t,n)})},t.prototype.addGlobalEventListener=function(e,t,r){var o=h().getGlobalEventTarget(e),n=this.manager.getZone(),a=function(e){return n.runGuarded(function(){return r(e)})};return this.manager.getZone().runOutsideAngular(function(){return h().onAndCancel(o,t,a)})},t}(Xe);ct.decorators=[{type:r.Injectable}];var ut={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},yt=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.supports=function(e){return e=e.toLowerCase(),Ce.contains(ut,e)},t}(Xe),mt=new r.OpaqueToken("HammerGestureConfig"),gt=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e);for(var r in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(r).set(this.overrides[r]);return t},e}();gt.decorators=[{type:r.Injectable}];var ft=function(e){function t(t){e.call(this),this._config=t}return __extends(t,e),t.prototype.supports=function(t){if(!e.prototype.supports.call(this,t)&&!this.isCustomEvent(t))return!1;if(!n(window.Hammer))throw new We("Hammer.js is not loaded, can not bind "+t+" event");return!0},t.prototype.addEventListener=function(e,t,r){var o=this,n=this.manager.getZone();return t=t.toLowerCase(),n.runOutsideAngular(function(){var a=o._config.buildHammer(e),i=function(e){n.runGuarded(function(){r(e)})};return a.on(t,i),function(){a.off(t,i)}})},t.prototype.isCustomEvent=function(e){return-1<this._config.events.indexOf(e)},t}(yt);ft.decorators=[{type:r.Injectable}],ft.ctorParameters=[{type:gt,decorators:[{type:r.Inject,args:[mt]}]}];var ht=["alt","control","meta","shift"],bt={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},_t=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.supports=function(e){return n(t.parseEventName(e))},t.prototype.addEventListener=function(e,r,o){var n=t.parseEventName(r),a=t.eventCallback(e,Ce.get(n,"fullKey"),o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return h().onAndCancel(e,Ce.get(n,"domEventName"),a)})},t.parseEventName=function(e){var r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||!me.equals(o,"keydown")&&!me.equals(o,"keyup"))return null;var n=t._normalizeKey(r.pop()),a="";if(ht.forEach(function(e){Ee.contains(r,e)&&(Ee.remove(r,e),a+=e+".")}),a+=n,0!=r.length||0===n.length)return null;var i=Ce.create();return Ce.set(i,"domEventName",o),Ce.set(i,"fullKey",a),i},t.getEventFullKey=function(e){var t="",r=h().getEventKey(e);return r=r.toLowerCase(),me.equals(r," ")?r="space":me.equals(r,".")&&(r="dot"),ht.forEach(function(o){if(o!=r){var n=Ce.get(bt,o);n(e)&&(t+=o+".")}}),t+=r},t.eventCallback=function(e,r,o,n){return function(e){me.equals(t.getEventFullKey(e),r)&&n.runGuarded(function(){return o(e)})}},t._normalizeKey=function(e){return"esc"===e?"escape":e},t}(Xe);_t.decorators=[{type:r.Injectable}],_t.ctorParameters=[];var vt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,St=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Ct=null,Et=null,xt=U("area,br,col,hr,img,wbr"),Tt=U("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pt=U("rp,rt"),Ot=B(Pt,Tt),At=B(Tt,U("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wt=B(Pt,U("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kt=B(xt,At,wt,Ot),Mt=U("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),It=U("srcset"),Rt=U("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nt=B(Mt,It,Rt),Dt=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild;t;)if(Et.isElementNode(t)?this.startElement(t):Et.isTextNode(t)?this.chars(Et.nodeValue(t)):this.sanitizedSomething=!0,Et.firstChild(t))t=Et.firstChild(t);else for(;t;){if(Et.isElementNode(t)&&this.endElement(t),Et.nextSibling(t)){t=Et.nextSibling(t);break}t=Et.parentElement(t)}return this.buf.join("")},e.prototype.startElement=function(e){var t=this,r=Et.nodeName(e).toLowerCase();return kt.hasOwnProperty(r)?(this.buf.push("<"),this.buf.push(r),Et.attributeMap(e).forEach(function(e,r){var o=r.toLowerCase();return Nt.hasOwnProperty(o)?(Mt[o]&&(e=L(e)),It[o]&&(e=j(e)),t.buf.push(" "),t.buf.push(r),t.buf.push("=\""),t.buf.push(z(e)),void t.buf.push("\"")):void(t.sanitizedSomething=!0)}),void this.buf.push(">")):void(this.sanitizedSomething=!0)},e.prototype.endElement=function(e){var t=Et.nodeName(e).toLowerCase();kt.hasOwnProperty(t)&&!xt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(z(e))},e}(),Vt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lt=/([^\#-~ |!])/g,jt=/^([-,."'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?)\([-0-9.%, a-zA-Z]+\))$/g,Ft=/^url\(([^)]+)\)$/,Ut=function(){return function(){}}(),Bt=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case r.SecurityContext.NONE:return t;case r.SecurityContext.HTML:return t instanceof Ht?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),q(t+""));case r.SecurityContext.STYLE:return t instanceof qt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),G(t));case r.SecurityContext.SCRIPT:if(t instanceof Wt)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return t instanceof Kt||t instanceof Gt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),L(t+""));case r.SecurityContext.RESOURCE_URL:if(t instanceof Kt)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)");}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof zt)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new Ht(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new qt(e)},t.prototype.bypassSecurityTrustScript=function(e){return new Wt(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new Gt(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new Kt(e)},t}(Ut);Bt.decorators=[{type:r.Injectable}];var zt=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),Ht=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(zt),qt=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"Style"},t}(zt),Wt=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"Script"},t}(zt),Gt=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"URL"},t}(zt),Kt=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(zt),Qt=[{provide:r.PLATFORM_INITIALIZER,useValue:K,multi:!0},{provide:t.PlatformLocation,useClass:ze}],Xt=[r.PLATFORM_COMMON_PROVIDERS,Qt],Zt=[{provide:r.SanitizationService,useExisting:Ut},{provide:Ut,useClass:Bt}],Yt=r.createPlatformFactory(r.platformCore,"browser",Qt),$t=function(){return function(){}}();$t.decorators=[{type:r.NgModule,args:[{providers:[Zt,{provide:r.ExceptionHandler,useFactory:function(){return new r.ExceptionHandler(h())},deps:[]},{provide:Ge,useFactory:function(){return h().defaultDoc()},deps:[]},{provide:Ke,useClass:ct,multi:!0},{provide:Ke,useClass:_t,multi:!0},{provide:Ke,useClass:ft,multi:!0},{provide:mt,useClass:gt},{provide:et,useClass:tt},{provide:r.RootRenderer,useExisting:et},{provide:Ze,useExisting:Ye},{provide:de,useFactory:function(){return h().supportsWebAnimation()?new Me:de.NOOP}},Ye,r.Testability,Qe,dt],exports:[t.CommonModule,r.ApplicationModule]}]}];var Jt=function(){function e(){}return e.prototype.getTitle=function(){return h().getTitle()},e.prototype.setTitle=function(e){h().setTitle(e)},e}(),er="undefined"!=typeof window&&window||{},tr=function(){return function(e,t){this.msPerTick=e,this.numTicks=t}}(),rr=function(){return function(e){this.profiler=new or(e)}}(),or=function(){function e(e){this.appRef=e.injector.get(r.ApplicationRef)}return e.prototype.timeChangeDetection=function(e){var t=n(e)&&e.record,r=n(er.console.profile);t&&r&&er.console.profile("Change Detection");for(var o=h().performanceNow(),a=0;5>a||500>h().performanceNow()-o;)this.appRef.tick(),a++;var i=h().performanceNow();t&&r&&er.console.profileEnd("Change Detection");var s=(i-o)/a;return er.console.log("ran "+a+" change detection cycles"),er.console.log(fe.toFixed(s,2)+" ms per check"),new tr(s,a)},e}(),nr=ue,ar=function(){function e(){}return e.all=function(){return function(){return!0}},e.css=function(e){return function(t){return!!n(t.nativeElement)&&h().elementMatches(t.nativeElement,e)}},e.directive=function(e){return function(t){return-1!==t.providerTokens.indexOf(e)}},e}(),ir=function(){return function(){}}(),sr=function(){function e(){this._nextIndex=0,this._lookupById=new Map,this._lookupByObject=new Map}return e.prototype.allocateId=function(){return this._nextIndex++},e.prototype.store=function(e,t){this._lookupById.set(t,e),this._lookupByObject.set(e,t)},e.prototype.remove=function(e){var t=this._lookupByObject.get(e);this._lookupByObject.delete(e),this._lookupById.delete(t)},e.prototype.deserialize=function(e){return null==e?null:this._lookupById.has(e)?this._lookupById.get(e):null},e.prototype.serialize=function(e){return null==e?null:this._lookupByObject.get(e)},e}();sr.decorators=[{type:r.Injectable}],sr.ctorParameters=[];var pr=function(){return function(e,t,r,o,n,a,i,s,p){this.href=e,this.protocol=t,this.host=r,this.hostname=o,this.port=n,this.pathname=a,this.search=i,this.hash=s,this.origin=p}}(),lr=String,dr=function(){function e(e){this._renderStore=e}return e.prototype.serialize=function(e,t){var o=this;if(!n(e))return null;if(l(e))return e.map(function(e){return o.serialize(e,t)});if(t==lr)return e;if(t==cr)return this._renderStore.serialize(e);if(t===r.RenderComponentType)return this._serializeRenderComponentType(e);if(t===r.ViewEncapsulation)return c(e);if(t===pr)return this._serializeLocation(e);throw new We("No serializer for "+t.toString())},e.prototype.deserialize=function(e,t,o){var a=this;if(!n(e))return null;if(l(e)){var i=[];return e.forEach(function(e){return i.push(a.deserialize(e,t,o))}),i}if(t==lr)return e;if(t==cr)return this._renderStore.deserialize(e);if(t===r.RenderComponentType)return this._deserializeRenderComponentType(e);if(t===r.ViewEncapsulation)return ie[e];if(t===pr)return this._deserializeLocation(e);throw new We("No deserializer for "+t.toString())},e.prototype._serializeLocation=function(e){return{href:e.href,protocol:e.protocol,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,origin:e.origin}},e.prototype._deserializeLocation=function(e){return new pr(e.href,e.protocol,e.host,e.hostname,e.port,e.pathname,e.search,e.hash,e.origin)},e.prototype._serializeRenderComponentType=function(e){return{id:e.id,templateUrl:e.templateUrl,slotCount:e.slotCount,encapsulation:this.serialize(e.encapsulation,r.ViewEncapsulation),styles:this.serialize(e.styles,lr)}},e.prototype._deserializeRenderComponentType=function(e){return new r.RenderComponentType(e.id,e.templateUrl,e.slotCount,this.deserialize(e.encapsulation,r.ViewEncapsulation),this.deserialize(e.styles,lr),{})},e}();dr.decorators=[{type:r.Injectable}],dr.ctorParameters=[{type:sr}];var cr=function(){return function(){}}(),ur=function(){return function(){}}(),yr=function(e){function t(t,r){e.call(this),this._messageBus=t,this._serializer=r}return __extends(t,e),t.prototype.createMessageBroker=function(e,t){return void 0===t&&(t=!0),this._messageBus.initChannel(e,t),new gr(this._messageBus,this._serializer,e)},t}(ur);yr.decorators=[{type:r.Injectable}],yr.ctorParameters=[{type:ir},{type:dr}];var mr=function(){return function(){}}(),gr=function(e){function t(t,r,o){var n=this;e.call(this),this.channel=o,this._pending=new Map,this._sink=t.to(o),this._serializer=r;var a=t.from(o);a.subscribe({next:function(e){return n._handleMessage(e)}})}return __extends(t,e),t.prototype._generateMessageId=function(e){for(var t=d(_e.toMillis(_e.now())),r=0,o=e+t+d(r);n(this._pending[o]);)o=""+e+t+r,r++;return o},t.prototype.runOnService=function(e,t){var r=this,o=[];n(e.args)&&e.args.forEach(function(e){null==e.type?o.push(e.value):o.push(r._serializer.serialize(e.value,e.type))});var a=null,i;if(null!=t){var s;i=new Promise(function(e,t){s={resolve:e,reject:t}}),a=this._generateMessageId(e.method),this._pending.set(a,s),i.catch(function(e){u(e),s.reject(e)}),i=i.then(function(e){return null==r._serializer?e:r._serializer.deserialize(e,t)})}else i=null;var p={method:e.method,args:o};return null!=a&&(p.id=a),this._sink.emit(p),i},t.prototype._handleMessage=function(e){var t=new fr(e);if(me.equals(t.type,"result")||me.equals(t.type,"error")){var r=t.id;this._pending.has(r)&&(me.equals(t.type,"result")?this._pending.get(r).resolve(t.value):this._pending.get(r).reject(t.value),this._pending.delete(r))}},t}(mr),fr=function(){function e(e){this.type=Ce.get(e,"type"),this.id=this._getValueIfPresent(e,"id"),this.value=this._getValueIfPresent(e,"value")}return e.prototype._getValueIfPresent=function(e,t){return Ce.contains(e,t)?Ce.get(e,t):null},e}(),hr=function(){return function(e,t){this.value=e,this.type=t}}(),br=function(){return function(e,t){this.method=e,this.args=t}}(),_r=function(){return function(){}}(),vr=function(e){function t(t,r){e.call(this),this._messageBus=t,this._serializer=r}return __extends(t,e),t.prototype.createMessageBroker=function(e,t){return void 0===t&&(t=!0),this._messageBus.initChannel(e,t),new Cr(this._messageBus,this._serializer,e)},t}(_r);vr.decorators=[{type:r.Injectable}],vr.ctorParameters=[{type:ir},{type:dr}];var Sr=function(){return function(){}}(),Cr=function(e){function t(t,r,o){var n=this;e.call(this),this._serializer=r,this.channel=o,this._methods=new ve,this._sink=t.to(o);var a=t.from(o);a.subscribe({next:function(e){return n._handleMessage(e)}})}return __extends(t,e),t.prototype.registerMethod=function(e,t,r,o){var a=this;this._methods.set(e,function(e){for(var s=e.args,p=null===t?0:t.length,l=Ee.createFixedSize(p),d=0,c;d<p;d++)c=s[d],l[d]=a._serializer.deserialize(c,t[d]);var u=he.apply(r,l);n(o)&&n(u)&&a._wrapWebWorkerPromise(e.id,u,o)})},t.prototype._handleMessage=function(e){var t=new Er(e);this._methods.has(t.method)&&this._methods.get(t.method)(t)},t.prototype._wrapWebWorkerPromise=function(e,t,r){var o=this;t.then(function(t){o._sink.emit({type:"result",value:o._serializer.serialize(t,r),id:e})})},t}(Sr),Er=function(){return function(e){this.method=e.method,this.args=e.args,this.id=e.id,this.type=e.type}}(),xr=function(e){function t(t,r,o){var n=this;e.call(this),this._serializer=o,this._popStateListeners=[],this._hashChangeListeners=[],this._location=null,this._broker=t.createMessageBroker("ng-Router"),this._channelSource=r.from("ng-Router"),this._channelSource.subscribe({next:function(e){var t=null;if(Ce.contains(e,"event")){var r=e.event.type;if(me.equals(r,"popstate")?t=n._popStateListeners:me.equals(r,"hashchange")&&(t=n._hashChangeListeners),null!==t){var o=Q(e.event);n._location=n._serializer.deserialize(e.location,pr),t.forEach(function(e){return e(o)})}}}})}return __extends(t,e),t.prototype.init=function(){var e=this,t=new br("getLocation"),r=this._broker.runOnService(t,pr);return r.then(function(t){return e._location=t,!0},function(e){throw new We(e)})},t.prototype.getBaseHrefFromDOM=function(){throw new We("Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.")},t.prototype.onPopState=function(e){this._popStateListeners.push(e)},t.prototype.onHashChange=function(e){this._hashChangeListeners.push(e)},Object.defineProperty(t.prototype,"pathname",{get:function(){return null===this._location?null:this._location.pathname},set:function(e){if(null===this._location)throw new We("Attempt to set pathname before value is obtained from UI");this._location.pathname=e;var t=[new hr(e,lr)],r=new br("setPathname",t);this._broker.runOnService(r,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return null===this._location?null:this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return null===this._location?null:this._location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,r){var o=[new hr(e,lr),new hr(t,lr),new hr(r,lr)],n=new br("pushState",o);this._broker.runOnService(n,null)},t.prototype.replaceState=function(e,t,r){var o=[new hr(e,lr),new hr(t,lr),new hr(r,lr)],n=new br("replaceState",o);this._broker.runOnService(n,null)},t.prototype.forward=function(){var e=new br("forward");this._broker.runOnService(e,null)},t.prototype.back=function(){var e=new br("back");this._broker.runOnService(e,null)},t}(t.PlatformLocation);xr.decorators=[{type:r.Injectable}],xr.ctorParameters=[{type:ur},{type:ir},{type:dr}];var Tr=[{provide:t.PlatformLocation,useClass:xr},{provide:r.APP_INITIALIZER,useFactory:function(e,t){return function(){return t.runGuarded(function(){return e.init()})}},multi:!0,deps:[t.PlatformLocation,r.NgZone]}],Pr=function(){function e(e,t,r,o){this._brokerFactory=e,this._platformLocation=t,this._serializer=o,this._platformLocation.onPopState(he.bind(this._sendUrlChangeEvent,this)),this._platformLocation.onHashChange(he.bind(this._sendUrlChangeEvent,this)),this._broker=this._brokerFactory.createMessageBroker("ng-Router"),this._channelSink=r.to("ng-Router")}return e.prototype.start=function(){this._broker.registerMethod("getLocation",null,he.bind(this._getLocation,this),pr),this._broker.registerMethod("setPathname",[lr],he.bind(this._setPathname,this)),this._broker.registerMethod("pushState",[lr,lr,lr],he.bind(this._platformLocation.pushState,this._platformLocation)),this._broker.registerMethod("replaceState",[lr,lr,lr],he.bind(this._platformLocation.replaceState,this._platformLocation)),this._broker.registerMethod("forward",null,he.bind(this._platformLocation.forward,this._platformLocation)),this._broker.registerMethod("back",null,he.bind(this._platformLocation.back,this._platformLocation))},e.prototype._getLocation=function(){return Promise.resolve(this._platformLocation.location)},e.prototype._sendUrlChangeEvent=function(t){var e=this._serializer.serialize(this._platformLocation.location,pr),r={type:t.type};this._channelSink.emit({event:r,location:e})},e.prototype._setPathname=function(e){this._platformLocation.pathname=e},e}();Pr.decorators=[{type:r.Injectable}],Pr.ctorParameters=[{type:_r},{type:ze},{type:ir},{type:dr}];var Or=[Pr,ze,{provide:r.PLATFORM_INITIALIZER,useFactory:function(e){return function(){var t=e.get(r.NgZone);t.runGuarded(function(){return e.get(Pr).start()})}},multi:!0,deps:[r.Injector]}],Ar=new r.OpaqueToken("WebWorker.onWebWorker"),wr=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this.__isAsync=t}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.next=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,o){var n=function(){return null},a=function(){return null},i;return t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(n=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(n=this.__isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),o&&(a=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()})),e.prototype.subscribe.call(this,i,n,a)},t}(o.Subject),kr=function(){function e(e){this._postMessageTarget=e,this._channels=Ce.create(),this._messageBuffer=[]}return e.prototype.attachToZone=function(e){var t=this;this._zone=e,this._zone.runOutsideAngular(function(){t._zone.onStable.subscribe({next:function(){t._handleOnEventDone()}})})},e.prototype.initChannel=function(e,t){var r=this;if(void 0===t&&(t=!0),Ce.contains(this._channels,e))throw new We(e+" has already been initialized");var o=new wr(!1),n=new Rr(o,t);this._channels[e]=n,o.subscribe(function(o){var n={channel:e,message:o};t?r._messageBuffer.push(n):r._sendMessages([n])})},e.prototype.to=function(e){if(Ce.contains(this._channels,e))return this._channels[e].emitter;throw new We(e+" is not set up. Did you forget to call initChannel?")},e.prototype._handleOnEventDone=function(){0<this._messageBuffer.length&&(this._sendMessages(this._messageBuffer),this._messageBuffer=[])},e.prototype._sendMessages=function(e){this._postMessageTarget.postMessage(e)},e}(),Mr=function(){function e(e){var t=this;if(this._channels=Ce.create(),e)e.addEventListener("message",function(e){return t._handleMessages(e)});else{var r=self;r.addEventListener("message",function(e){return t._handleMessages(e)})}}return e.prototype.attachToZone=function(e){this._zone=e},e.prototype.initChannel=function(e,t){if(void 0===t&&(t=!0),Ce.contains(this._channels,e))throw new We(e+" has already been initialized");var r=new wr(!1),o=new Rr(r,t);this._channels[e]=o},e.prototype.from=function(e){if(Ce.contains(this._channels,e))return this._channels[e].emitter;throw new We(e+" is not set up. Did you forget to call initChannel?")},e.prototype._handleMessages=function(e){for(var t=e.data,r=0;r<t.length;r++)this._handleMessage(t[r])},e.prototype._handleMessage=function(e){var t=e.channel;if(Ce.contains(this._channels,t)){var r=this._channels[t];r.runInZone?this._zone.run(function(){r.emitter.emit(e.message)}):r.emitter.emit(e.message)}},e}(),Ir=function(){function e(e,t){this.sink=e,this.source=t}return e.prototype.attachToZone=function(e){this.source.attachToZone(e),this.sink.attachToZone(e)},e.prototype.initChannel=function(e,t){void 0===t&&(t=!0),this.source.initChannel(e,t),this.sink.initChannel(e,t)},e.prototype.from=function(e){return this.source.from(e)},e.prototype.to=function(e){return this.sink.to(e)},e}();Ir.decorators=[{type:r.Injectable}],Ir.ctorParameters=[{type:kr},{type:Mr}];var Rr=function(){return function(e,t){this.emitter=e,this.runInZone=t}}(),Nr=["altKey","button","clientX","clientY","metaKey","movementX","movementY","offsetX","offsetY","region","screenX","screenY","shiftKey"],Dr=["altkey","charCode","code","ctrlKey","isComposing","key","keyCode","location","metaKey","repeat","shiftKey","which"],Vr=["propertyName","elapsedTime","pseudoElement"],Lr=["type","bubbles","cancelable"],jr=new Se(["input","select","option","button","li","meter","progress","param","textarea"]),Fr=function(){function e(e,t){this._sink=e,this._serializer=t}return e.prototype.dispatchRenderEvent=function(e,t,r,o){var n;switch(o.type){case"click":case"mouseup":case"mousedown":case"dblclick":case"contextmenu":case"mouseenter":case"mouseleave":case"mousemove":case"mouseout":case"mouseover":case"show":n=Y(o);break;case"keydown":case"keypress":case"keyup":n=$(o);break;case"input":case"change":case"blur":n=Z(o);break;case"abort":case"afterprint":case"beforeprint":case"cached":case"canplay":case"canplaythrough":case"chargingchange":case"chargingtimechange":case"close":case"dischargingtimechange":case"DOMContentLoaded":case"downloading":case"durationchange":case"emptied":case"ended":case"error":case"fullscreenchange":case"fullscreenerror":case"invalid":case"languagechange":case"levelfchange":case"loadeddata":case"loadedmetadata":case"obsolete":case"offline":case"online":case"open":case"orientatoinchange":case"pause":case"pointerlockchange":case"pointerlockerror":case"play":case"playing":case"ratechange":case"readystatechange":case"reset":case"scroll":case"seeked":case"seeking":case"stalled":case"submit":case"success":case"suspend":case"timeupdate":case"updateready":case"visibilitychange":case"volumechange":case"waiting":n=X(o);break;case"transitionend":n=J(o);break;default:throw new We(r+" not supported on WebWorkers");}return this._sink.emit({element:this._serializer.serialize(e,cr),eventName:r,eventTarget:t,event:n}),!1},e}(),Ur=function(){function e(e,t,r,o,n){this._brokerFactory=e,this._bus=t,this._serializer=r,this._renderStore=o,this._rootRenderer=n}return e.prototype.start=function(){var e=this._brokerFactory.createMessageBroker("ng-Renderer");this._bus.initChannel("ng-Events"),this._eventDispatcher=new Fr(this._bus.to("ng-Events"),this._serializer),e.registerMethod("renderComponent",[r.RenderComponentType,lr],he.bind(this._renderComponent,this)),e.registerMethod("selectRootElement",[cr,lr,lr],he.bind(this._selectRootElement,this)),e.registerMethod("createElement",[cr,cr,lr,lr],he.bind(this._createElement,this)),e.registerMethod("createViewRoot",[cr,cr,lr],he.bind(this._createViewRoot,this)),e.registerMethod("createTemplateAnchor",[cr,cr,lr],he.bind(this._createTemplateAnchor,this)),e.registerMethod("createText",[cr,cr,lr,lr],he.bind(this._createText,this)),e.registerMethod("projectNodes",[cr,cr,cr],he.bind(this._projectNodes,this)),e.registerMethod("attachViewAfter",[cr,cr,cr],he.bind(this._attachViewAfter,this)),e.registerMethod("detachView",[cr,cr],he.bind(this._detachView,this)),e.registerMethod("destroyView",[cr,cr,cr],he.bind(this._destroyView,this)),e.registerMethod("setElementProperty",[cr,cr,lr,lr],he.bind(this._setElementProperty,this)),e.registerMethod("setElementAttribute",[cr,cr,lr,lr],he.bind(this._setElementAttribute,this)),e.registerMethod("setBindingDebugInfo",[cr,cr,lr,lr],he.bind(this._setBindingDebugInfo,this)),e.registerMethod("setElementClass",[cr,cr,lr,lr],he.bind(this._setElementClass,this)),e.registerMethod("setElementStyle",[cr,cr,lr,lr],he.bind(this._setElementStyle,this)),e.registerMethod("invokeElementMethod",[cr,cr,lr,lr],he.bind(this._invokeElementMethod,this)),e.registerMethod("setText",[cr,cr,lr],he.bind(this._setText,this)),e.registerMethod("listen",[cr,cr,lr,lr],he.bind(this._listen,this)),e.registerMethod("listenGlobal",[cr,lr,lr,lr],he.bind(this._listenGlobal,this)),e.registerMethod("listenDone",[cr,cr],he.bind(this._listenDone,this))},e.prototype._renderComponent=function(e,t){var r=this._rootRenderer.renderComponent(e);this._renderStore.store(r,t)},e.prototype._selectRootElement=function(e,t,r){this._renderStore.store(e.selectRootElement(t,null),r)},e.prototype._createElement=function(e,t,r,o){this._renderStore.store(e.createElement(t,r,null),o)},e.prototype._createViewRoot=function(e,t,r){var o=e.createViewRoot(t);this._renderStore.serialize(t)!==r&&this._renderStore.store(o,r)},e.prototype._createTemplateAnchor=function(e,t,r){this._renderStore.store(e.createTemplateAnchor(t,null),r)},e.prototype._createText=function(e,t,r,o){this._renderStore.store(e.createText(t,r,null),o)},e.prototype._projectNodes=function(e,t,r){e.projectNodes(t,r)},e.prototype._attachViewAfter=function(e,t,r){e.attachViewAfter(t,r)},e.prototype._detachView=function(e,t){e.detachView(t)},e.prototype._destroyView=function(e,t,r){e.destroyView(t,r);for(var o=0;o<r.length;o++)this._renderStore.remove(r[o])},e.prototype._setElementProperty=function(e,t,r,o){e.setElementProperty(t,r,o)},e.prototype._setElementAttribute=function(e,t,r,o){e.setElementAttribute(t,r,o)},e.prototype._setBindingDebugInfo=function(e,t,r,o){e.setBindingDebugInfo(t,r,o)},e.prototype._setElementClass=function(e,t,r,o){e.setElementClass(t,r,o)},e.prototype._setElementStyle=function(e,t,r,o){e.setElementStyle(t,r,o)},e.prototype._invokeElementMethod=function(e,t,r,o){e.invokeElementMethod(t,r,o)},e.prototype._setText=function(e,t,r){e.setText(t,r)},e.prototype._listen=function(e,t,r,o){var n=this,a=e.listen(t,r,function(e){return n._eventDispatcher.dispatchRenderEvent(t,null,r,e)});this._renderStore.store(a,o)},e.prototype._listenGlobal=function(e,t,r,o){var n=this,a=e.listenGlobal(t,r,function(e){return n._eventDispatcher.dispatchRenderEvent(null,t,r,e)});this._renderStore.store(a,o)},e.prototype._listenDone=function(e,t){t()},e}();Ur.decorators=[{type:r.Injectable}],Ur.ctorParameters=[{type:_r},{type:ir},{type:dr},{type:sr},{type:r.RootRenderer}];var Br=function(){function e(){}return e.prototype.init=function(e,t){this.worker=e,this.bus=t},e}();Br.decorators=[{type:r.Injectable}];var zr=new r.OpaqueToken("WebWorkerScript"),Hr=new r.OpaqueToken("WorkerRenderStartableMsgService"),qr=[{provide:r.NgZone,useFactory:function(){return new r.NgZone({enableLongStackTrace:r.isDevMode()})},deps:[]},Ur,{provide:Hr,useExisting:Ur,multi:!0},Zt,{provide:r.ExceptionHandler,useFactory:function(){return new r.ExceptionHandler(h())},deps:[]},{provide:Ge,useFactory:function(){return h().defaultDoc()},deps:[]},{provide:Ke,useClass:ct,multi:!0},{provide:Ke,useClass:_t,multi:!0},{provide:Ke,useClass:ft,multi:!0},{provide:mt,useClass:gt},{provide:et,useClass:tt},{provide:r.RootRenderer,useExisting:et},{provide:Ze,useExisting:Ye},{provide:_r,useClass:vr},{provide:ur,useClass:yr},{provide:de,useFactory:function(){return de.NOOP}},dr,{provide:Ar,useValue:!1},sr,Ye,r.Testability,Qe,Br,{provide:r.PLATFORM_INITIALIZER,useFactory:function(e){return function(){Fe.makeCurrent(),ae(),qe.init();var t;try{t=e.get(zr)}catch(t){throw new We("You must provide your WebWorker's initialization script with the WORKER_SCRIPT token")}var r=e.get(Br);oe(t,r),re(e)}},multi:!0,deps:[r.Injector]},{provide:ir,useFactory:function(e){return e.bus},deps:[Br]}],Wr=[r.PLATFORM_COMMON_PROVIDERS,qr],Gr=r.createPlatformFactory(r.platformCore,"workerUi",qr),Kr=function(){function e(e,t,r,o){var n=this;this._serializer=r,this._renderStore=o,this.globalEvents=new Xr,this._componentRenderers=new Map,this._messageBroker=e.createMessageBroker("ng-Renderer"),t.initChannel("ng-Events");var a=t.from("ng-Events");a.subscribe({next:function(e){return n._dispatchEvent(e)}})}return e.prototype._dispatchEvent=function(e){var t=e.eventName,r=e.eventTarget,o=Q(e.event);if(n(r))this.globalEvents.dispatchEvent(ne(r,t),o);else{var a=this._serializer.deserialize(e.element,cr);a.events.dispatchEvent(t,o)}},e.prototype.renderComponent=function(e){var t=this._componentRenderers.get(e.id);if(a(t)){t=new Qr(this,e),this._componentRenderers.set(e.id,t);var o=this._renderStore.allocateId();this._renderStore.store(t,o),this.runOnService("renderComponent",[new hr(e,r.RenderComponentType),new hr(t,cr)])}return t},e.prototype.runOnService=function(e,t){var r=new br(e,t);this._messageBroker.runOnService(r,null)},e.prototype.allocateNode=function(){var e=new Zr,t=this._renderStore.allocateId();return this._renderStore.store(e,t),e},e.prototype.allocateId=function(){return this._renderStore.allocateId()},e.prototype.destroyNodes=function(e){for(var t=0;t<e.length;t++)this._renderStore.remove(e[t])},e}();Kr.decorators=[{type:r.Injectable}],Kr.ctorParameters=[{type:ur},{type:ir},{type:dr},{type:sr}];var Qr=function(){function e(e,t){this._rootRenderer=e,this._componentType=t}return e.prototype._runOnService=function(e,t){var r=[new hr(this,cr)].concat(t);this._rootRenderer.runOnService(e,r)},e.prototype.selectRootElement=function(e){var t=this._rootRenderer.allocateNode();return this._runOnService("selectRootElement",[new hr(e,null),new hr(t,cr)]),t},e.prototype.createElement=function(e,t){var r=this._rootRenderer.allocateNode();return this._runOnService("createElement",[new hr(e,cr),new hr(t,null),new hr(r,cr)]),r},e.prototype.createViewRoot=function(e){var t=this._componentType.encapsulation===r.ViewEncapsulation.Native?this._rootRenderer.allocateNode():e;return this._runOnService("createViewRoot",[new hr(e,cr),new hr(t,cr)]),t},e.prototype.createTemplateAnchor=function(e){var t=this._rootRenderer.allocateNode();return this._runOnService("createTemplateAnchor",[new hr(e,cr),new hr(t,cr)]),t},e.prototype.createText=function(e,t){var r=this._rootRenderer.allocateNode();return this._runOnService("createText",[new hr(e,cr),new hr(t,null),new hr(r,cr)]),r},e.prototype.projectNodes=function(e,t){this._runOnService("projectNodes",[new hr(e,cr),new hr(t,cr)])},e.prototype.attachViewAfter=function(e,t){this._runOnService("attachViewAfter",[new hr(e,cr),new hr(t,cr)])},e.prototype.detachView=function(e){this._runOnService("detachView",[new hr(e,cr)])},e.prototype.destroyView=function(e,t){this._runOnService("destroyView",[new hr(e,cr),new hr(t,cr)]),this._rootRenderer.destroyNodes(t)},e.prototype.setElementProperty=function(e,t,r){this._runOnService("setElementProperty",[new hr(e,cr),new hr(t,null),new hr(r,null)])},e.prototype.setElementAttribute=function(e,t,r){this._runOnService("setElementAttribute",[new hr(e,cr),new hr(t,null),new hr(r,null)])},e.prototype.setBindingDebugInfo=function(e,t,r){this._runOnService("setBindingDebugInfo",[new hr(e,cr),new hr(t,null),new hr(r,null)])},e.prototype.setElementClass=function(e,t,r){this._runOnService("setElementClass",[new hr(e,cr),new hr(t,null),new hr(r,null)])},e.prototype.setElementStyle=function(e,t,r){this._runOnService("setElementStyle",[new hr(e,cr),new hr(t,null),new hr(r,null)])},e.prototype.invokeElementMethod=function(e,t,r){this._runOnService("invokeElementMethod",[new hr(e,cr),new hr(t,null),new hr(r,null)])},e.prototype.setText=function(e,t){this._runOnService("setText",[new hr(e,cr),new hr(t,null)])},e.prototype.listen=function(e,t,r){var o=this;e.events.listen(t,r);var n=this._rootRenderer.allocateId();return this._runOnService("listen",[new hr(e,cr),new hr(t,null),new hr(n,null)]),function(){e.events.unlisten(t,r),o._runOnService("listenDone",[new hr(n,null)])}},e.prototype.listenGlobal=function(e,t,r){var o=this;this._rootRenderer.globalEvents.listen(ne(e,t),r);var n=this._rootRenderer.allocateId();return this._runOnService("listenGlobal",[new hr(e,null),new hr(t,null),new hr(n,null)]),function(){o._rootRenderer.globalEvents.unlisten(ne(e,t),r),o._runOnService("listenDone",[new hr(n,null)])}},e.prototype.animate=function(){return null},e}(),Xr=function(){function e(){}return e.prototype._getListeners=function(e){a(this._listeners)&&(this._listeners=new Map);var t=this._listeners.get(e);return a(t)&&(t=[],this._listeners.set(e,t)),t},e.prototype.listen=function(e,t){this._getListeners(e).push(t)},e.prototype.unlisten=function(e,t){Ee.remove(this._getListeners(e),t)},e.prototype.dispatchEvent=function(e,t){for(var r=this._getListeners(e),o=0;o<r.length;o++)r[o](t)},e}(),Zr=function(){return function(){this.events=new Xr}}(),Yr=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.makeCurrent=function(){b(new t)},t.prototype.logError=function(e){console.error?console.error(e):console.log(e)},t.prototype.log=function(e){console.log(e)},t.prototype.logGroup=function(e){console.group?(console.group(e),this.logError(e)):console.log(e)},t.prototype.logGroupEnd=function(){console.groupEnd&&console.groupEnd()},t.prototype.hasProperty=function(){throw"not implemented"},t.prototype.setProperty=function(){throw"not implemented"},t.prototype.getProperty=function(){throw"not implemented"},t.prototype.invoke=function(){throw"not implemented"},t.prototype.getXHR=function(){throw"not implemented"},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){throw"not implemented"},set:function(){throw"not implemented"},enumerable:!0,configurable:!0}),t.prototype.parse=function(){throw"not implemented"},t.prototype.query=function(){throw"not implemented"},t.prototype.querySelector=function(){throw"not implemented"},t.prototype.querySelectorAll=function(){throw"not implemented"},t.prototype.on=function(){throw"not implemented"},t.prototype.onAndCancel=function(){throw"not implemented"},t.prototype.dispatchEvent=function(){throw"not implemented"},t.prototype.createMouseEvent=function(){throw"not implemented"},t.prototype.createEvent=function(){throw"not implemented"},t.prototype.preventDefault=function(){throw"not implemented"},t.prototype.isPrevented=function(){throw"not implemented"},t.prototype.getInnerHTML=function(){throw"not implemented"},t.prototype.getTemplateContent=function(){throw"not implemented"},t.prototype.getOuterHTML=function(){throw"not implemented"},t.prototype.nodeName=function(){throw"not implemented"},t.prototype.nodeValue=function(){throw"not implemented"},t.prototype.type=function(){throw"not implemented"},t.prototype.content=function(){throw"not implemented"},t.prototype.firstChild=function(){throw"not implemented"},t.prototype.nextSibling=function(){throw"not implemented"},t.prototype.parentElement=function(){throw"not implemented"},t.prototype.childNodes=function(){throw"not implemented"},t.prototype.childNodesAsList=function(){throw"not implemented"},t.prototype.clearNodes=function(){throw"not implemented"},t.prototype.appendChild=function(){throw"not implemented"},t.prototype.removeChild=function(){throw"not implemented"},t.prototype.replaceChild=function(){throw"not implemented"},t.prototype.remove=function(){throw"not implemented"},t.prototype.insertBefore=function(){throw"not implemented"},t.prototype.insertAllBefore=function(){throw"not implemented"},t.prototype.insertAfter=function(){throw"not implemented"},t.prototype.setInnerHTML=function(){throw"not implemented"},t.prototype.getText=function(){throw"not implemented"},t.prototype.setText=function(){throw"not implemented"},t.prototype.getValue=function(){throw"not implemented"},t.prototype.setValue=function(){throw"not implemented"},t.prototype.getChecked=function(){throw"not implemented"},t.prototype.setChecked=function(){throw"not implemented"},t.prototype.createComment=function(){throw"not implemented"},t.prototype.createTemplate=function(){throw"not implemented"},t.prototype.createElement=function(){throw"not implemented"},t.prototype.createElementNS=function(){throw"not implemented"},t.prototype.createTextNode=function(){throw"not implemented"},t.prototype.createScriptTag=function(){throw"not implemented"},t.prototype.createStyleElement=function(){throw"not implemented"},t.prototype.createShadowRoot=function(){throw"not implemented"},t.prototype.getShadowRoot=function(){throw"not implemented"},t.prototype.getHost=function(){throw"not implemented"},t.prototype.getDistributedNodes=function(){throw"not implemented"},t.prototype.clone=function(){throw"not implemented"},t.prototype.getElementsByClassName=function(){throw"not implemented"},t.prototype.getElementsByTagName=function(){throw"not implemented"},t.prototype.classList=function(){throw"not implemented"},t.prototype.addClass=function(){throw"not implemented"},t.prototype.removeClass=function(){throw"not implemented"},t.prototype.hasClass=function(){throw"not implemented"},t.prototype.setStyle=function(){throw"not implemented"},t.prototype.removeStyle=function(){throw"not implemented"},t.prototype.getStyle=function(){throw"not implemented"},t.prototype.hasStyle=function(){throw"not implemented"},t.prototype.tagName=function(){throw"not implemented"},t.prototype.attributeMap=function(){throw"not implemented"},t.prototype.hasAttribute=function(){throw"not implemented"},t.prototype.hasAttributeNS=function(){throw"not implemented"},t.prototype.getAttribute=function(){throw"not implemented"},t.prototype.getAttributeNS=function(){throw"not implemented"},t.prototype.setAttribute=function(){throw"not implemented"},t.prototype.setAttributeNS=function(){throw"not implemented"},t.prototype.removeAttribute=function(){throw"not implemented"},t.prototype.removeAttributeNS=function(){throw"not implemented"},t.prototype.templateAwareRoot=function(){throw"not implemented"},t.prototype.createHtmlDocument=function(){throw"not implemented"},t.prototype.defaultDoc=function(){throw"not implemented"},t.prototype.getBoundingClientRect=function(){throw"not implemented"},t.prototype.getTitle=function(){throw"not implemented"},t.prototype.setTitle=function(){throw"not implemented"},t.prototype.elementMatches=function(){throw"not implemented"},t.prototype.isTemplateElement=function(){throw"not implemented"},t.prototype.isTextNode=function(){throw"not implemented"},t.prototype.isCommentNode=function(){throw"not implemented"},t.prototype.isElementNode=function(){throw"not implemented"},t.prototype.hasShadowRoot=function(){throw"not implemented"},t.prototype.isShadowRoot=function(){throw"not implemented"},t.prototype.importIntoDoc=function(){throw"not implemented"},t.prototype.adoptNode=function(){throw"not implemented"},t.prototype.getHref=function(){throw"not implemented"},t.prototype.getEventKey=function(){throw"not implemented"},t.prototype.resolveAndSetHref=function(){throw"not implemented"},t.prototype.supportsDOMEvents=function(){throw"not implemented"},t.prototype.supportsNativeShadowDOM=function(){throw"not implemented"},t.prototype.getGlobalEventTarget=function(){throw"not implemented"},t.prototype.getHistory=function(){throw"not implemented"},t.prototype.getLocation=function(){throw"not implemented"},t.prototype.getBaseHref=function(){throw"not implemented"},t.prototype.resetBaseElement=function(){throw"not implemented"},t.prototype.getUserAgent=function(){throw"not implemented"},t.prototype.setData=function(){throw"not implemented"},t.prototype.getComputedStyle=function(){throw"not implemented"},t.prototype.getData=function(){throw"not implemented"},t.prototype.setGlobalVar=function(){throw"not implemented"},t.prototype.requestAnimationFrame=function(){throw"not implemented"},t.prototype.cancelAnimationFrame=function(){throw"not implemented"},t.prototype.performanceNow=function(){throw"not implemented"},t.prototype.getAnimationPrefix=function(){throw"not implemented"},t.prototype.getTransitionEnd=function(){throw"not implemented"},t.prototype.supportsAnimation=function(){throw"not implemented"},t.prototype.supportsWebAnimation=function(){throw"not implemented"},t.prototype.supportsCookies=function(){return!1},t.prototype.getCookie=function(){throw"not implemented"},t.prototype.setCookie=function(){throw"not implemented"},t}(we),$r=function(){function e(){this.log=u,this.logError=u,this.logGroup=u}return e.prototype.logGroupEnd=function(){},e}(),Jr=r.PLATFORM_COMMON_PROVIDERS,eo=r.createPlatformFactory(r.platformCore,"workerApp"),to={postMessage:function(e,t){postMessage(e,t)}},ro=function(){return function(){}}();ro.decorators=[{type:r.NgModule,args:[{providers:[t.FORM_PROVIDERS,Zt,dr,{provide:ur,useClass:yr},{provide:_r,useClass:vr},Kr,{provide:r.RootRenderer,useExisting:Kr},{provide:Ar,useValue:!0},sr,{provide:r.ExceptionHandler,useFactory:function(){return new r.ExceptionHandler(new $r())},deps:[]},{provide:ir,useFactory:function(e){var t=new kr(to),r=new Mr,o=new Ir(t,r);return o.attachToZone(e),o},deps:[r.NgZone]},{provide:r.APP_INITIALIZER,useValue:function(){Yr.makeCurrent()},multi:!0}],exports:[t.CommonModule,r.ApplicationModule]}]}];e.BROWSER_APP_PROVIDERS=[],e.BROWSER_PLATFORM_PROVIDERS=Xt,e.BROWSER_SANITIZATION_PROVIDERS=Zt,e.BrowserModule=$t,e.browserPlatform=Yt,e.platformBrowser=Yt,e.BrowserPlatformLocation=ze,e.Title=Jt,e.disableDebugTools=function(){delete nr.ng},e.enableDebugTools=function(e){return nr.ng=new rr(e),e},e.AnimationDriver=de,e.By=ar,e.DOCUMENT=Ge,e.EVENT_MANAGER_PLUGINS=Ke,e.EventManager=Qe,e.HAMMER_GESTURE_CONFIG=mt,e.HammerGestureConfig=gt,e.DomSanitizationService=Ut,e.ClientMessageBroker=mr,e.ClientMessageBrokerFactory=ur,e.FnArg=hr,e.UiArguments=br,e.PRIMITIVE=lr,e.ReceivedMessage=Er,e.ServiceMessageBroker=Sr,e.ServiceMessageBrokerFactory=_r,e.WORKER_APP_LOCATION_PROVIDERS=Tr,e.WORKER_UI_LOCATION_PROVIDERS=Or,e.MessageBus=ir,e.WebWorkerInstance=Br,e.WORKER_SCRIPT=zr,e.WORKER_UI_STARTABLE_MESSAGING_SERVICE=Hr,e._WORKER_UI_PLATFORM_PROVIDERS=qr,e.WORKER_UI_PLATFORM_PROVIDERS=Wr,e.WORKER_UI_APPLICATION_PROVIDERS=[],e.platformWorkerUi=Gr,e.workerUiPlatform=Gr,e.WORKER_APP_PLATFORM_PROVIDERS=Jr,e.WORKER_APP_APPLICATION_PROVIDERS=[],e.platformWorkerApp=eo,e.workerAppPlatform=eo,e.WorkerAppModule=ro,e.__platform_browser_private__={DomAdapter:we,getDOM:h,setRootDomAdapter:b,DomRootRenderer:et,DomRootRenderer_:tt,DomSharedStylesHost:Ye,SharedStylesHost:Ze,ELEMENT_PROBE_PROVIDERS:dt,DomEventsPlugin:ct,initDomAdapter:K,INTERNAL_BROWSER_PLATFORM_PROVIDERS:Qt}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/compiler"),require("@angular/core"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/compiler","@angular/core","@angular/platform-browser"],t):t((e.ng=e.ng||{},e.ng.platformBrowserDynamic=e.ng.platformBrowserDynamic||{}),e.ng.compiler,e.ng.core,e.ng.platformBrowser)}(this,function(e,t,r,o){"use strict";function n(e){return void 0!==e&&null!==e}function a(e){return void 0===e||null===e}function s(e){return Array.isArray(e)}function p(e,t){if(n(e))for(var r=0,o;r<e.length;r++)o=e[r],s(o)?p(o,t):t.push(o);return t}var l=r.__core_private__.Console,d=o.__platform_browser_private__.INTERNAL_BROWSER_PLATFORM_PROVIDERS,c;c="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var u=c;u.assert=function(){};var y=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.get=function(e){var t=new Promise(function(e,t){o=e,a=t}),r=new XMLHttpRequest,o,a;return r.open("GET",e,!0),r.responseType="text",r.onload=function(){var t=n(r.response)?r.response:r.responseText,i=1223===r.status?204:r.status;0===i&&(i=t?200:0),200<=i&&300>=i?o(t):a("Failed to load "+e)},r.onerror=function(){a("Failed to load "+e)},r.send(),t},t}(t.XHR);y.decorators=[{type:r.Injectable}];var m=[d,{provide:r.COMPILER_OPTIONS,useValue:{providers:[{provide:t.XHR,useClass:y}]},multi:!0}],g=u.Map,f=u.Set,h=(function(){try{if(1===new g([[1,2]]).size)return function(e){return new g(e)}}catch(t){}return function(e){for(var t=new g,r=0,o;r<e.length;r++)o=e[r],t.set(o[0],o[1]);return t}}(),function(){try{if(new g(new g()))return function(e){return new g(e)}}catch(t){}return function(e){var t=new g;return e.forEach(function(e,r){t.set(r,e)}),t}}(),function(){return new g().keys().next?function(e){for(var t=e.keys(),r;!(r=t.next()).done;)e.set(r.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),function(){try{if(new g().values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(t){}return function(e,t){var r=h.createFixedSize(e.size),o=0;return e.forEach(function(e,n){r[o]=t?e:n,o++}),r}}(),function(){function e(){}return e.createFixedSize=function(e){return Array(e)},e.createGrowableSize=function(e){return Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0,o;r<t.length;++r)o=e.indexOf(t[r]),e.splice(o,1)},e.remove=function(e,t){var r=e.indexOf(t);return-1<r&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=null),e.fill(t,r,null===o?e.length:o)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){n(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,o=-(1/0),n=0,i;n<e.length;n++)if(i=e[n],!a(i)){var s=t(i);s>o&&(r=i,o=s)}return r},e.flatten=function(e){var t=[];return p(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}()),b=(function(){var e=new f([1,2,3]);return 3===e.size?function(e){return new f(e)}:function(e){var t=new f(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error)),_=function(e){function t(){if(e.call(this),this._cache=u.$templateCache,null==this._cache)throw new b("CachedXHR: Template cache was not found in $templateCache.")}return __extends(t,e),t.prototype.get=function(e){return this._cache.hasOwnProperty(e)?Promise.resolve(this._cache[e]):Promise.reject("CachedXHR: Did not find cached template for "+e)},t}(t.XHR),v=[{provide:t.XHR,useClass:_}],S=r.createPlatformFactory(t.platformCoreDynamic,"browserDynamic",m),C=r.createPlatformFactory(t.platformCoreDynamic,"workerAppDynamic",[{provide:r.COMPILER_OPTIONS,useValue:{providers:[{provide:t.XHR,useClass:y}]},multi:!0}]);e.BROWSER_APP_COMPILER_PROVIDERS=[],e.CACHED_TEMPLATE_PROVIDER=v,e.platformBrowserDynamic=S,e.browserDynamicPlatform=S,e.bootstrap=function(e,n){var a=[],i=[],s=t.analyzeAppProvidersForDeprecatedConfiguration(n),p;a=s.moduleDeclarations.concat(a),p=s.compilerOptions,i=s.deprecationMessages;var d=function(){return function(){}}();return d.decorators=[{type:r.NgModule,args:[{providers:n,declarations:a.concat([e]),imports:[o.BrowserModule],entryComponents:[],bootstrap:[e],schemas:[r.CUSTOM_ELEMENTS_SCHEMA]}]}],S().bootstrapModule(d,p).then(function(e){var t=e.injector.get(l);i.forEach(function(e){return t.warn(e)});var o=e.injector.get(r.ApplicationRef);return o.components[0]})},e.bootstrapWorkerUi=function(e,t){return void 0===t&&(t=[]),Promise.resolve(o.platformWorkerUi([{provide:o.WORKER_SCRIPT,useValue:e}].concat(t)))},e.platformWorkerAppDynamic=C,e.workerAppDynamicPlatform=C,e.bootstrapWorkerApp=function(e,n){console.warn("bootstrapWorkerApp is deprecated. Create an @NgModule that includes the `WorkerAppModule` and use `bootstrapModule` with the `workerAppDynamicPlatform()` instead.");var a=t.analyzeAppProvidersForDeprecatedConfiguration(n),i=[a.moduleDeclarations.concat([e])],s=function(){return function(){}}();return s.decorators=[{type:r.NgModule,args:[{providers:n,declarations:i,imports:[o.WorkerAppModule],bootstrap:[e]}]}],C().bootstrapModule(s,a.compilerOptions).then(function(e){var t=e.injector.get(l);a.deprecationMessages.forEach(function(e){return t.warn(e)});var o=e.injector.get(r.ApplicationRef);return o.components[0]})}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs/add/operator/map"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/mergeAll"),require("rxjs/add/operator/reduce"),require("rxjs/add/operator/every"),require("rxjs/Subject"),require("rxjs/observable/from"),require("rxjs/observable/of"),require("rxjs/add/operator/first"),require("rxjs/add/operator/catch"),require("rxjs/add/operator/concatAll"),require("rxjs/Observable"),require("rxjs/util/EmptyError"),require("rxjs/observable/fromPromise"),require("rxjs/add/operator/last"),require("rxjs/BehaviorSubject"),require("rxjs/add/operator/toPromise"),require("rxjs/observable/forkJoin"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core","rxjs/add/operator/map","rxjs/add/operator/mergeMap","rxjs/add/operator/mergeAll","rxjs/add/operator/reduce","rxjs/add/operator/every","rxjs/Subject","rxjs/observable/from","rxjs/observable/of","rxjs/add/operator/first","rxjs/add/operator/catch","rxjs/add/operator/concatAll","rxjs/Observable","rxjs/util/EmptyError","rxjs/observable/fromPromise","rxjs/add/operator/last","rxjs/BehaviorSubject","rxjs/add/operator/toPromise","rxjs/observable/forkJoin","@angular/platform-browser"],t):t((e.ng=e.ng||{},e.ng.router=e.ng.router||{}),e.ng.common,e.ng.core,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx,e.Rx.Observable,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx,e.Rx.EmptyError,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx,e.Rx.Observable.prototype,e.Rx.Observable,e.ng.platformBrowser)}(this,function(e,t,r,o,n,a,i,s,p,l,d,c,u,y,m,g,f,h,b,_,v,S){"use strict";function C(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!E(e[r],t[r]))return!1;return!0}function E(e,t){var r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var n=0,a;n<r.length;n++)if(a=r[n],e[a]!==t[a])return!1;return!0}function x(e){for(var t=[],r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)t.push(e[r][o]);return t}function T(e){return 0<e.length?e[e.length-1]:null}function P(e,t){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);return r}function O(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}function A(e,t){var r=[],o={};return O(e,function(e,n){n===St&&r.push(t(n,e).map(function(e){return o[n]=e,e}))}),O(e,function(e,n){n!==St&&r.push(t(n,e).map(function(e){return o[n]=e,e}))}),0<r.length?d.of.apply(d,r).concatAll().last().map(function(){return o}):d.of(o)}function w(e){return e.mergeAll().every(function(e){return!0===e})}function M(e){return e instanceof m.Observable?e:e instanceof Promise?f.fromPromise(e):d.of(e)}function I(){return new Tt(new Pt([],{}),{},null)}function R(e,t,r){return r?N(e.root,t.root):D(e.root,t.root)}function N(e,t){if(!L(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var r in t.children){if(!e.children[r])return!1;if(!N(e.children[r],t.children[r]))return!1}return!0}function D(e,t){return V(e,t,t.segments)}function V(e,t,r){if(e.segments.length>r.length){var o=e.segments.slice(0,r.length);return!!L(o,r)&&!t.hasChildren()}if(e.segments.length===r.length){if(!L(e.segments,r))return!1;for(var n in t.children){if(!e.children[n])return!1;if(!D(e.children[n],t.children[n]))return!1}return!0}var o=r.slice(0,e.segments.length),a=r.slice(e.segments.length);return!!L(e.segments,o)&&!!e.children[St]&&V(e.children[St],t,a)}function L(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r].path!==t[r].path)return!1;return!0}function j(e,t){var r=[];return O(e.children,function(e,o){o===St&&(r=r.concat(t(e,o)))}),O(e.children,function(e,o){o!==St&&(r=r.concat(t(e,o)))}),r}function F(e){return e.segments.map(function(e){return H(e)}).join("/")}function U(e,t){if(e.hasChildren()&&t){var r=e.children[St]?U(e.children[St],!1):"",o=[];return O(e.children,function(e,t){t!==St&&o.push(t+":"+U(e,!1))}),0<o.length?r+"("+o.join("//")+")":""+r}if(e.hasChildren()&&!t){var n=j(e,function(t,r){return r===St?[U(e.children[St],!1)]:[r+":"+U(t,!1)]});return F(e)+"/("+n.join("//")+")"}return F(e)}function B(e){return encodeURIComponent(e)}function z(e){return decodeURIComponent(e)}function H(e){return""+B(e.path)+q(e.parameters)}function q(e){return G(e).map(function(e){return";"+B(e.first)+"="+B(e.second)}).join("")}function W(e){var t=G(e).map(function(e){return B(e.first)+"="+B(e.second)});return 0<t.length?"?"+t.join("&"):""}function G(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(new kt(r,e[r]));return t}function K(e){Mt.lastIndex=0;var t=e.match(Mt);return t?t[0]:""}function Q(e){It.lastIndex=0;var t=e.match(Mt);return t?t[0]:""}function X(e){Rt.lastIndex=0;var t=e.match(Rt);return t?t[0]:""}function Z(e){return new m.Observable(function(t){return t.error(new Dt(e))})}function Y(e){return new m.Observable(function(t){return t.error(new Vt(e))})}function $(e){return new m.Observable(function(t){return t.error(new Error("Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false"))})}function J(e,t,r,o){return new Lt(e,t,r,o).apply()}function ee(e,t){var r=t.canLoad;if(!r||0===r.length)return d.of(!0);var o=l.from(r).map(function(r){var o=e.get(r);return M(o.canLoad?o.canLoad(t):o(t))});return w(o)}function te(e,t,r){var o={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===t.path)return(t.terminal||"full"===t.pathMatch)&&(e.hasChildren()||0<r.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};for(var n=t.path,a=n.split("/"),s={},l=[],d=0,c=0;c<a.length;++c){if(d>=r.length)return o;var u=r[d],y=a[c],p=y.startsWith(":");if(!p&&y!==u.path)return o;p&&(s[y.substring(1)]=u),l.push(u),d++}return t.terminal&&(e.hasChildren()||d<r.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:l,lastChild:d,positionalParamSegments:s}}function re(e,t,o){var n=t.startsWith("/")?t.substring(1):t;return""===n?[]:oe(t,n.split("/"),e,o)}function oe(e,t,r,o){return t.map(function(t){return t.startsWith(":")?ne(t,o,e):ae(t,r)})}function ne(e,t,r){var o=e.substring(1),n=t[o];if(!n)throw new Error("Cannot redirect to '"+r+"'. Cannot find '"+e+"'.");return n}function ae(e,t){for(var r=0,o=0,n=t,a;o<n.length;o++){if(a=n[o],a.path===e)return t.splice(r),a;r++}return new Ot(e,{})}function ie(e,t,r,o){if(0<r.length&&de(e,r,o)){var n=new Pt(t,le(o,new Pt(r,e.children)));return{segmentGroup:se(n),slicedSegments:[]}}if(0===r.length&&ce(e,r,o)){var n=new Pt(e.segments,pe(e,r,o,e.children));return{segmentGroup:se(n),slicedSegments:r}}return{segmentGroup:e,slicedSegments:r}}function se(e){if(1===e.numberOfChildren&&e.children[St]){var t=e.children[St];return new Pt(e.segments.concat(t.segments),t.children)}return e}function pe(e,t,o,n){for(var a={},i=0,s=o,p;i<s.length;i++)p=s[i],ue(e,t,p)&&!n[ye(p)]&&(a[ye(p)]=new Pt([],{}));return P(n,a)}function le(e,t){var o={};o[St]=t;for(var n=0,a=e,i;n<a.length;n++)i=a[n],""===i.path&&ye(i)!==St&&(o[ye(i)]=new Pt([],{}));return o}function de(e,t,r){return 0<r.filter(function(o){return ue(e,t,o)&&ye(o)!==St}).length}function ce(e,t,r){return 0<r.filter(function(o){return ue(e,t,o)}).length}function ue(e,t,o){return(!(e.hasChildren()||0<t.length)||!o.terminal&&"full"!==o.pathMatch)&&""===o.path&&void 0!==o.redirectTo}function ye(e){return e.outlet?e.outlet:St}function me(e){e.forEach(ge)}function ge(e){if(Array.isArray(e))throw new Error("Invalid route configuration: Array cannot be specified");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+e.path+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+e.path+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+e.path+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+e.path+"': redirectTo and component cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+e.path+"': one of the following must be provided (component or redirectTo or children or loadChildren)");if(void 0===e.path)throw new Error("Invalid route configuration: routes must have path specified");if(e.path.startsWith("/"))throw new Error("Invalid route configuration of route '"+e.path+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.terminal&&void 0===e.pathMatch){throw new Error("Invalid route configuration of route '{path: \""+e.path+"\", redirectTo: \""+e.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+e.path+"': pathMatch can only be set to 'prefix' or 'full'")}function fe(e,t){if(e===t.value)return t;for(var o=0,n=t.children;o<n.length;o++){var a=n[o],i=fe(e,a);if(i)return i}return null}function he(e,t,o){if(o.push(t),e===t.value)return o;for(var n=0,a=t.children;n<a.length;n++){var i=a[n],s=o.slice(0),p=he(e,i,s);if(0<p.length)return p}return[]}function be(e,t){var r=_e(e,t),o=new b.BehaviorSubject([new Ot("",{})]),n=new b.BehaviorSubject({}),a=new b.BehaviorSubject({}),i=new b.BehaviorSubject({}),s=new b.BehaviorSubject(""),p=new Bt(o,n,i,s,a,St,t,r.root);return p.snapshot=r.root,new Ut(new Ft(p,[]),r)}function _e(e,t){var r=new Ht([],{},{},"",{},St,t,null,e.root,-1,zt.empty);return new qt("",new Ft(r,[]))}function ve(e,t){t.value._routerState=e,t.children.forEach(function(t){return ve(e,t)})}function Se(e){var t=0<e.children.length?" { "+e.children.map(Se).join(", ")+" } ":"";return""+e.value+t}function Ce(e){e.snapshot?(E(e.snapshot.queryParams,e._futureSnapshot.queryParams)||e.queryParams.next(e._futureSnapshot.queryParams),e.snapshot.fragment!==e._futureSnapshot.fragment&&e.fragment.next(e._futureSnapshot.fragment),E(e.snapshot.params,e._futureSnapshot.params)||(e.params.next(e._futureSnapshot.params),e.data.next(e._futureSnapshot.data)),C(e.snapshot.url,e._futureSnapshot.url)||e.url.next(e._futureSnapshot.url),e.snapshot=e._futureSnapshot):(e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data))}function Ee(e,t){var r=xe(e._root,t?t._root:void 0);return new Ut(r,e)}function xe(e,t){if(t&&Oe(t.value.snapshot,e.value)){var r=t.value;r._futureSnapshot=e.value;var o=Te(e,t);return new Ft(r,o)}var r=Pe(e.value),o=e.children.map(function(e){return xe(e)});return new Ft(r,o)}function Te(e,t){return e.children.map(function(e){for(var r=0,o=t.children,n;r<o.length;r++)if(n=o[r],Oe(n.value.snapshot,e.value))return xe(e,n);return xe(e)})}function Pe(e){return new Bt(new b.BehaviorSubject(e.url),new b.BehaviorSubject(e.params),new b.BehaviorSubject(e.queryParams),new b.BehaviorSubject(e.fragment),new b.BehaviorSubject(e.data),e.outlet,e.component,e)}function Oe(e,t){return e._routeConfig===t._routeConfig}function Ae(e,t,r,o,n){if(0===r.length)return Me(t.root,t.root,t,o,n);var a=Ne(r);if(we(a),Re(a))return Me(t.root,new Pt([],{}),t,o,n);var i=De(a,t,e),s=i.processChildren?Fe(i.segmentGroup,i.index,a.commands):je(i.segmentGroup,i.index,a.commands);return Me(i.segmentGroup,s,t,o,n)}function we(e){if(e.isAbsolute&&0<e.commands.length&&ke(e.commands[0]))throw new Error("Root segment cannot have matrix parameters");var t=e.commands.filter(function(e){return"object"==typeof e&&void 0!==e.outlets});if(0<t.length&&t[0]!==e.commands[e.commands.length-1])throw new Error("{outlets:{}} has to be the last command")}function ke(e){return"object"==typeof e&&void 0===e.outlets&&void 0===e.segmentPath}function Me(e,t,r,o,n){return r.root===e?new Tt(t,He(o),n):new Tt(Ie(r.root,e,t),He(o),n)}function Ie(e,t,r){var o={};return O(e.children,function(e,n){o[n]=e===t?r:Ie(e,t,r)}),new Pt(e.segments,o)}function Re(e){return e.isAbsolute&&1===e.commands.length&&"/"==e.commands[0]}function Ne(e){if("string"==typeof e[0]&&1===e.length&&"/"==e[0])return new Wt(!0,0,e);for(var t=0,r=!1,o=[],n=function(n){var a=e[n];if("object"==typeof a&&void 0!==a.outlets){var i={};return O(a.outlets,function(e,t){i[t]="string"==typeof e?e.split("/"):e}),o.push({outlets:i}),"continue"}if("object"==typeof a&&void 0!==a.segmentPath)return o.push(a.segmentPath),"continue";if("string"!=typeof a)return o.push(a),"continue";if(0===n)for(var s=a.split("/"),p=0,l;p<s.length;++p)l=s[p],0==p&&"."==l||(0==p&&""==l?r=!0:".."==l?t++:""!=l&&o.push(l));else o.push(a)},a=0;a<e.length;++a)n(a);return new Wt(r,t,o)}function De(e,t,r){if(e.isAbsolute)return new Gt(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Gt(r.snapshot._urlSegment,!0,0);if(0<=r.snapshot._lastPathIndex+1-e.numberOfDoubleDots)return new Gt(r.snapshot._urlSegment,!1,r.snapshot._lastPathIndex+1-e.numberOfDoubleDots);throw new Error("Invalid number of '../'")}function Ve(e){return""+e}function Le(e){return"object"==typeof e[0]?void 0===e[0].outlets?(r={},r[St]=e,r):e[0].outlets:(t={},t[St]=e,t);var t,r}function je(e,t,r){if(e||(e=new Pt([],{})),0===e.segments.length&&e.hasChildren())return Fe(e,t,r);var o=Ue(e,t,r),n=r.slice(o.lastIndex);return o.match&&0===n.length?new Pt(e.segments,{}):o.match&&!e.hasChildren()?Be(e,t,r):o.match?Fe(e,0,n):Be(e,t,r)}function Fe(e,t,r){if(0===r.length)return new Pt(e.segments,{});var o=Le(r),n={};return O(o,function(r,o){null!==r&&(n[o]=je(e.children[o],t,r))}),O(e.children,function(e,t){void 0===o[t]&&(n[t]=e)}),new Pt(e.segments,n)}function Ue(e,t,r){for(var o=0,n=t,a={match:!1,lastIndex:0};n<e.segments.length;){if(o>=r.length)return a;var i=e.segments[n],s=Ve(r[o]),p=o<r.length-1?r[o+1]:null;if(s&&p&&"object"==typeof p&&void 0===p.outlets){if(!qe(s,p,i))return a;o+=2}else{if(!qe(s,{},i))return a;o++}n++}return{match:!0,lastIndex:o}}function Be(e,t,r){for(var o=e.segments.slice(0,t),n=0;n<r.length;){if("object"==typeof r[n]&&void 0!==r[n].outlets){var a=ze(r[n].outlets);return new Pt(o,a)}if(0!=n||"object"!=typeof r[0]){var s=Ve(r[n]),l=n<r.length-1?r[n+1]:null;s&&l&&"object"==typeof l?(o.push(new Ot(s,He(l))),n+=2):(o.push(new Ot(s,{})),n++)}else{var d=e.segments[t];o.push(new Ot(d.path,r[0])),n++}}return new Pt(o,{})}function ze(e){var t={};return O(e,function(e,r){null!==e&&(t[r]=Be(new Pt([],{}),0,e))}),t}function He(e){var t={};return O(e,function(e,r){return t[r]=""+e}),t}function qe(e,t,r){return e==r.path&&E(t,r.parameters)}function We(e,t,r,o){return new Xt(e,t,r,o).recognize()}function Ge(e){e.sort(function(e,t){return e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet)})}function Ke(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}function Qe(e,t,r,o){if(""===t.path){if((t.terminal||"full"===t.pathMatch)&&(e.hasChildren()||0<r.length))throw new Kt;var n=o?o.params:{};return{consumedSegments:[],lastChild:0,parameters:n}}for(var a=t.path,s=a.split("/"),l={},d=[],c=0,u=0;u<s.length;++u){if(c>=r.length)throw new Kt;var y=r[c],m=s[u],p=m.startsWith(":");if(!p&&m!==y.path)throw new Kt;p&&(l[m.substring(1)]=y.path),d.push(y),c++}if((t.terminal||"full"===t.pathMatch)&&(e.hasChildren()||c<r.length))throw new Kt;var g=P(l,d[d.length-1].parameters);return{consumedSegments:d,lastChild:c,parameters:g}}function Xe(e){var t={};e.forEach(function(e){var r=t[e.value.outlet];if(r){var o=r.url.map(function(e){return e.toString()}).join("/"),n=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+o+"' and '"+n+"'.")}t[e.value.outlet]=e.value})}function Ze(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Ye(e){for(var t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)t=t._sourceSegment,r+=t._segmentIndexShift?t._segmentIndexShift:0;return r-1}function $e(e,t,r,o){if(0<r.length&&tt(e,r,o)){var n=new Pt(t,et(e,t,o,new Pt(r,e.children)));return n._sourceSegment=e,n._segmentIndexShift=t.length,{segmentGroup:n,slicedSegments:[]}}if(0===r.length&&rt(e,r,o)){var n=new Pt(e.segments,Je(e,r,o,e.children));return n._sourceSegment=e,n._segmentIndexShift=t.length,{segmentGroup:n,slicedSegments:r}}var n=new Pt(e.segments,e.children);return n._sourceSegment=e,n._segmentIndexShift=t.length,{segmentGroup:n,slicedSegments:r}}function Je(e,t,o,n){for(var a={},i=0,p=o,l;i<p.length;i++)if(l=p[i],ot(e,t,l)&&!n[nt(l)]){var d=new Pt([],{});d._sourceSegment=e,d._segmentIndexShift=e.segments.length,a[nt(l)]=d}return P(n,a)}function et(e,t,o,n){var a={};a[St]=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(var i=0,p=o,l;i<p.length;i++)if(l=p[i],""===l.path&&nt(l)!==St){var d=new Pt([],{});d._sourceSegment=e,d._segmentIndexShift=t.length,a[nt(l)]=d}return a}function tt(e,t,r){return 0<r.filter(function(o){return ot(e,t,o)&&nt(o)!==St}).length}function rt(e,t,r){return 0<r.filter(function(o){return ot(e,t,o)}).length}function ot(e,t,o){return(!(e.hasChildren()||0<t.length)||!o.terminal&&"full"!==o.pathMatch)&&""===o.path&&void 0===o.redirectTo}function nt(e){return e.outlet?e.outlet:St}function at(e){return e.data?e.data:{}}function it(e){return e.resolve?e.resolve:{}}function st(e,t){return pt(e,t._root).map(function(){return t})}function pt(e,t){if(0===t.children.length)return f.fromPromise(lt(e,t.value).then(function(e){return t.value._resolvedComponentFactory=e,t.value}));var r=t.children.map(function(t){return pt(e,t).toPromise()});return v.forkJoin(r).map(function(){return lt(e,t.value).then(function(e){return t.value._resolvedComponentFactory=e,t.value})})}function lt(e,t){return t.component&&t._routeConfig&&"string"==typeof t.component?e.resolveComponent(t.component):Promise.resolve(null)}function dt(e,t){var r=e.pathFromRoot(t).filter(function(e){var r=e._routeConfig;return r&&r._loadedConfig&&e!==t});return 0<r.length?r[r.length-1]._routeConfig._loadedConfig:null}function ct(e){return e?e.children.reduce(function(e,t){return e[t.value.outlet]=t,e},{}):{}}function ut(e,t){var r=e._outlets[t.outlet];if(!r){var o=t.component.name;throw t.outlet===St?new Error("Cannot find primary outlet to load '"+o+"'"):new Error("Cannot find the outlet "+t.outlet+" to load '"+o+"'")}return r}function yt(e,t,o,n,a,i,s,p,l){if(void 0===l&&(l={}),0==e.componentTypes.length)throw new Error("Bootstrap at least one component before injecting Router.");var d=e.componentTypes[0],c=new rr(d,t,o,n,a,i,s,x(p));return l.enableTracing&&c.events.subscribe(function(t){console.group("Router Event: "+t.constructor.name),console.log(t.toString()),console.log(t),console.groupEnd()}),c}function mt(e){return e.routerState.root}function gt(e){return function(){e.initialNavigation()}}function ft(e,o){return void 0===o&&(o={}),[bt(e),{provide:sr,useValue:o},t.Location,{provide:t.LocationStrategy,useClass:t.PathLocationStrategy},{provide:At,useClass:wt},{provide:rr,useFactory:yt,deps:[r.ApplicationRef,r.ComponentResolver,At,Zt,t.Location,r.Injector,r.NgModuleFactoryLoader,Ct,sr]},Zt,{provide:Bt,useFactory:mt,deps:[rr]},ht(),{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader}]}function ht(){return{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:gt,deps:[rr]}}function bt(e){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:Ct,multi:!0,useValue:e}]}function _t(e){return""===e||!!e}function vt(e,r,o){return void 0===o&&(o={}),o.useHash?new t.HashLocationStrategy(e,r):new t.PathLocationStrategy(e,r)}var St="primary",Ct=(new r.OpaqueToken("ROUTER_CONFIG"),new r.OpaqueToken("ROUTES")),Et=function(){return function(e,t,r){this.routes=e,this.injector=t,this.factoryResolver=r}}(),xt=function(){function e(e){this.loader=e}return e.prototype.load=function(e,t){return f.fromPromise(this.loader.load(t).then(function(t){var r=t.create(e);return new Et(x(r.injector.get(Ct)),r.injector,r.componentFactoryResolver)}))},e}(),Tt=function(){function e(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}return e.prototype.toString=function(){return new wt().serialize(this)},e}(),Pt=function(){function e(e,t){var r=this;this.segments=e,this.children=t,this.parent=null,O(t,function(e){return e.parent=r})}return e.prototype.hasChildren=function(){return 0<this.numberOfChildren},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return F(this)},e}(),Ot=function(){function e(e,t){this.path=e,this.parameters=t}return e.prototype.toString=function(){return H(this)},e}(),At=function(){return function(){}}(),wt=function(){function e(){}return e.prototype.parse=function(e){var t=new Nt(e);return new Tt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t="/"+U(e.root,!0),r=W(e.queryParams),o=null!==e.fragment&&void 0!==e.fragment?"#"+encodeURIComponent(e.fragment):"";return""+t+r+o},e}(),kt=function(){return function(e,t){this.first=e,this.second=t}}(),Mt=/^[^\/\(\)\?;=&#]+/,It=/^[^=\?&#]+/,Rt=/^[^\?&#]+/,Nt=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.capture=function(e){if(!this.remaining.startsWith(e))throw new Error("Expected \""+e+"\".");this.remaining=this.remaining.substring(e.length)},e.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())},e.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegments());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(0<e.length||0<Object.keys(t).length)&&(r.primary=new Pt(e,t)),r},e.prototype.parseSegments=function(){var e=K(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(e);var t={};return this.peekStartsWith(";")&&(t=this.parseMatrixParams()),new Ot(z(e),t)},e.prototype.parseQueryParams=function(){var e={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(e);0<this.remaining.length&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(e);return e},e.prototype.parseFragment=function(){return this.peekStartsWith("#")?z(this.remaining.substring(1)):null},e.prototype.parseMatrixParams=function(){for(var e={};0<this.remaining.length&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=K(this.remaining);if(t){this.capture(t);var r="true";if(this.peekStartsWith("=")){this.capture("=");var o=K(this.remaining);o&&(r=o,this.capture(r))}e[z(t)]=z(r)}},e.prototype.parseQueryParam=function(e){var t=Q(this.remaining);if(t){this.capture(t);var r="";if(this.peekStartsWith("=")){this.capture("=");var o=X(this.remaining);o&&(r=o,this.capture(r))}e[z(t)]=z(r)}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.peekStartsWith(")")&&0<this.remaining.length;){var r=K(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error("Cannot parse url '"+this.url+"'");var n=void 0;-1<r.indexOf(":")?(n=r.substr(0,r.indexOf(":")),this.capture(n),this.capture(":")):e&&(n="primary");var a=this.parseChildren();t[n]=1===Object.keys(a).length?a.primary:new Pt([],a),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),t},e}(),Dt=function(){return function(e){void 0===e&&(e=null),this.segmentGroup=e}}(),Vt=function(){return function(e){this.segments=e}}(),Lt=function(){function e(e,t,r,o){this.injector=e,this.configLoader=t,this.urlTree=r,this.config=o,this.allowRedirects=!0}return e.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,"primary").map(function(e){return t.createUrlTree(e)}).catch(function(r){if(r instanceof Vt){t.allowRedirects=!1;var e=new Pt([],(o={},o.primary=new Pt(r.segments,{}),o));return t.match(e)}throw r instanceof Dt?t.noMatchError(r):r;var o})},e.prototype.match=function(e){var t=this;return this.expandSegmentGroup(this.injector,this.config,e,"primary").map(function(e){return t.createUrlTree(e)}).catch(function(r){throw r instanceof Dt?t.noMatchError(r):r})},e.prototype.noMatchError=function(t){return new Error("Cannot match any routes: '"+t.segmentGroup+"'")},e.prototype.createUrlTree=function(e){var t=0<e.segments.length?new Pt([],(r={},r.primary=e,r)):e;return new Tt(t,this.urlTree.queryParams,this.urlTree.fragment);var r},e.prototype.expandSegmentGroup=function(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).map(function(e){return new Pt([],e)}):this.expandSegment(e,r,t,r.segments,o,!0)},e.prototype.expandChildren=function(e,t,r){var o=this;return A(r.children,function(r,n){return o.expandSegmentGroup(e,t,n,r)})},e.prototype.expandSegment=function(e,t,o,n,a,i){var s=this,p=d.of.apply(d,o).map(function(p){return s.expandSegmentAgainstRoute(e,t,o,p,n,a,i).catch(function(t){if(t instanceof Dt)return d.of(null);throw t})}).concatAll();return p.first(function(e){return!!e}).catch(function(r){throw r instanceof g.EmptyError?new Dt(t):r})},e.prototype.expandSegmentAgainstRoute=function(e,t,r,o,n,a,i){return ye(o)===a?void 0===o.redirectTo||i&&this.allowRedirects?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,n):this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,n,a):Z(t):Z(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,r,o,n,a){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,n,a)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e){var t=re([],e.redirectTo,{});return e.redirectTo.startsWith("/")?Y(t):d.of(new Pt(t,{}))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,r,o,n,a){var i=te(t,o,n),s=i.matched,p=i.consumedSegments,l=i.lastChild,d=i.positionalParamSegments;if(!s)return Z(t);var c=re(p,o.redirectTo,d);return o.redirectTo.startsWith("/")?Y(c):this.expandSegment(e,t,r,c.concat(n.slice(l)),a,!1)},e.prototype.matchSegmentAgainstRoute=function(e,t,r,o){var n=this;if("**"===r.path)return d.of(new Pt(o,{}));var a=te(t,r,o),i=a.matched,s=a.consumedSegments,p=a.lastChild;if(!i)return Z(t);var l=o.slice(p);return this.getChildConfig(e,r).mergeMap(function(e){var r=e.injector,o=e.routes,a=ie(t,s,l,o),i=a.segmentGroup,p=a.slicedSegments;return 0===p.length&&i.hasChildren()?n.expandChildren(r,o,i).map(function(e){return new Pt(s,e)}):0===o.length&&0===p.length?d.of(new Pt(s,{})):n.expandSegment(r,i,o,p,"primary",!0).map(function(e){return new Pt(s.concat(e.segments),e.children)})})},e.prototype.getChildConfig=function(e,t){var r=this;return t.children?d.of(new Et(t.children,e,null)):t.loadChildren?ee(e,t).mergeMap(function(o){return o?r.configLoader.load(e,t.loadChildren).map(function(e){return t._loadedConfig=e,e}):$(t)}):d.of(new Et([],e,null))},e}(),jt=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return 1<t.length?t[t.length-2]:null},e.prototype.children=function(e){var t=fe(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=fe(e,this._root);return t&&0<t.children.length?t.children[0].value:null},e.prototype.siblings=function(e){var t=he(e,this._root,[]);if(2>t.length)return[];var r=t[t.length-2].children.map(function(e){return e.value});return r.filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return he(e,this._root,[]).map(function(e){return e.value})},e}(),Ft=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}(),Ut=function(e){function t(t,r){e.call(this,t),this.snapshot=r,ve(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"queryParams",{get:function(){return this.root.queryParams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fragment",{get:function(){return this.root.fragment},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot.toString()},t}(jt),Bt=function(){function e(e,t,r,o,n,a,i,s){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=n,this.outlet=a,this.component=i,this._futureSnapshot=s}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}(),zt=function(){function e(e,t){this.parent=e,this.current=t,this.resolvedData={}}return Object.defineProperty(e.prototype,"flattenedResolvedData",{get:function(){return this.parent?P(this.parent.flattenedResolvedData,this.resolvedData):this.resolvedData},enumerable:!0,configurable:!0}),Object.defineProperty(e,"empty",{get:function(){return new e(null,{})},enumerable:!0,configurable:!0}),e}(),Ht=function(){function e(e,t,r,o,n,a,i,s,p,l,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=n,this.outlet=a,this.component=i,this._routeConfig=s,this._urlSegment=p,this._lastPathIndex=l,this._resolve=d}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=this.url.map(function(e){return e.toString()}).join("/"),t=this._routeConfig?this._routeConfig.path:"";return"Route(url:'"+e+"', path:'"+t+"')"},e}(),qt=function(e){function t(t,r){e.call(this,r),this.url=t,ve(this,r)}return __extends(t,e),Object.defineProperty(t.prototype,"queryParams",{get:function(){return this.root.queryParams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fragment",{get:function(){return this.root.fragment},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Se(this._root)},t}(jt),Wt=function(){return function(e,t,r){this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r}}(),Gt=function(){return function(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}(),Kt=function(){return function(){}}(),Qt=function(){function e(e,t,r,o,n){this.parent=e,this.snapshot=t,this.params=r,this.data=o,this.resolve=n}return Object.defineProperty(e.prototype,"allParams",{get:function(){return this.parent?P(this.parent.allParams,this.params):this.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allData",{get:function(){return this.parent?P(this.parent.allData,this.data):this.data},enumerable:!0,configurable:!0}),e.empty=function(t){return new e(null,t,{},{},new zt(null,{}))},e}(),Xt=function(){function e(e,t,r,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o}return e.prototype.recognize=function(){try{var e=$e(this.urlTree.root,[],[],this.config).segmentGroup,t=this.processSegmentGroup(this.config,e,Qt.empty(null),"primary"),r=new Ht([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,zt.empty),o=new Ft(r,t);return d.of(new qt(this.url,o))}catch(t){return new m.Observable(function(e){return e.error(t)})}},e.prototype.processSegmentGroup=function(e,t,r,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,0,t.segments,r,o)},e.prototype.processChildren=function(e,t,r){var o=this,n=j(t,function(t,n){return o.processSegmentGroup(e,t,r,n)});return Xe(n),Ge(n),n},e.prototype.processSegment=function(e,t,o,n,a,i){for(var s=0,p=e,l;s<p.length;s++){l=p[s];try{return this.processSegmentAgainstRoute(l,t,o,n,a,i)}catch(t){if(!(t instanceof Kt))throw t}}throw new Kt},e.prototype.processSegmentAgainstRoute=function(e,t,r,o,n,a){if(e.redirectTo)throw new Kt;if((e.outlet?e.outlet:"primary")!==a)throw new Kt;var i=new zt(n.resolve,it(e));if("**"===e.path){var s=0<o.length?T(o).parameters:{},p=new Ht(o,Object.freeze(P(n.allParams,s)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,P(n.allData,at(e)),a,e.component,e,Ze(t),Ye(t)+o.length,i);return[new Ft(p,[])]}var l=Qe(t,e,o,n.snapshot),d=l.consumedSegments,c=l.parameters,u=l.lastChild,y=o.slice(u),m=Ke(e),g=$e(t,d,y,m),f=g.segmentGroup,h=g.slicedSegments,b=new Ht(d,Object.freeze(P(n.allParams,c)),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,P(n.allData,at(e)),a,e.component,e,Ze(t),Ye(t)+d.length,i),_=e.component?Qt.empty(b):new Qt(n,b,c,at(e),i);if(0===h.length&&f.hasChildren()){var v=this.processChildren(m,f,_);return[new Ft(b,v)]}if(0===m.length&&0===h.length)return[new Ft(b,[])];var v=this.processSegment(m,f,r+u,h,_,"primary");return[new Ft(b,v)]},e}(),Zt=function(){function e(){this._outlets={}}return e.prototype.registerOutlet=function(e,t){this._outlets[e]=t},e.prototype.removeOutlet=function(e){this._outlets[e]=void 0},e}(),Yt=function(){function e(e,t){this.id=e,this.url=t}return e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(),$t=function(){function e(e,t,r){this.id=e,this.url=t,this.urlAfterRedirects=r}return e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(),Jt=function(){function e(e,t){this.id=e,this.url=t}return e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(),er=function(){function e(e,t,r){this.id=e,this.url=t,this.error=r}return e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(),tr=function(){function e(e,t,r,o){this.id=e,this.url=t,this.urlAfterRedirects=r,this.state=o}return e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(),rr=function(){function e(e,t,r,o,n,a,i,s){this.rootComponentType=e,this.resolver=t,this.urlSerializer=r,this.outletMap=o,this.location=n,this.injector=a,this.navigationId=0,this.navigated=!1,this.resetConfig(s),this.routerEvents=new p.Subject,this.currentUrlTree=I(),this.configLoader=new xt(i),this.currentRouterState=be(this.currentUrlTree,this.rootComponentType)}return e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),this.navigateByUrl(this.location.path(!0))},Object.defineProperty(e.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),e.prototype.resetConfig=function(e){me(e),this.config=e},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription.unsubscribe()},e.prototype.createUrlTree=function(e,t){var r=void 0===t?{}:t,o=r.relativeTo,n=r.queryParams,i=r.fragment,s=r.preserveQueryParams,p=r.preserveFragment,l=o?o:this.routerState.root,a=s?this.currentUrlTree.queryParams:n,d=p?this.currentUrlTree.fragment:i;return Ae(l,this.currentUrlTree,e,a,d)},e.prototype.navigateByUrl=function(e,t){if(void 0===t&&(t={skipLocationChange:!1}),e instanceof Tt)return this.scheduleNavigation(e,t);var r=this.urlSerializer.parse(e);return this.scheduleNavigation(r,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),this.scheduleNavigation(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){return this.urlSerializer.parse(e)},e.prototype.isActive=function(e,t){if(e instanceof Tt)return R(this.currentUrlTree,e,t);var r=this.urlSerializer.parse(e);return R(this.currentUrlTree,r,t)},e.prototype.scheduleNavigation=function(e,t){var r=this,o=++this.navigationId;return this.routerEvents.next(new Yt(o,this.serializeUrl(e))),Promise.resolve().then(function(){return r.runNavigate(e,t.skipLocationChange,o)})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(t){var r=e.urlSerializer.parse(t.url);return e.currentUrlTree.toString()===r.toString()?null:e.scheduleNavigation(r,t.pop)}))},e.prototype.runNavigate=function(t,r,o){var n=this;return o===this.navigationId?new Promise(function(e,a){var i=n.currentRouterState,s=n.currentUrlTree,p,l,c,y;J(n.injector,n.configLoader,t,n.config).mergeMap(function(e){return y=e,We(n.rootComponentType,n.config,y,n.serializeUrl(y))}).mergeMap(function(e){return n.routerEvents.next(new tr(o,n.serializeUrl(t),n.serializeUrl(y),e)),st(n.resolver,e)}).map(function(e){return Ee(e,n.currentRouterState)}).map(function(e){p=e,c=new ar(p.snapshot,n.currentRouterState.snapshot,n.injector),c.traverse(n.outletMap)}).mergeMap(function(){return c.checkGuards()}).mergeMap(function(e){return e?c.resolveData().map(function(){return e}):d.of(e)}).forEach(function(e){if(!e||o!==n.navigationId)return n.routerEvents.next(new Jt(o,n.serializeUrl(t))),void(l=!1);if(n.currentUrlTree=y,n.currentRouterState=p,new ir(p,i).activate(n.outletMap),!r){var a=n.urlSerializer.serialize(y);n.location.isCurrentPathEqualTo(a)?n.location.replaceState(a):n.location.go(a)}l=!0}).then(function(){n.navigated=!0,n.routerEvents.next(new $t(o,n.serializeUrl(t),n.serializeUrl(y))),e(l)},function(r){n.currentRouterState=i,n.currentUrlTree=s,n.routerEvents.next(new er(o,n.serializeUrl(t),r)),a(r)})}):(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Jt(o,this.serializeUrl(t))),Promise.resolve(!1))},e}(),or=function(){function e(e){this.path=e}return Object.defineProperty(e.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),e}(),nr=function(){return function(e,t){this.component=e,this.route=t}}(),ar=function(){function e(e,t,r){this.future=e,this.curr=t,this.injector=r,this.checks=[]}return e.prototype.traverse=function(e){var t=this.future._root,r=this.curr?this.curr._root:null;this.traverseChildRoutes(t,r,e,[t.value])},e.prototype.checkGuards=function(){var e=this;return 0===this.checks.length?d.of(!0):l.from(this.checks).map(function(t){if(t instanceof or)return w(l.from([e.runCanActivate(t.route),e.runCanActivateChild(t.path)]));if(t instanceof nr){var r=t;return e.runCanDeactivate(r.component,r.route)}throw new Error("Cannot be reached")}).mergeAll().every(function(e){return!0===e})},e.prototype.resolveData=function(){var e=this;return 0===this.checks.length?d.of(null):l.from(this.checks).mergeMap(function(t){return t instanceof or?e.runResolve(t.route):d.of(null)}).reduce(function(e){return e})},e.prototype.traverseChildRoutes=function(e,t,r,o){var n=this,a=ct(t);e.children.forEach(function(e){n.traverseRoutes(e,a[e.value.outlet],r,o.concat([e.value])),delete a[e.value.outlet]}),O(a,function(e,t){return n.deactivateOutletAndItChildren(e,r._outlets[t])})},e.prototype.traverseRoutes=function(e,t,r,o){var n=e.value,a=t?t.value:null,i=r?r._outlets[e.value.outlet]:null;a&&n._routeConfig===a._routeConfig?(E(n.params,a.params)||this.checks.push(new nr(i.component,a),new or(o)),n.component?this.traverseChildRoutes(e,t,i?i.outletMap:null,o):this.traverseChildRoutes(e,t,r,o)):(a&&(a.component?this.deactivateOutletAndItChildren(a,i):this.deactivateOutletMap(r)),this.checks.push(new or(o)),n.component?this.traverseChildRoutes(e,null,i?i.outletMap:null,o):this.traverseChildRoutes(e,null,r,o))},e.prototype.deactivateOutletAndItChildren=function(e,t){t&&t.isActivated&&(this.deactivateOutletMap(t.outletMap),this.checks.push(new nr(t.component,e)))},e.prototype.deactivateOutletMap=function(e){var t=this;O(e._outlets,function(e){e.isActivated&&t.deactivateOutletAndItChildren(e.activatedRoute.snapshot,e)})},e.prototype.runCanActivate=function(e){var t=this,r=e._routeConfig?e._routeConfig.canActivate:null;if(!r||0===r.length)return d.of(!0);var o=l.from(r).map(function(r){var o=t.getToken(r,e,t.future);return M(o.canActivate?o.canActivate(e,t.future):o(e,t.future))});return w(o)},e.prototype.runCanActivateChild=function(e){var t=this,r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(function(e){return t.extractCanActivateChild(e)}).filter(function(e){return null!==e});return w(l.from(o).map(function(e){var o=l.from(e.guards).map(function(e){var o=t.getToken(e,e.node,t.future);return M(o.canActivateChild?o.canActivateChild(r,t.future):o(r,t.future))});return w(o)}))},e.prototype.extractCanActivateChild=function(e){var t=e._routeConfig?e._routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null},e.prototype.runCanDeactivate=function(e,t){var r=this,o=t&&t._routeConfig?t._routeConfig.canDeactivate:null;return o&&0!==o.length?l.from(o).map(function(o){var n=r.getToken(o,t,r.curr);return M(n.canDeactivate?n.canDeactivate(e,t,r.curr):n(e,t,r.curr))}).mergeAll().every(function(e){return!0===e}):d.of(!0)},e.prototype.runResolve=function(e){var t=e._resolve;return this.resolveNode(t.current,e).map(function(r){return t.resolvedData=r,e.data=P(e.data,t.flattenedResolvedData),null})},e.prototype.resolveNode=function(e,t){var r=this;return A(e,function(e,o){var n=r.getToken(o,t,r.future);return M(n.resolve?n.resolve(t,r.future):n(t,r.future))})},e.prototype.getToken=function(e,t,r){var o=dt(r,t),n=o?o.injector:this.injector;return n.get(e)},e}(),ir=function(){function e(e,t){this.futureState=e,this.currState=t}return e.prototype.activate=function(e){var t=this.futureState._root,r=this.currState?this.currState._root:null;Ce(this.futureState.root),this.activateChildRoutes(t,r,e)},e.prototype.activateChildRoutes=function(e,t,r){var o=this,n=ct(t);e.children.forEach(function(e){o.activateRoutes(e,n[e.value.outlet],r),delete n[e.value.outlet]}),O(n,function(e,t){return o.deactivateOutletAndItChildren(r._outlets[t])})},e.prototype.activateRoutes=function(e,t,r){var o=e.value,n=t?t.value:null;if(!(o===n)){if(n)if(n.component){var a=ut(r,e.value);this.deactivateOutletAndItChildren(a)}else this.deactivateOutletMap(r);if(o.component){Ce(o);var a=ut(r,e.value),i=new Zt;this.placeComponentIntoOutlet(i,o,a),this.activateChildRoutes(e,null,i)}else Ce(o),this.activateChildRoutes(e,null,r)}else if(Ce(o),o.component){var a=ut(r,e.value);this.activateChildRoutes(e,t,a.outletMap)}else this.activateChildRoutes(e,t,r)},e.prototype.placeComponentIntoOutlet=function(e,t,o){var n=[{provide:Bt,useValue:t},{provide:Zt,useValue:e}],a=dt(this.futureState.snapshot,t.snapshot),i=null,s=null;a&&(i=a.factoryResolver,s=a.injector,n.push({provide:r.ComponentFactoryResolver,useValue:i})),o.activate(t,i,s,r.ReflectiveInjector.resolve(n),e)},e.prototype.deactivateOutletAndItChildren=function(e){e&&e.isActivated&&(this.deactivateOutletMap(e.outletMap),e.deactivate())},e.prototype.deactivateOutletMap=function(e){var t=this;O(e._outlets,function(e){return t.deactivateOutletAndItChildren(e)})},e}(),sr=new r.OpaqueToken("ROUTER_CONFIGURATION"),pr=function(){function e(e,t,r){this.router=e,this.route=t,this.locationStrategy=r,this.commands=[]}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){this.commands=Array.isArray(e)?e:[e]},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e,t,r){return 0!==e||t||r||(this.router.navigateByUrl(this.urlTree),!1)},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:_t(this.preserveQueryParams),preserveFragment:_t(this.preserveFragment)})},enumerable:!0,configurable:!0}),e}();pr.decorators=[{type:r.Directive,args:[{selector:":not(a)[routerLink]"}]}],pr.ctorParameters=[{type:rr},{type:Bt},{type:t.LocationStrategy}],pr.propDecorators={queryParams:[{type:r.Input}],fragment:[{type:r.Input}],preserveQueryParams:[{type:r.Input}],preserveFragment:[{type:r.Input}],routerLink:[{type:r.Input}],onClick:[{type:r.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]};var lr=function(){function e(e,t,r){var o=this;this.router=e,this.route=t,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe(function(e){e instanceof $t&&o.updateTargetUrlAndHref()})}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){this.commands=Array.isArray(e)?e:[e]},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this.updateTargetUrlAndHref()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.onClick=function(e,t,r){return 0!==e||t||r||"string"==typeof this.target&&"_self"!=this.target||(this.router.navigateByUrl(this.urlTree),!1)},e.prototype.updateTargetUrlAndHref=function(){this.urlTree=this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:_t(this.preserveQueryParams),preserveFragment:_t(this.preserveFragment)}),this.urlTree&&(this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)))},e}();lr.decorators=[{type:r.Directive,args:[{selector:"a[routerLink]"}]}],lr.ctorParameters=[{type:rr},{type:Bt},{type:t.LocationStrategy}],lr.propDecorators={target:[{type:r.Input}],queryParams:[{type:r.Input}],fragment:[{type:r.Input}],routerLinkOptions:[{type:r.Input}],preserveQueryParams:[{type:r.Input}],preserveFragment:[{type:r.Input}],href:[{type:r.HostBinding}],routerLink:[{type:r.Input}],onClick:[{type:r.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]};var dr=function(){function e(e,t,r){var o=this;this.router=e,this.element=t,this.renderer=r,this.classes=[],this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(function(e){e instanceof $t&&o.update()})}return e.prototype.ngAfterContentInit=function(){var e=this;this.links.changes.subscribe(function(){return e.update()}),this.linksWithHrefs.changes.subscribe(function(){return e.update()}),this.update()},Object.defineProperty(e.prototype,"routerLinkActive",{set:function(e){this.classes=Array.isArray(e)?e:e.split(" ")},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this.update()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.update=function(){var e=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var t=this.reduceList(this.links),r=this.reduceList(this.linksWithHrefs);this.classes.forEach(function(o){return e.renderer.setElementClass(e.element.nativeElement,o,t||r)})}},e.prototype.reduceList=function(e){var t=this;return e.reduce(function(e,r){return e||t.router.isActive(r.urlTree,t.routerLinkActiveOptions.exact)},!1)},e}();dr.decorators=[{type:r.Directive,args:[{selector:"[routerLinkActive]"}]}],dr.ctorParameters=[{type:rr},{type:r.ElementRef},{type:r.Renderer}],dr.propDecorators={links:[{type:r.ContentChildren,args:[pr,{descendants:!0}]}],linksWithHrefs:[{type:r.ContentChildren,args:[lr,{descendants:!0}]}],routerLinkActiveOptions:[{type:r.Input}],routerLinkActive:[{type:r.Input}]};var cr=function(){function e(e,t,o,n){this.parentOutletMap=e,this.location=t,this.resolver=o,this.name=n,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,e.registerOutlet(n?n:"primary",this)}return e.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:"primary")},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this.deactivateEvents.emit(e)}},e.prototype.activate=function(e,t,o,n,a){this.outletMap=a,this._activatedRoute=e;var i=e._futureSnapshot,s=i._routeConfig.component,p;try{p="string"==typeof s?i._resolvedComponentFactory:t?t.resolveComponentFactory(s):this.resolver.resolveComponentFactory(s)}catch(t){if(!(t instanceof r.NoComponentFactoryError))throw t;var l=s?s.name:null;console.warn("'"+l+"' not found in entryComponents array.  To ensure all components referred\n          to by the Routes are compiled, you must add '"+l+"' to the\n          'entryComponents' array of your application component. This will be required in a future\n          release of the router."),p=i._resolvedComponentFactory}var d=o?o:this.location.parentInjector,c=r.ReflectiveInjector.fromResolvedProviders(n,d);this.activated=this.location.createComponent(p,this.location.length,c,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},e}();cr.decorators=[{type:r.Directive,args:[{selector:"router-outlet"}]}],cr.ctorParameters=[{type:Zt},{type:r.ViewContainerRef},{type:r.ComponentFactoryResolver},{type:void 0,decorators:[{type:r.Attribute,args:["name"]}]}],cr.propDecorators={activateEvents:[{type:r.Output,args:["activate"]}],deactivateEvents:[{type:r.Output,args:["deactivate"]}]};var ur=[cr,pr,lr,dr],yr=[t.Location,{provide:At,useClass:wt},{provide:rr,useFactory:yt,deps:[r.ApplicationRef,r.ComponentResolver,At,Zt,t.Location,r.Injector,r.NgModuleFactoryLoader,Ct,sr]},Zt,{provide:Bt,useFactory:mt,deps:[rr]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},{provide:sr,useValue:{enableTracing:!1}}],mr=function(){function e(){}return e.forRoot=function(o,n){return{ngModule:e,providers:[yr,bt(o),{provide:sr,useValue:n?n:{}},{provide:t.LocationStrategy,useFactory:vt,deps:[t.PlatformLocation,[new r.Inject(t.APP_BASE_HREF),new r.Optional],sr]},ht()]}},e.forChild=function(t){return{ngModule:e,providers:[bt(t)]}},e}();mr.decorators=[{type:r.NgModule,args:[{declarations:ur,exports:ur}]}],e.provideRouterConfig=function(e){return{provide:sr,useValue:e}},e.provideRoutes=bt,e.RouterLink=pr,e.RouterLinkWithHref=lr,e.RouterLinkActive=dr,e.RouterOutlet=cr,e.NavigationCancel=Jt,e.NavigationEnd=$t,e.NavigationError=er,e.NavigationStart=Yt,e.Router=rr,e.RoutesRecognized=tr,e.ROUTER_DIRECTIVES=ur,e.RouterModule=mr,e.RouterOutletMap=Zt,e.provideRouter=function(e,r){return void 0===r&&(r={}),[{provide:t.PlatformLocation,useClass:S.BrowserPlatformLocation}].concat(ft(e,r))},e.ActivatedRoute=Bt,e.ActivatedRouteSnapshot=Ht,e.RouterState=Ut,e.RouterStateSnapshot=qt,e.PRIMARY_OUTLET="primary",e.DefaultUrlSerializer=wt,e.UrlSegment=Ot,e.UrlSerializer=At,e.UrlTree=Tt});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/Observable"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Observable","@angular/platform-browser"],t):t((e.ng=e.ng||{},e.ng.http=e.ng.http||{}),e.ng.core,e.Rx,e.ng.platformBrowser)})(this,function(e,t,r,o){'use strict';function n(e){return e!==void 0&&null!==e}function a(e){return e===void 0||null===e}function i(e){return"string"==typeof e}function s(e){return Array.isArray(e)}function p(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function l(){if(a(M))if(n(P.Symbol)&&n(Symbol.iterator))M=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0,r;t<e.length;++t)r=e[t],"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(M=r);return M}function d(){return null===R&&(R=O.__ng_jsonp__={}),R}function c(e,t){if(n(e))for(var r=0,o;r<e.length;r++)o=e[r],s(o)?c(o,t):t.push(o);return t}function u(e){return!!p(e)&&(s(e)||!(e instanceof L)&&l()in e)}function y(e,t){if(s(e))for(var r=0;r<e.length;r++)t(e[r]);else for(var o=e[l()](),n;!(n=o.next()).done;)t(n.value)}function m(e){return new TypeError(e)}function g(e){return e.toLowerCase()}function f(t){if(i(t)){var r=t;if(t=t.replace(/(\w)(\w*)/g,function(e,t,r){return t.toUpperCase()+r.toLowerCase()}),t=e.RequestMethod[t],"number"!=typeof t)throw m("Invalid request method. The method \""+r+"\" is not supported.")}return t}function h(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0}function b(e){for(var t=new Uint16Array(e.length),r=0,o=e.length;r<o;r++)t[r]=e.charCodeAt(r);return t.buffer}function _(e){void 0===e&&(e="");var t=new L;if(0<e.length){var r=e.split("&");r.forEach(function(e){var r=e.indexOf("="),o=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)],n=o[0],a=o[1],i=t.get(n)||[];i.push(a),t.set(n,i)})}return t}function S(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,";").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function C(e,t){return e.createConnection(t).response}function E(e,t,r,o){var a=e;return n(t)?a.merge(new ye({method:t.method||r,url:t.url||o,search:t.search,headers:t.headers,body:t.body,withCredentials:t.withCredentials,responseType:t.responseType})):n(r)?a.merge(new ye({method:r,url:o})):a.merge(new ye({url:o}))}function x(){return new ce}function T(e,t){return new _e(e,t)}var P="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var O=P;O.assert=function(){};var A=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,t){return e.charCodeAt(t)},e.split=function(e,t){return e.split(t)},e.equals=function(e,t){return e===t},e.stripLeft=function(e,t){if(e&&e.length){for(var r=0,o=0;o<e.length&&e[o]==t;o++)r++;e=e.substring(r)}return e},e.stripRight=function(e,t){if(e&&e.length){for(var r=e.length,o=e.length-1;0<=o&&e[o]==t;o--)r--;e=e.substring(0,r)}return e},e.replace=function(e,t,r){return e.replace(t,r)},e.replaceAll=function(e,t,r){return e.replace(t,r)},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.replaceAllMapped=function(e,t,r){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),r(e)})},e.contains=function(e,t){return-1!=e.indexOf(t)},e.compare=function(e,t){return e<t?-1:e>t?1:0},e}(),k=function(){function e(){}return e.parse=function(e){return O.JSON.parse(e)},e.stringify=function(e){return O.JSON.stringify(e,null,2)},e}(),M=null,I=0,R=null,N=function(){function e(){}return e.prototype.build=function(e){var t=document.createElement("script");return t.src=e,t},e.prototype.nextRequestID=function(){return"__req"+I++},e.prototype.requestCallback=function(e){return"__ng_jsonp__"+"."+e+".finished"},e.prototype.exposeConnection=function(e,t){var r=d();r[e]=t},e.prototype.removeConnection=function(e){var t=d();t[e]=null},e.prototype.send=function(e){document.body.appendChild(e)},e.prototype.cleanup=function(e){e.parentNode&&e.parentNode.removeChild(e)},e}();N.decorators=[{type:t.Injectable}];var D=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}();D.decorators=[{type:t.Injectable}],D.ctorParameters=[],e.RequestMethod,function(e){e[e.Get=0]="Get",e[e.Post=1]="Post",e[e.Put=2]="Put",e[e.Delete=3]="Delete",e[e.Options=4]="Options",e[e.Head=5]="Head",e[e.Patch=6]="Patch"}(e.RequestMethod||(e.RequestMethod={})),e.ReadyState,function(e){e[e.Unsent=0]="Unsent",e[e.Open=1]="Open",e[e.HeadersReceived=2]="HeadersReceived",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Cancelled=5]="Cancelled"}(e.ReadyState||(e.ReadyState={})),e.ResponseType,function(e){e[e.Basic=0]="Basic",e[e.Cors=1]="Cors",e[e.Default=2]="Default",e[e.Error=3]="Error",e[e.Opaque=4]="Opaque"}(e.ResponseType||(e.ResponseType={}));var V;(function(e){e[e.NONE=0]="NONE",e[e.JSON=1]="JSON",e[e.FORM=2]="FORM",e[e.FORM_DATA=3]="FORM_DATA",e[e.TEXT=4]="TEXT",e[e.BLOB=5]="BLOB",e[e.ARRAY_BUFFER=6]="ARRAY_BUFFER"})(V||(V={})),e.ResponseContentType,function(e){e[e.Text=0]="Text",e[e.Json=1]="Json",e[e.ArrayBuffer=2]="ArrayBuffer",e[e.Blob=3]="Blob"}(e.ResponseContentType||(e.ResponseContentType={}));var L=O.Map,j=O.Set,F=function(){try{if(1===new L([[1,2]]).size)return function(e){return new L(e)}}catch(t){}return function(e){for(var t=new L,r=0,o;r<e.length;r++)o=e[r],t.set(o[0],o[1]);return t}}(),U=function(){try{if(new L(new L()))return function(e){return new L(e)}}catch(t){}return function(e){var t=new L;return e.forEach(function(e,r){t.set(r,e)}),t}}(),B=function(){return new L().keys().next?function(e){for(var t=e.keys(),r;!(r=t.next()).done;)e.set(r.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),z=function(){try{if(new L().values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(t){}return function(e,t){var r=W.createFixedSize(e.size),o=0;return e.forEach(function(e,n){r[o]=t?e:n,o++}),r}}(),H=function(){function e(){}return e.clone=function(e){return U(e)},e.createFromStringMap=function(e){var t=new L;for(var r in e)t.set(r,e[r]);return t},e.toStringMap=function(e){var t={};return e.forEach(function(e,r){return t[r]=e}),t},e.createFromPairs=function(e){return F(e)},e.clearValues=function(e){B(e)},e.iterable=function(e){return e},e.keys=function(e){return z(e,!1)},e.values=function(e){return z(e,!0)},e}(),q=function(){function e(){}return e.create=function(){return{}},e.contains=function(e,t){return e.hasOwnProperty(t)},e.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},e.set=function(e,t,r){e[t]=r},e.keys=function(e){return Object.keys(e)},e.values=function(e){return Object.keys(e).map(function(t){return e[t]})},e.isEmpty=function(e){for(var t in e)return!1;return!0},e.delete=function(e,t){delete e[t]},e.forEach=function(e,t){for(var r=0,o=Object.keys(e),n;r<o.length;r++)n=o[r],t(e[n],n)},e.merge=function(e,t){for(var r={},o=0,n=Object.keys(e),a;o<n.length;o++)a=n[o],r[a]=e[a];for(var i=0,s=Object.keys(t),a;i<s.length;i++)a=s[i],r[a]=t[a];return r},e.equals=function(e,t){var r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var n=0,a;n<r.length;n++)if(a=r[n],e[a]!==t[a])return!1;return!0},e}(),W=function(){function e(){}return e.createFixedSize=function(e){return Array(e)},e.createGrowableSize=function(e){return Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return-1!==e.indexOf(t)},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0,o;r<t.length;++r)o=e.indexOf(t[r]),e.splice(o,1)},e.remove=function(e,t){var r=e.indexOf(t);return!!(-1<r)&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=null),e.fill(t,r,null===o?e.length:o)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){n(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,o=-Infinity,n=0,i;n<e.length;n++)if(i=e[n],!a(i)){var s=t(i);s>o&&(r=i,o=s)}return r},e.flatten=function(e){var t=[];return c(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}(),G=function(){var e=new j([1,2,3]);return 3===e.size?function(e){return new j(e)}:function(e){var t=new j(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),K=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error),Q=function(){function e(t){var r=this;return t instanceof e?void(this._headersMap=t._headersMap):void(this._headersMap=new L,a(t)||q.forEach(t,function(e,t){r._headersMap.set(g(t),u(e)?e:[e])}))}return e.fromResponseHeaderString=function(t){var r=new e;return t.split("\n").forEach(function(e){var t=e.indexOf(":");if(0<t){var o=e.substring(0,t),n=e.substring(t+1).trim();r.set(o,n)}}),r},e.prototype.append=function(e,t){e=g(e);var r=this._headersMap.get(e),o=u(r)?r:[];o.push(t),this._headersMap.set(e,o)},e.prototype.delete=function(e){this._headersMap.delete(g(e))},e.prototype.forEach=function(e){this._headersMap.forEach(e)},e.prototype.get=function(e){return W.first(this._headersMap.get(g(e)))},e.prototype.has=function(e){return this._headersMap.has(g(e))},e.prototype.keys=function(){return H.keys(this._headersMap)},e.prototype.set=function(e,t){var r=[];if(u(t)){var o=t.join(",");r.push(o)}else r.push(t);this._headersMap.set(g(e),r)},e.prototype.values=function(){return H.values(this._headersMap)},e.prototype.toJSON=function(){var e={};return this._headersMap.forEach(function(t,r){var o=[];y(t,function(e){return o=W.concat(o,e.split(","))}),e[g(r)]=o}),e},e.prototype.getAll=function(e){var t=this._headersMap.get(g(e));return u(t)?t:[]},e.prototype.entries=function(){throw new K("\"entries\" method is not implemented on Headers class")},e}(),X=function(){function e(e){var t=void 0===e?{}:e,r=t.body,o=t.status,a=t.headers,i=t.statusText,s=t.type,p=t.url;this.body=n(r)?r:null,this.status=n(o)?o:null,this.headers=n(a)?a:null,this.statusText=n(i)?i:null,this.type=n(s)?s:null,this.url=n(p)?p:null}return e.prototype.merge=function(t){return new e({body:n(t)&&n(t.body)?t.body:this.body,status:n(t)&&n(t.status)?t.status:this.status,headers:n(t)&&n(t.headers)?t.headers:this.headers,statusText:n(t)&&n(t.statusText)?t.statusText:this.statusText,type:n(t)&&n(t.type)?t.type:this.type,url:n(t)&&n(t.url)?t.url:this.url})},e}(),Z=function(t){function r(){t.call(this,{status:200,statusText:"Ok",type:e.ResponseType.Default,headers:new Q})}return __extends(r,t),r}(X);Z.decorators=[{type:t.Injectable}],Z.ctorParameters=[];var Y=function(){return function(){}}(),$=function(){return function(){}}(),J=function(){return function(){}}(),ee=function(e){return 200<=e&&300>e},te=function(){function e(){}return e.prototype.encodeKey=function(e){return S(e)},e.prototype.encodeValue=function(e){return S(e)},e}(),re=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=new te),this.rawParams=e,this.queryEncoder=t,this.paramsMap=_(e)}return e.prototype.clone=function(){var t=new e("",this.queryEncoder);return t.appendAll(this),t},e.prototype.has=function(e){return this.paramsMap.has(e)},e.prototype.get=function(e){var t=this.paramsMap.get(e);return u(t)?W.first(t):null},e.prototype.getAll=function(e){var t=this.paramsMap.get(e);return n(t)?t:[]},e.prototype.set=function(e,t){var r=this.paramsMap.get(e),o=n(r)?r:[];W.clear(o),o.push(t),this.paramsMap.set(e,o)},e.prototype.setAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){var o=t.paramsMap.get(r),a=n(o)?o:[];W.clear(a),a.push(e[0]),t.paramsMap.set(r,a)})},e.prototype.append=function(e,t){var r=this.paramsMap.get(e),o=n(r)?r:[];o.push(t),this.paramsMap.set(e,o)},e.prototype.appendAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){for(var o=t.paramsMap.get(r),a=n(o)?o:[],s=0;s<e.length;++s)a.push(e[s]);t.paramsMap.set(r,a)})},e.prototype.replaceAll=function(e){var t=this;e.paramsMap.forEach(function(e,r){var o=t.paramsMap.get(r),a=n(o)?o:[];W.clear(a);for(var s=0;s<e.length;++s)a.push(e[s]);t.paramsMap.set(r,a)})},e.prototype.toString=function(){var e=this,t=[];return this.paramsMap.forEach(function(r,o){r.forEach(function(r){return t.push(e.queryEncoder.encodeKey(o)+"="+e.queryEncoder.encodeValue(r))})}),t.join("&")},e.prototype.delete=function(e){this.paramsMap.delete(e)},e}(),oe=function(){function e(){}return e.prototype.json=function(){return i(this._body)?k.parse(this._body):this._body instanceof ArrayBuffer?k.parse(this.text()):this._body},e.prototype.text=function(){return this._body instanceof re?this._body.toString():this._body instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint16Array(this._body)):p(this._body)?k.stringify(this._body):this._body.toString()},e.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:b(this.text())},e.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},e}(),ne=function(e){function t(t){e.call(this),this._body=t.body,this.status=t.status,this.ok=200<=this.status&&299>=this.status,this.statusText=t.statusText,this.headers=t.headers,this.type=t.type,this.url=t.url}return __extends(t,e),t.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},t}(oe),ae=function(){return function(){}}(),ie=function(t){function o(o,a,i){var s=this;if(t.call(this),this._dom=a,this.baseResponseOptions=i,this._finished=!1,o.method!==e.RequestMethod.Get)throw m("JSONP requests must use GET request method.");this.request=o,this.response=new r.Observable(function(t){s.readyState=e.ReadyState.Loading;var r=s._id=a.nextRequestID();a.exposeConnection(r,s);var p=a.requestCallback(s._id),l=o.url;-1<l.indexOf("=JSONP_CALLBACK&")?l=A.replace(l,"=JSONP_CALLBACK&","="+p+"&"):l.lastIndexOf("=JSONP_CALLBACK")===l.length-15&&(l=l.substring(0,l.length-15)+("="+p));var d=s._script=a.build(l),c=function(){if(s.readyState!==e.ReadyState.Cancelled){if(s.readyState=e.ReadyState.Done,a.cleanup(d),!s._finished){var r=new X({body:"JSONP injected script did not invoke callback.",type:e.ResponseType.Error,url:l});return n(i)&&(r=i.merge(r)),void t.error(new ne(r))}var o=new X({body:s._responseData,url:l});n(s.baseResponseOptions)&&(o=s.baseResponseOptions.merge(o)),t.next(new ne(o)),t.complete()}},u=function(r){if(s.readyState!==e.ReadyState.Cancelled){s.readyState=e.ReadyState.Done,a.cleanup(d);var o=new X({body:r.message,type:e.ResponseType.Error});n(i)&&(o=i.merge(o)),t.error(new ne(o))}};return d.addEventListener("load",c),d.addEventListener("error",u),a.send(d),function(){s.readyState=e.ReadyState.Cancelled,d.removeEventListener("load",c),d.removeEventListener("error",u),n(d)&&s._dom.cleanup(d)}})}return __extends(o,t),o.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState===e.ReadyState.Cancelled||(this._responseData=t)},o}(ae),se=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(Y),pe=function(e){function t(t,r){e.call(this),this._browserJSONP=t,this._baseResponseOptions=r}return __extends(t,e),t.prototype.createConnection=function(e){return new ie(e,this._browserJSONP,this._baseResponseOptions)},t}(se);pe.decorators=[{type:t.Injectable}],pe.ctorParameters=[{type:N},{type:X}];var le=/^\)\]\}',?\n/,de=function(){function t(t,o,a){var s=this;this.request=t,this.response=new r.Observable(function(r){var p=o.build();p.open(e.RequestMethod[t.method].toUpperCase(),t.url),n(t.withCredentials)&&(p.withCredentials=t.withCredentials);var l=function(){var e=n(p.response)?p.response:p.responseText;i(e)&&(e=e.replace(le,""));var t=Q.fromResponseHeaderString(p.getAllResponseHeaders()),o=h(p),s=1223===p.status?204:p.status;0===s&&(s=e?200:0);var l=p.statusText||"OK",d=new X({body:e,status:s,headers:t,statusText:l,url:o});n(a)&&(d=a.merge(d));var c=new ne(d);return c.ok=ee(s),c.ok?(r.next(c),void r.complete()):void r.error(c)},d=function(t){var o=new X({body:t,type:e.ResponseType.Error,status:p.status,statusText:p.statusText});n(a)&&(o=a.merge(o)),r.error(new ne(o))};if(s.setDetectedContentType(t,p),n(t.headers)&&t.headers.forEach(function(e,t){return p.setRequestHeader(t,e.join(","))}),n(t.responseType)&&n(p.responseType))switch(t.responseType){case e.ResponseContentType.ArrayBuffer:p.responseType="arraybuffer";break;case e.ResponseContentType.Json:p.responseType="json";break;case e.ResponseContentType.Text:p.responseType="text";break;case e.ResponseContentType.Blob:p.responseType="blob";break;default:throw new Error("The selected responseType is not supported");}return p.addEventListener("load",l),p.addEventListener("error",d),p.send(s.request.getBody()),function(){p.removeEventListener("load",l),p.removeEventListener("error",d),p.abort()}})}return t.prototype.setDetectedContentType=function(e,t){if(!(n(e.headers)&&n(e.headers.get("Content-Type"))))switch(e.contentType){case V.NONE:break;case V.JSON:t.setRequestHeader("content-type","application/json");break;case V.FORM:t.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case V.TEXT:t.setRequestHeader("content-type","text/plain");break;case V.BLOB:var r=e.blob();r.type&&t.setRequestHeader("content-type",r.type);}},t}(),ce=function(){function e(e,t){void 0===e&&(e="XSRF-TOKEN"),void 0===t&&(t="X-XSRF-TOKEN"),this._cookieName=e,this._headerName=t}return e.prototype.configureRequest=function(e){var t=o.__platform_browser_private__.getDOM().getCookie(this._cookieName);t&&!e.headers.has(this._headerName)&&e.headers.set(this._headerName,t)},e}(),ue=function(){function e(e,t,r){this._browserXHR=e,this._baseResponseOptions=t,this._xsrfStrategy=r}return e.prototype.createConnection=function(e){return this._xsrfStrategy.configureRequest(e),new de(e,this._browserXHR,this._baseResponseOptions)},e}();ue.decorators=[{type:t.Injectable}],ue.ctorParameters=[{type:D},{type:X},{type:J}];var ye=function(){function e(e){var t=void 0===e?{}:e,r=t.method,o=t.headers,a=t.body,s=t.url,p=t.search,l=t.withCredentials,d=t.responseType;this.method=n(r)?f(r):null,this.headers=n(o)?o:null,this.body=n(a)?a:null,this.url=n(s)?s:null,this.search=n(p)?i(p)?new re(p):p:null,this.withCredentials=n(l)?l:null,this.responseType=n(d)?d:null}return e.prototype.merge=function(t){return new e({method:n(t)&&n(t.method)?t.method:this.method,headers:n(t)&&n(t.headers)?t.headers:this.headers,body:n(t)&&n(t.body)?t.body:this.body,url:n(t)&&n(t.url)?t.url:this.url,search:n(t)&&n(t.search)?i(t.search)?new re(t.search):t.search.clone():this.search,withCredentials:n(t)&&n(t.withCredentials)?t.withCredentials:this.withCredentials,responseType:n(t)&&n(t.responseType)?t.responseType:this.responseType})},e}(),me=function(t){function r(){t.call(this,{method:e.RequestMethod.Get,headers:new Q})}return __extends(r,t),r}(ye);me.decorators=[{type:t.Injectable}],me.ctorParameters=[];var ge=function(e){function t(t){e.call(this);var r=t.url;if(this.url=t.url,n(t.search)){var o=t.search.toString();if(0<o.length){var a="?";A.contains(this.url,"?")&&(a="&"==this.url[this.url.length-1]?"":"&"),this.url=r+a+o}}this._body=t.body,this.method=f(t.method),this.headers=new Q(t.headers),this.contentType=this.detectContentType(),this.withCredentials=t.withCredentials,this.responseType=t.responseType}return __extends(t,e),t.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return V.JSON;case"application/x-www-form-urlencoded":return V.FORM;case"multipart/form-data":return V.FORM_DATA;case"text/plain":case"text/html":return V.TEXT;case"application/octet-stream":return V.BLOB;default:return this.detectContentTypeFromBody();}},t.prototype.detectContentTypeFromBody=function(){return null==this._body?V.NONE:this._body instanceof re?V.FORM:this._body instanceof v?V.FORM_DATA:this._body instanceof w?V.BLOB:this._body instanceof be?V.ARRAY_BUFFER:this._body&&"object"==typeof this._body?V.JSON:V.TEXT},t.prototype.getBody=function(){switch(this.contentType){case V.JSON:return this.text();case V.FORM:return this.text();case V.FORM_DATA:return this._body;case V.TEXT:return this.text();case V.BLOB:return this.blob();case V.ARRAY_BUFFER:return this.arrayBuffer();default:return null;}},t}(oe),fe=function(){},he="object"==typeof window?window:fe,v=he.FormData||fe,w=he.Blob||fe,be=he.ArrayBuffer||fe,_e=function(){function t(e,t){this._backend=e,this._defaultOptions=t}return t.prototype.request=function(t,r){var o;if(i(t))o=C(this._backend,new ge(E(this._defaultOptions,r,e.RequestMethod.Get,t)));else if(t instanceof ge)o=C(this._backend,t);else throw m("First argument must be a url string or Request instance.");return o},t.prototype.get=function(t,r){return C(this._backend,new ge(E(this._defaultOptions,r,e.RequestMethod.Get,t)))},t.prototype.post=function(t,r,o){return C(this._backend,new ge(E(this._defaultOptions.merge(new ye({body:r})),o,e.RequestMethod.Post,t)))},t.prototype.put=function(t,r,o){return C(this._backend,new ge(E(this._defaultOptions.merge(new ye({body:r})),o,e.RequestMethod.Put,t)))},t.prototype.delete=function(t,r){return C(this._backend,new ge(E(this._defaultOptions,r,e.RequestMethod.Delete,t)))},t.prototype.patch=function(t,r,o){return C(this._backend,new ge(E(this._defaultOptions.merge(new ye({body:r})),o,e.RequestMethod.Patch,t)))},t.prototype.head=function(t,r){return C(this._backend,new ge(E(this._defaultOptions,r,e.RequestMethod.Head,t)))},t.prototype.options=function(t,r){return C(this._backend,new ge(E(this._defaultOptions,r,e.RequestMethod.Options,t)))},t}();_e.decorators=[{type:t.Injectable}],_e.ctorParameters=[{type:Y},{type:ye}];var ve=function(t){function r(e,r){t.call(this,e,r)}return __extends(r,t),r.prototype.request=function(t,r){var o;if(i(t)&&(t=new ge(E(this._defaultOptions,r,e.RequestMethod.Get,t))),t instanceof ge)t.method!==e.RequestMethod.Get&&m("JSONP requests must use GET request method."),o=C(this._backend,t);else throw m("First argument must be a url string or Request instance.");return o},r}(_e);ve.decorators=[{type:t.Injectable}],ve.ctorParameters=[{type:Y},{type:ye}];var Se=[{provide:_e,useFactory:T,deps:[ue,ye]},D,{provide:ye,useClass:me},{provide:X,useClass:Z},ue,{provide:J,useFactory:x}],Ce=[{provide:ve,useFactory:function(e,t){return new ve(e,t)},deps:[se,ye]},N,{provide:ye,useClass:me},{provide:X,useClass:Z},{provide:se,useClass:pe}],Ee=function(){return function(){}}();Ee.decorators=[{type:t.NgModule,args:[{providers:Se}]}];var xe=function(){return function(){}}();xe.decorators=[{type:t.NgModule,args:[{providers:Ce}]}],e.HTTP_PROVIDERS=Se,e._createDefaultCookieXSRFStrategy=x,e.httpFactory=T,e.HTTP_BINDINGS=Se,e.JSONP_PROVIDERS=Ce,e.JSON_BINDINGS=Ce,e.HttpModule=Ee,e.JsonpModule=xe,e.BrowserXhr=D,e.JSONPBackend=se,e.JSONPConnection=ae,e.CookieXSRFStrategy=ce,e.XHRBackend=ue,e.XHRConnection=de,e.BaseRequestOptions=me,e.RequestOptions=ye,e.BaseResponseOptions=Z,e.ResponseOptions=X,e.Headers=Q,e.Http=_e,e.Jsonp=ve,e.Connection=$,e.ConnectionBackend=Y,e.XSRFStrategy=J,e.Request=ge,e.Response=ne,e.QueryEncoder=te,e.URLSearchParams=re});